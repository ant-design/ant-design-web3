!(function(){var Ym=Object.defineProperty;var Qm=(R,c,l)=>c in R?Ym(R,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):R[c]=l;var k=(R,c,l)=>Qm(R,typeof c!="symbol"?c+"":c,l);(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[6195],{64230:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyType=void 0;var l;(function(f){f[f.ED25519=0]="ED25519"})(l=c.KeyType||(c.KeyType={}))},61125:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PublicKey=c.KeyPairEd25519=c.KeyPair=c.KeyType=void 0;var f=l(64230);Object.defineProperty(c,"KeyType",{enumerable:!0,get:function(){return f.KeyType}});var p=l(20181);Object.defineProperty(c,"KeyPair",{enumerable:!0,get:function(){return p.KeyPair}});var w=l(29624);Object.defineProperty(c,"KeyPairEd25519",{enumerable:!0,get:function(){return w.KeyPairEd25519}});var x=l(61624);Object.defineProperty(c,"PublicKey",{enumerable:!0,get:function(){return x.PublicKey}})},20181:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyPair=void 0;const f=l(61736),p=l(29624);class w extends f.KeyPairBase{static fromRandom(g){switch(g.toUpperCase()){case"ED25519":return p.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${g}`)}}static fromString(g){const y=g.split(":");if(y.length===1)return new p.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new p.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}c.KeyPair=w},61736:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyPairBase=void 0;class l{}c.KeyPairBase=l},29624:function(R,c,l){"use strict";var f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(c,"__esModule",{value:!0}),c.KeyPairEd25519=void 0;const p=l(48797),w=f(l(4790)),x=l(64230),g=l(61736),y=l(61624);class d extends g.KeyPairBase{constructor(v){super();const T=w.default.sign.keyPair.fromSecretKey((0,p.baseDecode)(v));this.publicKey=new y.PublicKey({keyType:x.KeyType.ED25519,data:T.publicKey}),this.secretKey=v}static fromRandom(){const v=w.default.sign.keyPair();return new d((0,p.baseEncode)(v.secretKey))}sign(v){return{signature:w.default.sign.detached(v,(0,p.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(v,T){return this.publicKey.verify(v,T)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}c.KeyPairEd25519=d},61624:function(R,c,l){"use strict";var f=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(c,"__esModule",{value:!0}),c.PublicKey=void 0;const p=l(95036),w=l(48797),x=f(l(4790)),g=l(64230);function y(v){switch(v){case g.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${v}`)}}function d(v){switch(v.toLowerCase()){case"ed25519":return g.KeyType.ED25519;default:throw new Error(`Unknown key type ${v}`)}}class S extends p.Assignable{static from(T){return typeof T=="string"?S.fromString(T):T}static fromString(T){const A=T.split(":");if(A.length===1)return new S({keyType:g.KeyType.ED25519,data:(0,w.baseDecode)(A[0])});if(A.length===2)return new S({keyType:d(A[0]),data:(0,w.baseDecode)(A[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,w.baseEncode)(this.data)}`}verify(T,A){switch(this.keyType){case g.KeyType.ED25519:return x.default.sign.detached.verify(T,A,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}c.PublicKey=S},76895:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyType=void 0;var l;(function(f){f[f.ED25519=0]="ED25519"})(l=c.KeyType||(c.KeyType={}))},38369:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PublicKey=c.KeyPairEd25519=c.KeyPair=c.KeyType=void 0;var f=l(76895);Object.defineProperty(c,"KeyType",{enumerable:!0,get:function(){return f.KeyType}});var p=l(89055);Object.defineProperty(c,"KeyPair",{enumerable:!0,get:function(){return p.KeyPair}});var w=l(75713);Object.defineProperty(c,"KeyPairEd25519",{enumerable:!0,get:function(){return w.KeyPairEd25519}});var x=l(77871);Object.defineProperty(c,"PublicKey",{enumerable:!0,get:function(){return x.PublicKey}})},89055:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyPair=void 0;const f=l(34980),p=l(75713);class w extends f.KeyPairBase{static fromRandom(g){switch(g.toUpperCase()){case"ED25519":return p.KeyPairEd25519.fromRandom();default:throw new Error(`Unknown curve ${g}`)}}static fromString(g){const y=g.split(":");if(y.length===1)return new p.KeyPairEd25519(y[0]);if(y.length===2)switch(y[0].toUpperCase()){case"ED25519":return new p.KeyPairEd25519(y[1]);default:throw new Error(`Unknown curve: ${y[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}c.KeyPair=w},34980:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyPairBase=void 0;class l{}c.KeyPairBase=l},75713:function(R,c,l){"use strict";var f=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(c,"__esModule",{value:!0}),c.KeyPairEd25519=void 0;const p=l(48797),w=f(l(4790)),x=l(76895),g=l(34980),y=l(77871);class d extends g.KeyPairBase{constructor(v){super();const T=w.default.sign.keyPair.fromSecretKey((0,p.baseDecode)(v));this.publicKey=new y.PublicKey({keyType:x.KeyType.ED25519,data:T.publicKey}),this.secretKey=v}static fromRandom(){const v=w.default.sign.keyPair();return new d((0,p.baseEncode)(v.secretKey))}sign(v){return{signature:w.default.sign.detached(v,(0,p.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(v,T){return this.publicKey.verify(v,T)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}c.KeyPairEd25519=d},77871:function(R,c,l){"use strict";var f=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(c,"__esModule",{value:!0}),c.PublicKey=void 0;const p=l(85918),w=l(48797),x=f(l(4790)),g=l(76895);function y(v){switch(v){case g.KeyType.ED25519:return"ed25519";default:throw new Error(`Unknown key type ${v}`)}}function d(v){switch(v.toLowerCase()){case"ed25519":return g.KeyType.ED25519;default:throw new Error(`Unknown key type ${v}`)}}class S extends p.Assignable{static from(T){return typeof T=="string"?S.fromString(T):T}static fromString(T){const A=T.split(":");if(A.length===1)return new S({keyType:g.KeyType.ED25519,data:(0,w.baseDecode)(A[0])});if(A.length===2)return new S({keyType:d(A[0]),data:(0,w.baseDecode)(A[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${y(this.keyType)}:${(0,w.baseEncode)(this.data)}`}verify(T,A){switch(this.keyType){case g.KeyType.ED25519:return x.default.sign.detached.verify(T,A,this.data);default:throw new Error(`Unknown key type ${this.keyType}`)}}}c.PublicKey=S},64091:function(R,c,l){"use strict";var f=this&&this.__awaiter||function(y,d,S,v){function T(A){return A instanceof S?A:new S(function(_){_(A)})}return new(S||(S=Promise))(function(A,_){function b(N){try{C(v.next(N))}catch(G){_(G)}}function P(N){try{C(v.throw(N))}catch(G){_(G)}}function C(N){N.done?A(N.value):T(N.value).then(b,P)}C((v=v.apply(y,d||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.BrowserLocalStorageKeyStore=void 0;const p=l(61125),w=l(38149),x="near-api-js:keystore:";class g extends w.KeyStore{constructor(d=window.localStorage,S=x){super(),this.localStorage=d,this.prefix=S}setKey(d,S,v){return f(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(d,S),v.toString())})}getKey(d,S){return f(this,void 0,void 0,function*(){const v=this.localStorage.getItem(this.storageKeyForSecretKey(d,S));return v?p.KeyPair.fromString(v):null})}removeKey(d,S){return f(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(d,S))})}clear(){return f(this,void 0,void 0,function*(){for(const d of this.storageKeys())d.startsWith(this.prefix)&&this.localStorage.removeItem(d)})}getNetworks(){return f(this,void 0,void 0,function*(){const d=new Set;for(const S of this.storageKeys())if(S.startsWith(this.prefix)){const v=S.substring(this.prefix.length).split(":");d.add(v[1])}return Array.from(d.values())})}getAccounts(d){return f(this,void 0,void 0,function*(){const S=new Array;for(const v of this.storageKeys())if(v.startsWith(this.prefix)){const T=v.substring(this.prefix.length).split(":");T[1]===d&&S.push(T[0])}return S})}storageKeyForSecretKey(d,S){return`${this.prefix}${S}:${d}`}*storageKeys(){for(let d=0;d<this.localStorage.length;d++)yield this.localStorage.key(d)}}c.BrowserLocalStorageKeyStore=g},67265:function(R,c,l){"use strict";var f;f={value:!0},c.X=void 0;var p=l(64091);Object.defineProperty(c,"X",{enumerable:!0,get:function(){return p.BrowserLocalStorageKeyStore}})},62384:function(R,c,l){"use strict";var f=this&&this.__awaiter||function(g,y,d,S){function v(T){return T instanceof d?T:new d(function(A){A(T)})}return new(d||(d=Promise))(function(T,A){function _(C){try{P(S.next(C))}catch(N){A(N)}}function b(C){try{P(S.throw(C))}catch(N){A(N)}}function P(C){C.done?T(C.value):v(C.value).then(_,b)}P((S=S.apply(g,y||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.InMemoryKeyStore=void 0;const p=l(61125),w=l(56363);class x extends w.KeyStore{constructor(){super(),this.keys={}}setKey(y,d,S){return f(this,void 0,void 0,function*(){this.keys[`${d}:${y}`]=S.toString()})}getKey(y,d){return f(this,void 0,void 0,function*(){const S=this.keys[`${d}:${y}`];return S?p.KeyPair.fromString(S):null})}removeKey(y,d){return f(this,void 0,void 0,function*(){delete this.keys[`${d}:${y}`]})}clear(){return f(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return f(this,void 0,void 0,function*(){const y=new Set;return Object.keys(this.keys).forEach(d=>{const S=d.split(":");y.add(S[1])}),Array.from(y.values())})}getAccounts(y){return f(this,void 0,void 0,function*(){const d=new Array;return Object.keys(this.keys).forEach(S=>{const v=S.split(":");v[v.length-1]===y&&d.push(v.slice(0,v.length-1).join(":"))}),d})}toString(){return"InMemoryKeyStore"}}c.InMemoryKeyStore=x},38149:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.MergeKeyStore=c.KeyStore=c.InMemoryKeyStore=void 0;var f=l(62384);Object.defineProperty(c,"InMemoryKeyStore",{enumerable:!0,get:function(){return f.InMemoryKeyStore}});var p=l(56363);Object.defineProperty(c,"KeyStore",{enumerable:!0,get:function(){return p.KeyStore}});var w=l(73917);Object.defineProperty(c,"MergeKeyStore",{enumerable:!0,get:function(){return w.MergeKeyStore}})},56363:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyStore=void 0;class l{}c.KeyStore=l},73917:function(R,c,l){"use strict";var f=this&&this.__awaiter||function(x,g,y,d){function S(v){return v instanceof y?v:new y(function(T){T(v)})}return new(y||(y=Promise))(function(v,T){function A(P){try{b(d.next(P))}catch(C){T(C)}}function _(P){try{b(d.throw(P))}catch(C){T(C)}}function b(P){P.done?v(P.value):S(P.value).then(A,_)}b((d=d.apply(x,g||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0}),c.MergeKeyStore=void 0;const p=l(56363);class w extends p.KeyStore{constructor(g,y={writeKeyStoreIndex:0}){super(),this.options=y,this.keyStores=g}setKey(g,y,d){return f(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(g,y,d)})}getKey(g,y){return f(this,void 0,void 0,function*(){for(const d of this.keyStores){const S=yield d.getKey(g,y);if(S)return S}return null})}removeKey(g,y){return f(this,void 0,void 0,function*(){for(const d of this.keyStores)yield d.removeKey(g,y)})}clear(){return f(this,void 0,void 0,function*(){for(const g of this.keyStores)yield g.clear()})}getNetworks(){return f(this,void 0,void 0,function*(){const g=new Set;for(const y of this.keyStores)for(const d of yield y.getNetworks())g.add(d);return Array.from(g)})}getAccounts(g){return f(this,void 0,void 0,function*(){const y=new Set;for(const d of this.keyStores)for(const S of yield d.getAccounts(g))y.add(S);return Array.from(y)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}c.MergeKeyStore=w},48788:function(R,c,l){"use strict";var f=l(55872).Buffer;Object.defineProperty(c,"__esModule",{value:!0}),c.actionCreators=c.stringifyJsonOrBytes=void 0;const p=l(7632);function w(){return new p.AccessKey({permission:new p.AccessKeyPermission({fullAccess:new p.FullAccessPermission({})})})}function x(C,N,G){return new p.AccessKey({permission:new p.AccessKeyPermission({functionCall:new p.FunctionCallPermission({receiverId:C,allowance:G,methodNames:N})})})}function g(){return new p.Action({createAccount:new p.CreateAccount({})})}function y(C){return new p.Action({deployContract:new p.DeployContract({code:C})})}function d(C){return C.byteLength!==void 0&&C.byteLength===C.length?C:f.from(JSON.stringify(C))}c.stringifyJsonOrBytes=d;function S(C,N,G,q,re=d,L=!1){return L?new p.Action({functionCall:new p.FunctionCall({methodName:C,args:N,gas:G,deposit:q})}):new p.Action({functionCall:new p.FunctionCall({methodName:C,args:re(N),gas:G,deposit:q})})}function v(C){return new p.Action({transfer:new p.Transfer({deposit:C})})}function T(C,N){return new p.Action({stake:new p.Stake({stake:C,publicKey:N})})}function A(C,N){return new p.Action({addKey:new p.AddKey({publicKey:C,accessKey:N})})}function _(C){return new p.Action({deleteKey:new p.DeleteKey({publicKey:C})})}function b(C){return new p.Action({deleteAccount:new p.DeleteAccount({beneficiaryId:C})})}function P({delegateAction:C,signature:N}){return new p.Action({signedDelegate:new p.SignedDelegate({delegateAction:C,signature:N})})}c.actionCreators={addKey:A,createAccount:g,deleteAccount:b,deleteKey:_,deployContract:y,fullAccessKey:w,functionCall:S,functionCallAccessKey:x,signedDelegate:P,stake:T,transfer:v}},7632:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Action=c.SignedDelegate=c.DeleteAccount=c.DeleteKey=c.AddKey=c.Stake=c.Transfer=c.FunctionCall=c.DeployContract=c.CreateAccount=c.IAction=c.AccessKey=c.AccessKeyPermission=c.FullAccessPermission=c.FunctionCallPermission=void 0;const f=l(85918);class p{constructor(re){if(Object.keys(re).length!==1)throw new Error("Enum can only take single value");Object.keys(re).map(L=>{this[L]=re[L],this.enum=L})}}class w extends f.Assignable{}c.FunctionCallPermission=w;class x extends f.Assignable{}c.FullAccessPermission=x;class g extends p{}c.AccessKeyPermission=g;class y extends f.Assignable{}c.AccessKey=y;class d extends f.Assignable{}c.IAction=d;class S extends d{}c.CreateAccount=S;class v extends d{}c.DeployContract=v;class T extends d{}c.FunctionCall=T;class A extends d{}c.Transfer=A;class _ extends d{}c.Stake=_;class b extends d{}c.AddKey=b;class P extends d{}c.DeleteKey=P;class C extends d{}c.DeleteAccount=C;class N extends d{}c.SignedDelegate=N;class G extends p{}c.Action=G},51084:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.createTransaction=void 0;const f=l(56855);function p(w,x,g,y,d,S){return new f.Transaction({signerId:w,publicKey:x,nonce:y,receiverId:g,actions:d,blockHash:S})}c.createTransaction=p},72864:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.buildDelegateAction=c.DelegateAction=void 0;const f=l(85918);class p extends f.Assignable{}c.DelegateAction=p;function w({actions:x,maxBlockHeight:g,nonce:y,publicKey:d,receiverId:S,senderId:v}){return new p({senderId:v,receiverId:S,actions:x,nonce:y,maxBlockHeight:g,publicKey:d})}c.buildDelegateAction=w},7782:function(R,c,l){"use strict";var f=this&&this.__createBinding||(Object.create?function(w,x,g,y){y===void 0&&(y=g);var d=Object.getOwnPropertyDescriptor(x,g);(!d||("get"in d?!x.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return x[g]}}),Object.defineProperty(w,y,d)}:function(w,x,g,y){y===void 0&&(y=g),w[y]=x[g]}),p=this&&this.__exportStar||function(w,x){for(var g in w)g!=="default"&&!Object.prototype.hasOwnProperty.call(x,g)&&f(x,w,g)};Object.defineProperty(c,"__esModule",{value:!0}),p(l(48788),c),p(l(7632),c),p(l(51084),c),p(l(72864),c),p(l(56855),c),p(l(65086),c),p(l(6409),c)},59659:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.DelegateActionPrefix=void 0;const f=l(85918),p=Math.pow(2,30),w={MetaTransactions:366};class x extends f.Assignable{}class g extends x{constructor(S){super({prefix:p+S})}}class y extends g{constructor(){super(w.MetaTransactions)}}c.DelegateActionPrefix=y},56855:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SCHEMA=c.SignedTransaction=c.Transaction=c.decodeSignedTransaction=c.decodeTransaction=c.encodeTransaction=c.encodeSignedDelegate=c.encodeDelegateAction=void 0;const f=l(38369),p=l(85918),w=l(48797),x=l(7632),g=l(72864),y=l(59659),d=l(6409);function S(C){return new Uint8Array([...(0,w.serialize)(c.SCHEMA,new y.DelegateActionPrefix),...(0,w.serialize)(c.SCHEMA,C)])}c.encodeDelegateAction=S;function v(C){return(0,w.serialize)(c.SCHEMA,C)}c.encodeSignedDelegate=v;function T(C){return(0,w.serialize)(c.SCHEMA,C)}c.encodeTransaction=T;function A(C){return(0,w.deserialize)(c.SCHEMA,b,C)}c.decodeTransaction=A;function _(C){return(0,w.deserialize)(c.SCHEMA,P,C)}c.decodeSignedTransaction=_;class b extends p.Assignable{encode(){return T(this)}static decode(N){return A(N)}}c.Transaction=b;class P extends p.Assignable{encode(){return T(this)}static decode(N){return _(N)}}c.SignedTransaction=P,c.SCHEMA=new Map([[d.Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[P,{kind:"struct",fields:[["transaction",b],["signature",d.Signature]]}],[b,{kind:"struct",fields:[["signerId","string"],["publicKey",f.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[x.Action]]]}],[f.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[x.AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",x.AccessKeyPermission]]}],[x.AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",x.FunctionCallPermission],["fullAccess",x.FullAccessPermission]]}],[x.FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[x.FullAccessPermission,{kind:"struct",fields:[]}],[x.Action,{kind:"enum",field:"enum",values:[["createAccount",x.CreateAccount],["deployContract",x.DeployContract],["functionCall",x.FunctionCall],["transfer",x.Transfer],["stake",x.Stake],["addKey",x.AddKey],["deleteKey",x.DeleteKey],["deleteAccount",x.DeleteAccount],["signedDelegate",x.SignedDelegate]]}],[x.CreateAccount,{kind:"struct",fields:[]}],[x.DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[x.FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[x.Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[x.Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",f.PublicKey]]}],[x.AddKey,{kind:"struct",fields:[["publicKey",f.PublicKey],["accessKey",x.AccessKey]]}],[x.DeleteKey,{kind:"struct",fields:[["publicKey",f.PublicKey]]}],[x.DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}],[g.DelegateAction,{kind:"struct",fields:[["senderId","string"],["receiverId","string"],["actions",[x.Action]],["nonce","u64"],["maxBlockHeight","u64"],["publicKey",f.PublicKey]]}],[y.DelegateActionPrefix,{kind:"struct",fields:[["prefix","u32"]]}],[x.SignedDelegate,{kind:"struct",fields:[["delegateAction",g.DelegateAction],["signature",d.Signature]]}]])},65086:function(R,c,l){"use strict";var f=this&&this.__awaiter||function(A,_,b,P){function C(N){return N instanceof b?N:new b(function(G){G(N)})}return new(b||(b=Promise))(function(N,G){function q(W){try{L(P.next(W))}catch(j){G(j)}}function re(W){try{L(P.throw(W))}catch(j){G(j)}}function L(W){W.done?N(W.value):C(W.value).then(q,re)}L((P=P.apply(A,_||[])).next())})},p=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(c,"__esModule",{value:!0}),c.signDelegateAction=c.signTransaction=void 0;const w=p(l(3541)),x=l(7632),g=l(51084),y=l(56855),d=l(6409);function S(A,_,b,P){return f(this,void 0,void 0,function*(){const C=(0,y.encodeTransaction)(A),N=new Uint8Array(w.default.sha256.array(C)),G=yield _.signMessage(C,b,P),q=new y.SignedTransaction({transaction:A,signature:new d.Signature({keyType:A.publicKey.keyType,data:G.signature})});return[N,q]})}function v(...A){return f(this,void 0,void 0,function*(){if(A[0].constructor===y.Transaction){const[_,b,P,C]=A;return S(_,b,P,C)}else{const[_,b,P,C,N,G,q]=A,re=yield N.getPublicKey(G,q),L=(0,g.createTransaction)(G,re,_,b,P,C);return S(L,N,G,q)}})}c.signTransaction=v;function T({delegateAction:A,signer:_}){return f(this,void 0,void 0,function*(){const b=(0,y.encodeDelegateAction)(A),P=yield _.sign(b),C=new x.SignedDelegate({delegateAction:A,signature:new d.Signature({keyType:A.publicKey.keyType,data:P})});return{hash:new Uint8Array(w.default.sha256.array(b)),signedDelegateAction:C}})}c.signDelegateAction=T},6409:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Signature=void 0;const f=l(85918);class p extends f.Assignable{}c.Signature=p},99491:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Assignable=void 0;class l{constructor(p){Object.keys(p).map(w=>{this[w]=p[w]})}}c.Assignable=l},84770:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ErrorContext=c.TypedError=c.ArgumentTypeError=c.PositionalArgsError=void 0;class l extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}c.PositionalArgsError=l;class f extends Error{constructor(g,y,d){super(`Expected ${y} for '${g}' argument, but got '${JSON.stringify(d)}'`)}}c.ArgumentTypeError=f;class p extends Error{constructor(g,y,d){super(g),this.type=y||"UntypedError",this.context=d}}c.TypedError=p;class w{constructor(g){this.transactionHash=g}}c.ErrorContext=w},95036:function(R,c,l){"use strict";var f=this&&this.__createBinding||(Object.create?function(w,x,g,y){y===void 0&&(y=g);var d=Object.getOwnPropertyDescriptor(x,g);(!d||("get"in d?!x.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return x[g]}}),Object.defineProperty(w,y,d)}:function(w,x,g,y){y===void 0&&(y=g),w[y]=x[g]}),p=this&&this.__exportStar||function(w,x){for(var g in w)g!=="default"&&!Object.prototype.hasOwnProperty.call(x,g)&&f(x,w,g)};Object.defineProperty(c,"__esModule",{value:!0}),p(l(99491),c),p(l(84770),c),p(l(61721),c)},61721:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FinalExecutionStatusBasic=c.ExecutionStatusBasic=c.IdType=void 0;var f=l(88297);Object.defineProperty(c,"IdType",{enumerable:!0,get:function(){return f.IdType}});var p=l(20862);Object.defineProperty(c,"ExecutionStatusBasic",{enumerable:!0,get:function(){return p.ExecutionStatusBasic}}),Object.defineProperty(c,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return p.FinalExecutionStatusBasic}})},88297:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IdType=void 0;var l;(function(f){f.Transaction="transaction",f.Receipt="receipt"})(l=c.IdType||(c.IdType={}))},20862:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FinalExecutionStatusBasic=c.ExecutionStatusBasic=void 0;var l;(function(p){p.Unknown="Unknown",p.Pending="Pending",p.Failure="Failure"})(l=c.ExecutionStatusBasic||(c.ExecutionStatusBasic={}));var f;(function(p){p.NotStarted="NotStarted",p.Started="Started",p.Failure="Failure"})(f=c.FinalExecutionStatusBasic||(c.FinalExecutionStatusBasic={}))},94510:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Assignable=void 0;class l{constructor(p){Object.keys(p).map(w=>{this[w]=p[w]})}}c.Assignable=l},65499:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ErrorContext=c.TypedError=c.ArgumentTypeError=c.PositionalArgsError=void 0;class l extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}c.PositionalArgsError=l;class f extends Error{constructor(g,y,d){super(`Expected ${y} for '${g}' argument, but got '${JSON.stringify(d)}'`)}}c.ArgumentTypeError=f;class p extends Error{constructor(g,y,d){super(g),this.type=y||"UntypedError",this.context=d}}c.TypedError=p;class w{constructor(g){this.transactionHash=g}}c.ErrorContext=w},85918:function(R,c,l){"use strict";var f=this&&this.__createBinding||(Object.create?function(w,x,g,y){y===void 0&&(y=g);var d=Object.getOwnPropertyDescriptor(x,g);(!d||("get"in d?!x.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return x[g]}}),Object.defineProperty(w,y,d)}:function(w,x,g,y){y===void 0&&(y=g),w[y]=x[g]}),p=this&&this.__exportStar||function(w,x){for(var g in w)g!=="default"&&!Object.prototype.hasOwnProperty.call(x,g)&&f(x,w,g)};Object.defineProperty(c,"__esModule",{value:!0}),p(l(94510),c),p(l(65499),c),p(l(90835),c)},90835:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FinalExecutionStatusBasic=c.ExecutionStatusBasic=c.IdType=void 0;var f=l(42164);Object.defineProperty(c,"IdType",{enumerable:!0,get:function(){return f.IdType}});var p=l(6595);Object.defineProperty(c,"ExecutionStatusBasic",{enumerable:!0,get:function(){return p.ExecutionStatusBasic}}),Object.defineProperty(c,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return p.FinalExecutionStatusBasic}})},42164:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.IdType=void 0;var l;(function(f){f.Transaction="transaction",f.Receipt="receipt"})(l=c.IdType||(c.IdType={}))},6595:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FinalExecutionStatusBasic=c.ExecutionStatusBasic=void 0;var l;(function(p){p.Unknown="Unknown",p.Pending="Pending",p.Failure="Failure"})(l=c.ExecutionStatusBasic||(c.ExecutionStatusBasic={}));var f;(function(p){p.NotStarted="NotStarted",p.Started="Started",p.Failure="Failure"})(f=c.FinalExecutionStatusBasic||(c.FinalExecutionStatusBasic={}))},69031:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.output=c.exists=c.hash=c.bytes=c.bool=c.number=void 0;function l(d){if(!Number.isSafeInteger(d)||d<0)throw new Error(`Wrong positive integer: ${d}`)}c.number=l;function f(d){if(typeof d!="boolean")throw new Error(`Expected boolean, not ${d}`)}c.bool=f;function p(d,...S){if(!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length>0&&!S.includes(d.length))throw new TypeError(`Expected Uint8Array of length ${S}, not of length=${d.length}`)}c.bytes=p;function w(d){if(typeof d!="function"||typeof d.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l(d.outputLen),l(d.blockLen)}c.hash=w;function x(d,S=!0){if(d.destroyed)throw new Error("Hash instance has been destroyed");if(S&&d.finished)throw new Error("Hash#digest() has already been called")}c.exists=x;function g(d,S){p(d);const v=S.outputLen;if(d.length<v)throw new Error(`digestInto() expects output buffer of length at least ${v}`)}c.output=g;const y={number:l,bool:f,bytes:p,hash:w,exists:x,output:g};c.default=y},52606:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.SHA2=void 0;const f=l(69031),p=l(17767);function w(g,y,d,S){if(typeof g.setBigUint64=="function")return g.setBigUint64(y,d,S);const v=BigInt(32),T=BigInt(4294967295),A=Number(d>>v&T),_=Number(d&T),b=S?4:0,P=S?0:4;g.setUint32(y+b,A,S),g.setUint32(y+P,_,S)}class x extends p.Hash{constructor(y,d,S,v){super(),this.blockLen=y,this.outputLen=d,this.padOffset=S,this.isLE=v,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(y),this.view=(0,p.createView)(this.buffer)}update(y){f.default.exists(this);const{view:d,buffer:S,blockLen:v}=this;y=(0,p.toBytes)(y);const T=y.length;for(let A=0;A<T;){const _=Math.min(v-this.pos,T-A);if(_===v){const b=(0,p.createView)(y);for(;v<=T-A;A+=v)this.process(b,A);continue}S.set(y.subarray(A,A+_),this.pos),this.pos+=_,A+=_,this.pos===v&&(this.process(d,0),this.pos=0)}return this.length+=y.length,this.roundClean(),this}digestInto(y){f.default.exists(this),f.default.output(y,this),this.finished=!0;const{buffer:d,view:S,blockLen:v,isLE:T}=this;let{pos:A}=this;d[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>v-A&&(this.process(S,0),A=0);for(let b=A;b<v;b++)d[b]=0;w(S,v-8,BigInt(this.length*8),T),this.process(S,0);const _=(0,p.createView)(y);this.get().forEach((b,P)=>_.setUint32(4*P,b,T))}digest(){const{buffer:y,outputLen:d}=this;this.digestInto(y);const S=y.slice(0,d);return this.destroy(),S}_cloneInto(y){y||(y=new this.constructor),y.set(...this.get());const{blockLen:d,buffer:S,length:v,finished:T,destroyed:A,pos:_}=this;return y.length=v,y.pos=_,y.finished=T,y.destroyed=A,v%d&&y.buffer.set(S),y}}c.SHA2=x},59561:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.add=c.toBig=c.split=c.fromBig=void 0;const l=BigInt(2**32-1),f=BigInt(32);function p(te,ae=!1){return ae?{h:Number(te&l),l:Number(te>>f&l)}:{h:Number(te>>f&l)|0,l:Number(te&l)|0}}c.fromBig=p;function w(te,ae=!1){let U=new Uint32Array(te.length),J=new Uint32Array(te.length);for(let V=0;V<te.length;V++){const{h:ee,l:fe}=p(te[V],ae);[U[V],J[V]]=[ee,fe]}return[U,J]}c.split=w;const x=(te,ae)=>BigInt(te>>>0)<<f|BigInt(ae>>>0);c.toBig=x;const g=(te,ae,U)=>te>>>U,y=(te,ae,U)=>te<<32-U|ae>>>U,d=(te,ae,U)=>te>>>U|ae<<32-U,S=(te,ae,U)=>te<<32-U|ae>>>U,v=(te,ae,U)=>te<<64-U|ae>>>U-32,T=(te,ae,U)=>te>>>U-32|ae<<64-U,A=(te,ae)=>ae,_=(te,ae)=>te,b=(te,ae,U)=>te<<U|ae>>>32-U,P=(te,ae,U)=>ae<<U|te>>>32-U,C=(te,ae,U)=>ae<<U-32|te>>>64-U,N=(te,ae,U)=>te<<U-32|ae>>>64-U;function G(te,ae,U,J){const V=(ae>>>0)+(J>>>0);return{h:te+U+(V/2**32|0)|0,l:V|0}}c.add=G;const q=(te,ae,U)=>(te>>>0)+(ae>>>0)+(U>>>0),re=(te,ae,U,J)=>ae+U+J+(te/2**32|0)|0,L=(te,ae,U,J)=>(te>>>0)+(ae>>>0)+(U>>>0)+(J>>>0),W=(te,ae,U,J,V)=>ae+U+J+V+(te/2**32|0)|0,j=(te,ae,U,J,V)=>(te>>>0)+(ae>>>0)+(U>>>0)+(J>>>0)+(V>>>0),Q=(te,ae,U,J,V,ee)=>ae+U+J+V+ee+(te/2**32|0)|0,ue={fromBig:p,split:w,toBig:c.toBig,shrSH:g,shrSL:y,rotrSH:d,rotrSL:S,rotrBH:v,rotrBL:T,rotr32H:A,rotr32L:_,rotlSH:b,rotlSL:P,rotlBH:C,rotlBL:N,add:G,add3L:q,add3H:re,add4L:L,add4H:W,add5H:Q,add5L:j};c.default=ue},31215:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.crypto=void 0,c.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}},18023:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.hmac=void 0;const f=l(69031),p=l(17767);class w extends p.Hash{constructor(y,d){super(),this.finished=!1,this.destroyed=!1,f.default.hash(y);const S=(0,p.toBytes)(d);if(this.iHash=y.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const v=this.blockLen,T=new Uint8Array(v);T.set(S.length>v?y.create().update(S).digest():S);for(let A=0;A<T.length;A++)T[A]^=54;this.iHash.update(T),this.oHash=y.create();for(let A=0;A<T.length;A++)T[A]^=106;this.oHash.update(T),T.fill(0)}update(y){return f.default.exists(this),this.iHash.update(y),this}digestInto(y){f.default.exists(this),f.default.bytes(y,this.outputLen),this.finished=!0,this.iHash.digestInto(y),this.oHash.update(y),this.oHash.digestInto(y),this.destroy()}digest(){const y=new Uint8Array(this.oHash.outputLen);return this.digestInto(y),y}_cloneInto(y){y||(y=Object.create(Object.getPrototypeOf(this),{}));const{oHash:d,iHash:S,finished:v,destroyed:T,blockLen:A,outputLen:_}=this;return y=y,y.finished=v,y.destroyed=T,y.blockLen=A,y.outputLen=_,y.oHash=d._cloneInto(y.oHash),y.iHash=S._cloneInto(y.iHash),y}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const x=(g,y,d)=>new w(g,y).update(d).digest();c.hmac=x,c.hmac.create=(g,y)=>new w(g,y)},53122:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.pbkdf2Async=c.pbkdf2=void 0;const f=l(69031),p=l(18023),w=l(17767);function x(S,v,T,A){f.default.hash(S);const _=(0,w.checkOpts)({dkLen:32,asyncTick:10},A),{c:b,dkLen:P,asyncTick:C}=_;if(f.default.number(b),f.default.number(P),f.default.number(C),b<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const N=(0,w.toBytes)(v),G=(0,w.toBytes)(T),q=new Uint8Array(P),re=p.hmac.create(S,N),L=re._cloneInto().update(G);return{c:b,dkLen:P,asyncTick:C,DK:q,PRF:re,PRFSalt:L}}function g(S,v,T,A,_){return S.destroy(),v.destroy(),A&&A.destroy(),_.fill(0),T}function y(S,v,T,A){const{c:_,dkLen:b,DK:P,PRF:C,PRFSalt:N}=x(S,v,T,A);let G;const q=new Uint8Array(4),re=(0,w.createView)(q),L=new Uint8Array(C.outputLen);for(let W=1,j=0;j<b;W++,j+=C.outputLen){const Q=P.subarray(j,j+C.outputLen);re.setInt32(0,W,!1),(G=N._cloneInto(G)).update(q).digestInto(L),Q.set(L.subarray(0,Q.length));for(let ue=1;ue<_;ue++){C._cloneInto(G).update(L).digestInto(L);for(let te=0;te<Q.length;te++)Q[te]^=L[te]}}return g(C,N,P,G,L)}c.pbkdf2=y;async function d(S,v,T,A){const{c:_,dkLen:b,asyncTick:P,DK:C,PRF:N,PRFSalt:G}=x(S,v,T,A);let q;const re=new Uint8Array(4),L=(0,w.createView)(re),W=new Uint8Array(N.outputLen);for(let j=1,Q=0;Q<b;j++,Q+=N.outputLen){const ue=C.subarray(Q,Q+N.outputLen);L.setInt32(0,j,!1),(q=G._cloneInto(q)).update(re).digestInto(W),ue.set(W.subarray(0,ue.length)),await(0,w.asyncLoop)(_-1,P,te=>{N._cloneInto(q).update(W).digestInto(W);for(let ae=0;ae<ue.length;ae++)ue[ae]^=W[ae]})}return g(N,G,C,q,W)}c.pbkdf2Async=d},34357:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sha256=void 0;const f=l(52606),p=l(17767),w=(v,T,A)=>v&T^~v&A,x=(v,T,A)=>v&T^v&A^T&A,g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),d=new Uint32Array(64);class S extends f.SHA2{constructor(){super(64,32,8,!1),this.A=y[0]|0,this.B=y[1]|0,this.C=y[2]|0,this.D=y[3]|0,this.E=y[4]|0,this.F=y[5]|0,this.G=y[6]|0,this.H=y[7]|0}get(){const{A:T,B:A,C:_,D:b,E:P,F:C,G:N,H:G}=this;return[T,A,_,b,P,C,N,G]}set(T,A,_,b,P,C,N,G){this.A=T|0,this.B=A|0,this.C=_|0,this.D=b|0,this.E=P|0,this.F=C|0,this.G=N|0,this.H=G|0}process(T,A){for(let L=0;L<16;L++,A+=4)d[L]=T.getUint32(A,!1);for(let L=16;L<64;L++){const W=d[L-15],j=d[L-2],Q=(0,p.rotr)(W,7)^(0,p.rotr)(W,18)^W>>>3,ue=(0,p.rotr)(j,17)^(0,p.rotr)(j,19)^j>>>10;d[L]=ue+d[L-7]+Q+d[L-16]|0}let{A:_,B:b,C:P,D:C,E:N,F:G,G:q,H:re}=this;for(let L=0;L<64;L++){const W=(0,p.rotr)(N,6)^(0,p.rotr)(N,11)^(0,p.rotr)(N,25),j=re+W+w(N,G,q)+g[L]+d[L]|0,ue=((0,p.rotr)(_,2)^(0,p.rotr)(_,13)^(0,p.rotr)(_,22))+x(_,b,P)|0;re=q,q=G,G=N,N=C+j|0,C=P,P=b,b=_,_=j+ue|0}_=_+this.A|0,b=b+this.B|0,P=P+this.C|0,C=C+this.D|0,N=N+this.E|0,G=G+this.F|0,q=q+this.G|0,re=re+this.H|0,this.set(_,b,P,C,N,G,q,re)}roundClean(){d.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}c.sha256=(0,p.wrapConstructor)(()=>new S)},54878:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.sha384=c.sha512_256=c.sha512=c.SHA512=void 0;const f=l(52606),p=l(59561),w=l(17767),[x,g]=p.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(A=>BigInt(A))),y=new Uint32Array(80),d=new Uint32Array(80);class S extends f.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:_,Al:b,Bh:P,Bl:C,Ch:N,Cl:G,Dh:q,Dl:re,Eh:L,El:W,Fh:j,Fl:Q,Gh:ue,Gl:te,Hh:ae,Hl:U}=this;return[_,b,P,C,N,G,q,re,L,W,j,Q,ue,te,ae,U]}set(_,b,P,C,N,G,q,re,L,W,j,Q,ue,te,ae,U){this.Ah=_|0,this.Al=b|0,this.Bh=P|0,this.Bl=C|0,this.Ch=N|0,this.Cl=G|0,this.Dh=q|0,this.Dl=re|0,this.Eh=L|0,this.El=W|0,this.Fh=j|0,this.Fl=Q|0,this.Gh=ue|0,this.Gl=te|0,this.Hh=ae|0,this.Hl=U|0}process(_,b){for(let ee=0;ee<16;ee++,b+=4)y[ee]=_.getUint32(b),d[ee]=_.getUint32(b+=4);for(let ee=16;ee<80;ee++){const fe=y[ee-15]|0,de=d[ee-15]|0,H=p.default.rotrSH(fe,de,1)^p.default.rotrSH(fe,de,8)^p.default.shrSH(fe,de,7),I=p.default.rotrSL(fe,de,1)^p.default.rotrSL(fe,de,8)^p.default.shrSL(fe,de,7),D=y[ee-2]|0,X=d[ee-2]|0,z=p.default.rotrSH(D,X,19)^p.default.rotrBH(D,X,61)^p.default.shrSH(D,X,6),F=p.default.rotrSL(D,X,19)^p.default.rotrBL(D,X,61)^p.default.shrSL(D,X,6),ie=p.default.add4L(I,F,d[ee-7],d[ee-16]),ve=p.default.add4H(ie,H,z,y[ee-7],y[ee-16]);y[ee]=ve|0,d[ee]=ie|0}let{Ah:P,Al:C,Bh:N,Bl:G,Ch:q,Cl:re,Dh:L,Dl:W,Eh:j,El:Q,Fh:ue,Fl:te,Gh:ae,Gl:U,Hh:J,Hl:V}=this;for(let ee=0;ee<80;ee++){const fe=p.default.rotrSH(j,Q,14)^p.default.rotrSH(j,Q,18)^p.default.rotrBH(j,Q,41),de=p.default.rotrSL(j,Q,14)^p.default.rotrSL(j,Q,18)^p.default.rotrBL(j,Q,41),H=j&ue^~j&ae,I=Q&te^~Q&U,D=p.default.add5L(V,de,I,g[ee],d[ee]),X=p.default.add5H(D,J,fe,H,x[ee],y[ee]),z=D|0,F=p.default.rotrSH(P,C,28)^p.default.rotrBH(P,C,34)^p.default.rotrBH(P,C,39),ie=p.default.rotrSL(P,C,28)^p.default.rotrBL(P,C,34)^p.default.rotrBL(P,C,39),ve=P&N^P&q^N&q,be=C&G^C&re^G&re;J=ae|0,V=U|0,ae=ue|0,U=te|0,ue=j|0,te=Q|0,{h:j,l:Q}=p.default.add(L|0,W|0,X|0,z|0),L=q|0,W=re|0,q=N|0,re=G|0,N=P|0,G=C|0;const ge=p.default.add3L(z,ie,be);P=p.default.add3H(ge,X,F,ve),C=ge|0}({h:P,l:C}=p.default.add(this.Ah|0,this.Al|0,P|0,C|0)),{h:N,l:G}=p.default.add(this.Bh|0,this.Bl|0,N|0,G|0),{h:q,l:re}=p.default.add(this.Ch|0,this.Cl|0,q|0,re|0),{h:L,l:W}=p.default.add(this.Dh|0,this.Dl|0,L|0,W|0),{h:j,l:Q}=p.default.add(this.Eh|0,this.El|0,j|0,Q|0),{h:ue,l:te}=p.default.add(this.Fh|0,this.Fl|0,ue|0,te|0),{h:ae,l:U}=p.default.add(this.Gh|0,this.Gl|0,ae|0,U|0),{h:J,l:V}=p.default.add(this.Hh|0,this.Hl|0,J|0,V|0),this.set(P,C,N,G,q,re,L,W,j,Q,ue,te,ae,U,J,V)}roundClean(){y.fill(0),d.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}c.SHA512=S;class v extends S{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class T extends S{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}c.sha512=(0,w.wrapConstructor)(()=>new S),c.sha512_256=(0,w.wrapConstructor)(()=>new v),c.sha384=(0,w.wrapConstructor)(()=>new T)},17767:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.randomBytes=c.wrapConstructorWithOpts=c.wrapConstructor=c.checkOpts=c.Hash=c.concatBytes=c.toBytes=c.utf8ToBytes=c.asyncLoop=c.nextTick=c.hexToBytes=c.bytesToHex=c.isLE=c.rotr=c.createView=c.u32=c.u8=void 0;const f=l(31215),p=L=>new Uint8Array(L.buffer,L.byteOffset,L.byteLength);c.u8=p;const w=L=>new Uint32Array(L.buffer,L.byteOffset,Math.floor(L.byteLength/4));c.u32=w;const x=L=>new DataView(L.buffer,L.byteOffset,L.byteLength);c.createView=x;const g=(L,W)=>L<<32-W|L>>>W;if(c.rotr=g,c.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!c.isLE)throw new Error("Non little-endian hardware is not supported");const y=Array.from({length:256},(L,W)=>W.toString(16).padStart(2,"0"));function d(L){if(!(L instanceof Uint8Array))throw new Error("Uint8Array expected");let W="";for(let j=0;j<L.length;j++)W+=y[L[j]];return W}c.bytesToHex=d;function S(L){if(typeof L!="string")throw new TypeError("hexToBytes: expected string, got "+typeof L);if(L.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const W=new Uint8Array(L.length/2);for(let j=0;j<W.length;j++){const Q=j*2,ue=L.slice(Q,Q+2),te=Number.parseInt(ue,16);if(Number.isNaN(te)||te<0)throw new Error("Invalid byte sequence");W[j]=te}return W}c.hexToBytes=S;const v=async()=>{};c.nextTick=v;async function T(L,W,j){let Q=Date.now();for(let ue=0;ue<L;ue++){j(ue);const te=Date.now()-Q;te>=0&&te<W||(await(0,c.nextTick)(),Q+=te)}}c.asyncLoop=T;function A(L){if(typeof L!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof L}`);return new TextEncoder().encode(L)}c.utf8ToBytes=A;function _(L){if(typeof L=="string"&&(L=A(L)),!(L instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof L})`);return L}c.toBytes=_;function b(...L){if(!L.every(Q=>Q instanceof Uint8Array))throw new Error("Uint8Array list expected");if(L.length===1)return L[0];const W=L.reduce((Q,ue)=>Q+ue.length,0),j=new Uint8Array(W);for(let Q=0,ue=0;Q<L.length;Q++){const te=L[Q];j.set(te,ue),ue+=te.length}return j}c.concatBytes=b;class P{clone(){return this._cloneInto()}}c.Hash=P;const C=L=>Object.prototype.toString.call(L)==="[object Object]"&&L.constructor===Object;function N(L,W){if(W!==void 0&&(typeof W!="object"||!C(W)))throw new TypeError("Options should be object or undefined");return Object.assign(L,W)}c.checkOpts=N;function G(L){const W=Q=>L().update(_(Q)).digest(),j=L();return W.outputLen=j.outputLen,W.blockLen=j.blockLen,W.create=()=>L(),W}c.wrapConstructor=G;function q(L){const W=(Q,ue)=>L(ue).update(_(Q)).digest(),j=L({});return W.outputLen=j.outputLen,W.blockLen=j.blockLen,W.create=Q=>L(Q),W}c.wrapConstructorWithOpts=q;function re(L=32){if(f.crypto.web)return f.crypto.web.getRandomValues(new Uint8Array(L));if(f.crypto.node)return new Uint8Array(f.crypto.node.randomBytes(L).buffer);throw new Error("The environment doesn't have randomBytes function")}c.randomBytes=re},55158:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.bytes=c.stringToBytes=c.str=c.bytesToString=c.hex=c.utf8=c.bech32m=c.bech32=c.base58check=c.createBase58check=c.base58xmr=c.base58xrp=c.base58flickr=c.base58=c.base64urlnopad=c.base64url=c.base64nopad=c.base64=c.base32crockford=c.base32hexnopad=c.base32hex=c.base32nopad=c.base32=c.base16=c.utils=void 0,c.assertNumber=l;function l(U){if(!Number.isSafeInteger(U))throw new Error(`Wrong integer: ${U}`)}function f(U){return U instanceof Uint8Array||U!=null&&typeof U=="object"&&U.constructor.name==="Uint8Array"}function p(...U){const J=de=>de,V=(de,H)=>I=>de(H(I)),ee=U.map(de=>de.encode).reduceRight(V,J),fe=U.map(de=>de.decode).reduce(V,J);return{encode:ee,decode:fe}}function w(U){return{encode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return J.map(V=>{if(V<0||V>=U.length)throw new Error(`Digit index outside alphabet: ${V} (alphabet: ${U.length})`);return U[V]})},decode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("alphabet.decode input should be array of strings");return J.map(V=>{if(typeof V!="string")throw new Error(`alphabet.decode: not string element=${V}`);const ee=U.indexOf(V);if(ee===-1)throw new Error(`Unknown letter: "${V}". Allowed: ${U}`);return ee})}}}function x(U=""){if(typeof U!="string")throw new Error("join separator should be string");return{encode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="string")throw new Error("join.encode input should be array of strings");for(let V of J)if(typeof V!="string")throw new Error(`join.encode: non-string input=${V}`);return J.join(U)},decode:J=>{if(typeof J!="string")throw new Error("join.decode input should be string");return J.split(U)}}}function g(U,J="="){if(typeof J!="string")throw new Error("padding chr should be string");return{encode(V){if(!Array.isArray(V)||V.length&&typeof V[0]!="string")throw new Error("padding.encode input should be array of strings");for(let ee of V)if(typeof ee!="string")throw new Error(`padding.encode: non-string input=${ee}`);for(;V.length*U%8;)V.push(J);return V},decode(V){if(!Array.isArray(V)||V.length&&typeof V[0]!="string")throw new Error("padding.encode input should be array of strings");for(let fe of V)if(typeof fe!="string")throw new Error(`padding.decode: non-string input=${fe}`);let ee=V.length;if(ee*U%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;ee>0&&V[ee-1]===J;ee--)if(!((ee-1)*U%8))throw new Error("Invalid padding: string has too much padding");return V.slice(0,ee)}}}function y(U){if(typeof U!="function")throw new Error("normalize fn should be function");return{encode:J=>J,decode:J=>U(J)}}function d(U,J,V){if(J<2)throw new Error(`convertRadix: wrong from=${J}, base cannot be less than 2`);if(V<2)throw new Error(`convertRadix: wrong to=${V}, base cannot be less than 2`);if(!Array.isArray(U))throw new Error("convertRadix: data should be array");if(!U.length)return[];let ee=0;const fe=[],de=Array.from(U);for(de.forEach(H=>{if(H<0||H>=J)throw new Error(`Wrong integer: ${H}`)});;){let H=0,I=!0;for(let D=ee;D<de.length;D++){const X=de[D],z=J*H+X;if(!Number.isSafeInteger(z)||J*H/J!==H||z-X!==J*H)throw new Error("convertRadix: carry overflow");H=z%V;const F=Math.floor(z/V);if(de[D]=F,!Number.isSafeInteger(F)||F*V+H!==z)throw new Error("convertRadix: carry overflow");if(I)F?I=!1:ee=D;else continue}if(fe.push(H),I)break}for(let H=0;H<U.length-1&&U[H]===0;H++)fe.push(0);return fe.reverse()}const S=(U,J)=>J?S(J,U%J):U,v=(U,J)=>U+(J-S(U,J));function T(U,J,V,ee){if(!Array.isArray(U))throw new Error("convertRadix2: data should be array");if(J<=0||J>32)throw new Error(`convertRadix2: wrong from=${J}`);if(V<=0||V>32)throw new Error(`convertRadix2: wrong to=${V}`);if(v(J,V)>32)throw new Error(`convertRadix2: carry overflow from=${J} to=${V} carryBits=${v(J,V)}`);let fe=0,de=0;const H=2**V-1,I=[];for(const D of U){if(D>=2**J)throw new Error(`convertRadix2: invalid data word=${D} from=${J}`);if(fe=fe<<J|D,de+J>32)throw new Error(`convertRadix2: carry overflow pos=${de} from=${J}`);for(de+=J;de>=V;de-=V)I.push((fe>>de-V&H)>>>0);fe&=2**de-1}if(fe=fe<<V-de&H,!ee&&de>=J)throw new Error("Excess padding");if(!ee&&fe)throw new Error(`Non-zero padding: ${fe}`);return ee&&de>0&&I.push(fe>>>0),I}function A(U){return{encode:J=>{if(!f(J))throw new Error("radix.encode input should be Uint8Array");return d(Array.from(J),2**8,U)},decode:J=>{if(!Array.isArray(J)||J.length&&typeof J[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(d(J,U,2**8))}}}function _(U,J=!1){if(U<=0||U>32)throw new Error("radix2: bits should be in (0..32]");if(v(8,U)>32||v(U,8)>32)throw new Error("radix2: carry overflow");return{encode:V=>{if(!f(V))throw new Error("radix2.encode input should be Uint8Array");return T(Array.from(V),8,U,!J)},decode:V=>{if(!Array.isArray(V)||V.length&&typeof V[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(T(V,U,8,J))}}}function b(U){if(typeof U!="function")throw new Error("unsafeWrapper fn should be function");return function(...J){try{return U.apply(null,J)}catch{}}}function P(U,J){if(typeof J!="function")throw new Error("checksum fn should be function");return{encode(V){if(!f(V))throw new Error("checksum.encode: input should be Uint8Array");const ee=J(V).slice(0,U),fe=new Uint8Array(V.length+U);return fe.set(V),fe.set(ee,V.length),fe},decode(V){if(!f(V))throw new Error("checksum.decode: input should be Uint8Array");const ee=V.slice(0,-U),fe=J(ee).slice(0,U),de=V.slice(-U);for(let H=0;H<U;H++)if(fe[H]!==de[H])throw new Error("Invalid checksum");return ee}}}c.utils={alphabet:w,chain:p,checksum:P,convertRadix:d,convertRadix2:T,radix:A,radix2:_,join:x,padding:g},c.base16=p(_(4),w("0123456789ABCDEF"),x("")),c.base32=p(_(5),w("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g(5),x("")),c.base32nopad=p(_(5),w("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),x("")),c.base32hex=p(_(5),w("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g(5),x("")),c.base32hexnopad=p(_(5),w("0123456789ABCDEFGHIJKLMNOPQRSTUV"),x("")),c.base32crockford=p(_(5),w("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),x(""),y(U=>U.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),c.base64=p(_(6),w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g(6),x("")),c.base64nopad=p(_(6),w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),x("")),c.base64url=p(_(6),w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(6),x("")),c.base64urlnopad=p(_(6),w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),x(""));const C=U=>p(A(58),w(U),x(""));c.base58=C("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),c.base58flickr=C("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),c.base58xrp=C("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const N=[0,2,3,5,6,7,9,10,11];c.base58xmr={encode(U){let J="";for(let V=0;V<U.length;V+=8){const ee=U.subarray(V,V+8);J+=c.base58.encode(ee).padStart(N[ee.length],"1")}return J},decode(U){let J=[];for(let V=0;V<U.length;V+=11){const ee=U.slice(V,V+11),fe=N.indexOf(ee.length),de=c.base58.decode(ee);for(let H=0;H<de.length-fe;H++)if(de[H]!==0)throw new Error("base58xmr: wrong padding");J=J.concat(Array.from(de.slice(de.length-fe)))}return Uint8Array.from(J)}};const G=U=>p(P(4,J=>U(U(J))),c.base58);c.createBase58check=G,c.base58check=c.createBase58check;const q=p(w("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),x("")),re=[996825010,642813549,513874426,1027748829,705979059];function L(U){const J=U>>25;let V=(U&33554431)<<5;for(let ee=0;ee<re.length;ee++)(J>>ee&1)===1&&(V^=re[ee]);return V}function W(U,J,V=1){const ee=U.length;let fe=1;for(let de=0;de<ee;de++){const H=U.charCodeAt(de);if(H<33||H>126)throw new Error(`Invalid prefix (${U})`);fe=L(fe)^H>>5}fe=L(fe);for(let de=0;de<ee;de++)fe=L(fe)^U.charCodeAt(de)&31;for(let de of J)fe=L(fe)^de;for(let de=0;de<6;de++)fe=L(fe);return fe^=V,q.encode(T([fe%2**30],30,5,!1))}function j(U){const J=U==="bech32"?1:734539939,V=_(5),ee=V.decode,fe=V.encode,de=b(ee);function H(F,ie,ve=90){if(typeof F!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof F}`);if(ie instanceof Uint8Array&&(ie=Array.from(ie)),!Array.isArray(ie)||ie.length&&typeof ie[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof ie}`);if(F.length===0)throw new TypeError(`Invalid prefix length ${F.length}`);const be=F.length+7+ie.length;if(ve!==!1&&be>ve)throw new TypeError(`Length ${be} exceeds limit ${ve}`);const ge=F.toLowerCase(),Fe=W(ge,ie,J);return`${ge}1${q.encode(ie)}${Fe}`}function I(F,ie=90){if(typeof F!="string")throw new Error(`bech32.decode input should be string, not ${typeof F}`);if(F.length<8||ie!==!1&&F.length>ie)throw new TypeError(`Wrong string length: ${F.length} (${F}). Expected (8..${ie})`);const ve=F.toLowerCase();if(F!==ve&&F!==F.toUpperCase())throw new Error("String must be lowercase or uppercase");const be=ve.lastIndexOf("1");if(be===0||be===-1)throw new Error('Letter "1" must be present between prefix and data only');const ge=ve.slice(0,be),Fe=ve.slice(be+1);if(Fe.length<6)throw new Error("Data must be at least 6 characters long");const Ve=q.decode(Fe).slice(0,-6),Ut=W(ge,Ve,J);if(!Fe.endsWith(Ut))throw new Error(`Invalid checksum in ${F}: expected "${Ut}"`);return{prefix:ge,words:Ve}}const D=b(I);function X(F){const{prefix:ie,words:ve}=I(F,!1);return{prefix:ie,words:ve,bytes:ee(ve)}}function z(F,ie){return H(F,fe(ie))}return{encode:H,decode:I,encodeFromBytes:z,decodeToBytes:X,decodeUnsafe:D,fromWords:ee,fromWordsUnsafe:de,toWords:fe}}c.bech32=j("bech32"),c.bech32m=j("bech32m"),c.utf8={encode:U=>new TextDecoder().decode(U),decode:U=>new TextEncoder().encode(U)},c.hex=p(_(4),w("0123456789abcdef"),x(""),y(U=>{if(typeof U!="string"||U.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof U} with length ${U.length}`);return U.toLowerCase()}));const Q={utf8:c.utf8,hex:c.hex,base16:c.base16,base32:c.base32,base64:c.base64,base64url:c.base64url,base58:c.base58,base58xmr:c.base58xmr},ue="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",te=(U,J)=>{if(typeof U!="string"||!Q.hasOwnProperty(U))throw new TypeError(ue);if(!f(J))throw new TypeError("bytesToString() expects Uint8Array");return Q[U].encode(J)};c.bytesToString=te,c.str=c.bytesToString;const ae=(U,J)=>{if(!Q.hasOwnProperty(U))throw new TypeError(ue);if(typeof J!="string")throw new TypeError("stringToBytes() expects string");return Q[U].decode(J)};c.stringToBytes=ae,c.bytes=c.stringToBytes},98316:function(R,c,l){"use strict";var f;f={value:!0},c.Z1=f=f=f=f=f=void 0;const p=l(69031),w=l(53122),x=l(34357),g=l(54878),y=l(17767),d=l(55158),S=W=>W[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function v(W){if(typeof W!="string")throw new TypeError(`Invalid mnemonic type: ${typeof W}`);return W.normalize("NFKD")}function T(W){const j=v(W),Q=j.split(" ");if(![12,15,18,21,24].includes(Q.length))throw new Error("Invalid mnemonic");return{nfkd:j,words:Q}}function A(W){p.default.bytes(W,16,20,24,28,32)}function _(W,j=128){if(p.default.number(j),j%32!==0||j>256)throw new TypeError("Invalid entropy");return N((0,y.randomBytes)(j/8),W)}f=_;const b=W=>{const j=8-W.length/4;return new Uint8Array([(0,x.sha256)(W)[0]>>j<<j])};function P(W){if(!Array.isArray(W)||W.length!==2**11||typeof W[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return W.forEach(j=>{if(typeof j!="string")throw new Error(`Wordlist: non-string element: ${j}`)}),d.utils.chain(d.utils.checksum(1,b),d.utils.radix2(11,!0),d.utils.alphabet(W))}function C(W,j){const{words:Q}=T(W),ue=P(j).decode(Q);return A(ue),ue}f=C;function N(W,j){return A(W),P(j).encode(W).join(S(j)?"\u3000":" ")}f=N;function G(W,j){try{C(W,j)}catch{return!1}return!0}f=G;const q=W=>v(`mnemonic${W}`);function re(W,j=""){return(0,w.pbkdf2Async)(g.sha512,T(W).nfkd,q(j),{c:2048,dkLen:64})}f=re;function L(W,j=""){return(0,w.pbkdf2)(g.sha512,T(W).nfkd,q(j),{c:2048,dkLen:64})}c.Z1=L},33649:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},14676:function(R,c,l){"use strict";var f=this&&this.__createBinding||(Object.create?function(x,g,y,d){d===void 0&&(d=y);var S=Object.getOwnPropertyDescriptor(g,y);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(x,d,S)}:function(x,g,y,d){d===void 0&&(d=y),x[d]=g[y]}),p=this&&this.__exportStar||function(x,g){for(var y in x)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&f(g,x,y)};Object.defineProperty(c,"__esModule",{value:!0});const w=l(67301);c.default=w.PromisePool,p(l(33649),c),p(l(67301),c),p(l(17090),c),p(l(58059),c),p(l(23457),c),p(l(12559),c)},17090:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PromisePoolError=void 0;class l extends Error{constructor(p,w){super(),this.raw=p,this.item=w,this.name=this.constructor.name,this.message=this.messageFrom(p),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(p,w){return new this(p,w)}messageFrom(p){return p instanceof Error||typeof p=="object"?p.message:typeof p=="string"||typeof p=="number"?p.toString():""}}c.PromisePoolError=l},26610:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PromisePoolExecutor=void 0;const f=l(67301),p=l(17090),w=l(23457),x=l(12559);class g{constructor(){this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=()=>{},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}useConcurrency(d){if(!this.isValidConcurrency(d))throw x.ValidationError.createFrom(`"concurrency" must be a number, 1 or up. Received "${d}" (${typeof d})`);return this.meta.concurrency=d,this}isValidConcurrency(d){return typeof d=="number"&&d>=1}withTaskTimeout(d){return this.meta.taskTimeout=d,this}concurrency(){return this.meta.concurrency}useCorrespondingResults(d){return this.meta.shouldResultsCorrespond=d,this}shouldUseCorrespondingResults(){return this.meta.shouldResultsCorrespond}taskTimeout(){return this.meta.taskTimeout}for(d){return this.meta.items=d,this}items(){return this.meta.items}itemsCount(){const d=this.items();return Array.isArray(d)?d.length:NaN}tasks(){return this.meta.tasks}activeTaskCount(){return this.activeTasksCount()}activeTasksCount(){return this.tasks().length}processedItems(){return this.meta.processedItems}processedCount(){return this.processedItems().length}processedPercentage(){return this.processedCount()/this.itemsCount()*100}results(){return this.meta.results}errors(){return this.meta.errors}withHandler(d){return this.handler=d,this}hasErrorHandler(){return!!this.errorHandler}handleError(d){return this.errorHandler=d,this}onTaskStarted(d){return this.onTaskStartedHandlers=d,this}onTaskFinished(d){return this.onTaskFinishedHandlers=d,this}hasReachedConcurrencyLimit(){return this.activeTasksCount()>=this.concurrency()}stop(){throw this.markAsStopped(),new w.StopThePromisePoolError}markAsStopped(){return this.meta.stopped=!0,this}isStopped(){return this.meta.stopped}async start(){return await this.validateInputs().prepareResultsArray().process()}validateInputs(){if(typeof this.handler!="function")throw x.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");const d=this.taskTimeout();if(!(d==null||typeof d=="number"&&d>=0))throw x.ValidationError.createFrom(`"timeout" must be undefined or a number. A number must be 0 or up. Received "${String(d)}" (${typeof d})`);if(!this.areItemsValid())throw x.ValidationError.createFrom(`"items" must be an array, an iterable or an async iterable. Received "${typeof this.items()}"`);if(this.errorHandler&&typeof this.errorHandler!="function")throw x.ValidationError.createFrom(`The error handler must be a function. Received "${typeof this.errorHandler}"`);return this.onTaskStartedHandlers.forEach(S=>{if(S&&typeof S!="function")throw x.ValidationError.createFrom(`The onTaskStarted handler must be a function. Received "${typeof S}"`)}),this.onTaskFinishedHandlers.forEach(S=>{if(S&&typeof S!="function")throw x.ValidationError.createFrom(`The error handler must be a function. Received "${typeof S}"`)}),this}areItemsValid(){const d=this.items();return!!(Array.isArray(d)||typeof d[Symbol.iterator]=="function"||typeof d[Symbol.asyncIterator]=="function")}prepareResultsArray(){const d=this.items();return Array.isArray(d)?this.shouldUseCorrespondingResults()?(this.meta.results=Array(d.length).fill(f.PromisePool.notRun),this):this:this}async process(){let d=0;for await(const S of this.items()){if(this.isStopped())break;this.shouldUseCorrespondingResults()&&(this.results()[d]=f.PromisePool.notRun),this.startProcessing(S,d),d+=1,await this.waitForProcessingSlot()}return await this.drained()}async waitForProcessingSlot(){for(;this.hasReachedConcurrencyLimit();)await this.waitForActiveTaskToFinish()}async waitForActiveTaskToFinish(){await Promise.race(this.tasks())}startProcessing(d,S){const v=this.createTaskFor(d,S).then(T=>{this.save(T,S).removeActive(v)}).catch(async T=>{await this.handleErrorFor(T,d,S),this.removeActive(v)}).finally(()=>{this.processedItems().push(d),this.runOnTaskFinishedHandlers(d)});this.tasks().push(v),this.runOnTaskStartedHandlers(d)}async createTaskFor(d,S){if(this.taskTimeout()===void 0)return this.handler(d,S,this);const[v,T]=this.createTaskTimeout(d);return Promise.race([this.handler(d,S,this),v()]).finally(T)}createTaskTimeout(d){let S;return[async()=>new Promise((A,_)=>{S=setTimeout(()=>{_(new p.PromisePoolError(`Task in promise pool timed out after ${this.taskTimeout()}ms`,d))},this.taskTimeout())}),()=>clearTimeout(S)]}save(d,S){return this.shouldUseCorrespondingResults()?this.results()[S]=d:this.results().push(d),this}removeActive(d){return this.tasks().splice(this.tasks().indexOf(d),1),this}async handleErrorFor(d,S,v){if(this.shouldUseCorrespondingResults()&&(this.results()[v]=f.PromisePool.failed),!this.isStoppingThePoolError(d)){if(this.isValidationError(d))throw this.markAsStopped(),d;this.hasErrorHandler()?await this.runErrorHandlerFor(d,S):this.saveErrorFor(d,S)}}isStoppingThePoolError(d){return d instanceof w.StopThePromisePoolError}isValidationError(d){return d instanceof x.ValidationError}async runErrorHandlerFor(d,S){var v;try{await((v=this.errorHandler)==null?void 0:v.call(this,d,S,this))}catch(T){this.rethrowIfNotStoppingThePool(T)}}runOnTaskStartedHandlers(d){this.onTaskStartedHandlers.forEach(S=>{S(d,this)})}runOnTaskFinishedHandlers(d){this.onTaskFinishedHandlers.forEach(S=>{S(d,this)})}rethrowIfNotStoppingThePool(d){if(!this.isStoppingThePoolError(d))throw d}saveErrorFor(d,S){this.errors().push(p.PromisePoolError.createFrom(d,S))}async drained(){return await this.drainActiveTasks(),{errors:this.errors(),results:this.results()}}async drainActiveTasks(){await Promise.all(this.tasks())}}c.PromisePoolExecutor=g},67301:function(R,c,l){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.PromisePool=void 0;const f=l(26610);class p{constructor(x){this.timeout=void 0,this.concurrency=10,this.items=x??[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[],this.shouldResultsCorrespond=!1}withConcurrency(x){return this.concurrency=x,this}static withConcurrency(x){return new this().withConcurrency(x)}withTaskTimeout(x){return this.timeout=x,this}static withTaskTimeout(x){return new this().withTaskTimeout(x)}for(x){const g=new p(x).withConcurrency(this.concurrency);return typeof this.errorHandler=="function"&&g.handleError(this.errorHandler),typeof this.timeout=="number"?g.withTaskTimeout(this.timeout):g}static for(x){return new this().for(x)}handleError(x){return this.errorHandler=x,this}onTaskStarted(x){return this.onTaskStartedHandlers.push(x),this}onTaskFinished(x){return this.onTaskFinishedHandlers.push(x),this}useCorrespondingResults(){return this.shouldResultsCorrespond=!0,this}async process(x){return new f.PromisePoolExecutor().useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(x).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start()}}c.PromisePool=p,p.notRun=Symbol("notRun"),p.failed=Symbol("failed")},58059:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0})},23457:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StopThePromisePoolError=void 0;class l extends Error{}c.StopThePromisePoolError=l},12559:function(R,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ValidationError=void 0;class l extends Error{constructor(p){super(p),Error.captureStackTrace&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}static createFrom(p){return new this(p)}}c.ValidationError=l},39556:function(R){"use strict";(function(c){function l(I){return parseInt(I)===I}function f(I){if(!l(I.length))return!1;for(var D=0;D<I.length;D++)if(!l(I[D])||I[D]<0||I[D]>255)return!1;return!0}function p(I,D){if(I.buffer&&ArrayBuffer.isView(I)&&I.name==="Uint8Array")return D&&(I.slice?I=I.slice():I=Array.prototype.slice.call(I)),I;if(Array.isArray(I)){if(!f(I))throw new Error("Array contains invalid value: "+I);return new Uint8Array(I)}if(l(I.length)&&f(I))return new Uint8Array(I);throw new Error("unsupported array-like object")}function w(I){return new Uint8Array(I)}function x(I,D,X,z,F){(z!=null||F!=null)&&(I.slice?I=I.slice(z,F):I=Array.prototype.slice.call(I,z,F)),D.set(I,X)}var g=function(){function I(X){var z=[],F=0;for(X=encodeURI(X);F<X.length;){var ie=X.charCodeAt(F++);ie===37?(z.push(parseInt(X.substr(F,2),16)),F+=2):z.push(ie)}return p(z)}function D(X){for(var z=[],F=0;F<X.length;){var ie=X[F];ie<128?(z.push(String.fromCharCode(ie)),F++):ie>191&&ie<224?(z.push(String.fromCharCode((ie&31)<<6|X[F+1]&63)),F+=2):(z.push(String.fromCharCode((ie&15)<<12|(X[F+1]&63)<<6|X[F+2]&63)),F+=3)}return z.join("")}return{toBytes:I,fromBytes:D}}(),y=function(){function I(z){for(var F=[],ie=0;ie<z.length;ie+=2)F.push(parseInt(z.substr(ie,2),16));return F}var D="0123456789abcdef";function X(z){for(var F=[],ie=0;ie<z.length;ie++){var ve=z[ie];F.push(D[(ve&240)>>4]+D[ve&15])}return F.join("")}return{toBytes:I,fromBytes:X}}(),d={16:10,24:12,32:14},S=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],v=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],T=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],A=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],_=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],P=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],C=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],N=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],G=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],q=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],re=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],L=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],W=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],j=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Q(I){for(var D=[],X=0;X<I.length;X+=4)D.push(I[X]<<24|I[X+1]<<16|I[X+2]<<8|I[X+3]);return D}var ue=function(I){if(!(this instanceof ue))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:p(I,!0)}),this._prepare()};ue.prototype._prepare=function(){var I=d[this.key.length];if(I==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var D=0;D<=I;D++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var X=(I+1)*4,z=this.key.length/4,F=Q(this.key),ie,D=0;D<z;D++)ie=D>>2,this._Ke[ie][D%4]=F[D],this._Kd[I-ie][D%4]=F[D];for(var ve=0,be=z,ge;be<X;){if(ge=F[z-1],F[0]^=v[ge>>16&255]<<24^v[ge>>8&255]<<16^v[ge&255]<<8^v[ge>>24&255]^S[ve]<<24,ve+=1,z!=8)for(var D=1;D<z;D++)F[D]^=F[D-1];else{for(var D=1;D<z/2;D++)F[D]^=F[D-1];ge=F[z/2-1],F[z/2]^=v[ge&255]^v[ge>>8&255]<<8^v[ge>>16&255]<<16^v[ge>>24&255]<<24;for(var D=z/2+1;D<z;D++)F[D]^=F[D-1]}for(var D=0,Fe,Ve;D<z&&be<X;)Fe=be>>2,Ve=be%4,this._Ke[Fe][Ve]=F[D],this._Kd[I-Fe][Ve]=F[D++],be++}for(var Fe=1;Fe<I;Fe++)for(var Ve=0;Ve<4;Ve++)ge=this._Kd[Fe][Ve],this._Kd[Fe][Ve]=re[ge>>24&255]^L[ge>>16&255]^W[ge>>8&255]^j[ge&255]},ue.prototype.encrypt=function(I){if(I.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var D=this._Ke.length-1,X=[0,0,0,0],z=Q(I),F=0;F<4;F++)z[F]^=this._Ke[0][F];for(var ie=1;ie<D;ie++){for(var F=0;F<4;F++)X[F]=A[z[F]>>24&255]^_[z[(F+1)%4]>>16&255]^b[z[(F+2)%4]>>8&255]^P[z[(F+3)%4]&255]^this._Ke[ie][F];z=X.slice()}for(var ve=w(16),be,F=0;F<4;F++)be=this._Ke[D][F],ve[4*F]=(v[z[F]>>24&255]^be>>24)&255,ve[4*F+1]=(v[z[(F+1)%4]>>16&255]^be>>16)&255,ve[4*F+2]=(v[z[(F+2)%4]>>8&255]^be>>8)&255,ve[4*F+3]=(v[z[(F+3)%4]&255]^be)&255;return ve},ue.prototype.decrypt=function(I){if(I.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var D=this._Kd.length-1,X=[0,0,0,0],z=Q(I),F=0;F<4;F++)z[F]^=this._Kd[0][F];for(var ie=1;ie<D;ie++){for(var F=0;F<4;F++)X[F]=C[z[F]>>24&255]^N[z[(F+3)%4]>>16&255]^G[z[(F+2)%4]>>8&255]^q[z[(F+1)%4]&255]^this._Kd[ie][F];z=X.slice()}for(var ve=w(16),be,F=0;F<4;F++)be=this._Kd[D][F],ve[4*F]=(T[z[F]>>24&255]^be>>24)&255,ve[4*F+1]=(T[z[(F+3)%4]>>16&255]^be>>16)&255,ve[4*F+2]=(T[z[(F+2)%4]>>8&255]^be>>8)&255,ve[4*F+3]=(T[z[(F+1)%4]&255]^be)&255;return ve};var te=function(I){if(!(this instanceof te))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new ue(I)};te.prototype.encrypt=function(I){if(I=p(I),I.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var D=w(I.length),X=w(16),z=0;z<I.length;z+=16)x(I,X,0,z,z+16),X=this._aes.encrypt(X),x(X,D,z);return D},te.prototype.decrypt=function(I){if(I=p(I),I.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var D=w(I.length),X=w(16),z=0;z<I.length;z+=16)x(I,X,0,z,z+16),X=this._aes.decrypt(X),x(X,D,z);return D};var ae=function(I,D){if(!(this instanceof ae))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!D)D=w(16);else if(D.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=p(D,!0),this._aes=new ue(I)};ae.prototype.encrypt=function(I){if(I=p(I),I.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var D=w(I.length),X=w(16),z=0;z<I.length;z+=16){x(I,X,0,z,z+16);for(var F=0;F<16;F++)X[F]^=this._lastCipherblock[F];this._lastCipherblock=this._aes.encrypt(X),x(this._lastCipherblock,D,z)}return D},ae.prototype.decrypt=function(I){if(I=p(I),I.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var D=w(I.length),X=w(16),z=0;z<I.length;z+=16){x(I,X,0,z,z+16),X=this._aes.decrypt(X);for(var F=0;F<16;F++)D[z+F]=X[F]^this._lastCipherblock[F];x(I,this._lastCipherblock,0,z,z+16)}return D};var U=function(I,D,X){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!D)D=w(16);else if(D.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");X||(X=1),this.segmentSize=X,this._shiftRegister=p(D,!0),this._aes=new ue(I)};U.prototype.encrypt=function(I){if(I.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var D=p(I,!0),X,z=0;z<D.length;z+=this.segmentSize){X=this._aes.encrypt(this._shiftRegister);for(var F=0;F<this.segmentSize;F++)D[z+F]^=X[F];x(this._shiftRegister,this._shiftRegister,0,this.segmentSize),x(D,this._shiftRegister,16-this.segmentSize,z,z+this.segmentSize)}return D},U.prototype.decrypt=function(I){if(I.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var D=p(I,!0),X,z=0;z<D.length;z+=this.segmentSize){X=this._aes.encrypt(this._shiftRegister);for(var F=0;F<this.segmentSize;F++)D[z+F]^=X[F];x(this._shiftRegister,this._shiftRegister,0,this.segmentSize),x(I,this._shiftRegister,16-this.segmentSize,z,z+this.segmentSize)}return D};var J=function(I,D){if(!(this instanceof J))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!D)D=w(16);else if(D.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=p(D,!0),this._lastPrecipherIndex=16,this._aes=new ue(I)};J.prototype.encrypt=function(I){for(var D=p(I,!0),X=0;X<D.length;X++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),D[X]^=this._lastPrecipher[this._lastPrecipherIndex++];return D},J.prototype.decrypt=J.prototype.encrypt;var V=function(I){if(!(this instanceof V))throw Error("Counter must be instanitated with `new`");I!==0&&!I&&(I=1),typeof I=="number"?(this._counter=w(16),this.setValue(I)):this.setBytes(I)};V.prototype.setValue=function(I){if(typeof I!="number"||parseInt(I)!=I)throw new Error("invalid counter value (must be an integer)");for(var D=15;D>=0;--D)this._counter[D]=I%256,I=I>>8},V.prototype.setBytes=function(I){if(I=p(I,!0),I.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=I},V.prototype.increment=function(){for(var I=15;I>=0;I--)if(this._counter[I]===255)this._counter[I]=0;else{this._counter[I]++;break}};var ee=function(I,D){if(!(this instanceof ee))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",D instanceof V||(D=new V(D)),this._counter=D,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new ue(I)};ee.prototype.encrypt=function(I){for(var D=p(I,!0),X=0;X<D.length;X++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),D[X]^=this._remainingCounter[this._remainingCounterIndex++];return D},ee.prototype.decrypt=ee.prototype.encrypt;function fe(I){I=p(I,!0);var D=16-I.length%16,X=w(I.length+D);x(I,X);for(var z=I.length;z<X.length;z++)X[z]=D;return X}function de(I){if(I=p(I,!0),I.length<16)throw new Error("PKCS#7 invalid length");var D=I[I.length-1];if(D>16)throw new Error("PKCS#7 padding byte out of range");for(var X=I.length-D,z=0;z<D;z++)if(I[X+z]!==D)throw new Error("PKCS#7 invalid padding byte");var F=w(X);return x(I,F,0,0,X),F}var H={AES:ue,Counter:V,ModeOfOperation:{ecb:te,cbc:ae,cfb:U,ofb:J,ctr:ee},utils:{hex:y,utf8:g},padding:{pkcs7:{pad:fe,strip:de}},_arrayTest:{coerceArray:p,createArray:w,copyArray:x}};R.exports=H})(this)},29938:function(R,c,l){var f=l(38032);function p(w,x){function g(y,d){var S=x||{},v;"randomize"in S||(S.randomize=!0),v=f.operation(S);function T(b){d(b||new Error("Aborted"))}function A(b,P){if(b.bail){T(b);return}v.retry(b)?S.onRetry&&S.onRetry(b,P):d(v.mainError())}function _(b){var P;try{P=w(T,b)}catch(C){A(C,b);return}Promise.resolve(P).then(y).catch(function(N){A(N,b)})}v.attempt(_)}return new Promise(g)}R.exports=p},67702:function(R,c,l){R.exports=l(35758)},61969:function(R,c,l){"use strict";var f=l(72637),p=l(49066),w=l(49048),x=l(16005),g=l(38300),y=l(81484),d=l(30267),S=l(53075),v=l(40171),T=l(15579),A=l(84730);R.exports=function(b){return new Promise(function(C,N){var G=b.data,q=b.headers,re=b.responseType,L;function W(){b.cancelToken&&b.cancelToken.unsubscribe(L),b.signal&&b.signal.removeEventListener("abort",L)}f.isFormData(G)&&f.isStandardBrowserEnv()&&delete q["Content-Type"];var j=new XMLHttpRequest;if(b.auth){var Q=b.auth.username||"",ue=b.auth.password?unescape(encodeURIComponent(b.auth.password)):"";q.Authorization="Basic "+btoa(Q+":"+ue)}var te=g(b.baseURL,b.url);j.open(b.method.toUpperCase(),x(te,b.params,b.paramsSerializer),!0),j.timeout=b.timeout;function ae(){if(j){var V="getAllResponseHeaders"in j?y(j.getAllResponseHeaders()):null,ee=!re||re==="text"||re==="json"?j.responseText:j.response,fe={data:ee,status:j.status,statusText:j.statusText,headers:V,config:b,request:j};p(function(H){C(H),W()},function(H){N(H),W()},fe),j=null}}if("onloadend"in j?j.onloadend=ae:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(ae)},j.onabort=function(){j&&(N(new v("Request aborted",v.ECONNABORTED,b,j)),j=null)},j.onerror=function(){N(new v("Network Error",v.ERR_NETWORK,b,j,j)),j=null},j.ontimeout=function(){var ee=b.timeout?"timeout of "+b.timeout+"ms exceeded":"timeout exceeded",fe=b.transitional||S;b.timeoutErrorMessage&&(ee=b.timeoutErrorMessage),N(new v(ee,fe.clarifyTimeoutError?v.ETIMEDOUT:v.ECONNABORTED,b,j)),j=null},f.isStandardBrowserEnv()){var U=(b.withCredentials||d(te))&&b.xsrfCookieName?w.read(b.xsrfCookieName):void 0;U&&(q[b.xsrfHeaderName]=U)}"setRequestHeader"in j&&f.forEach(q,function(ee,fe){typeof G>"u"&&fe.toLowerCase()==="content-type"?delete q[fe]:j.setRequestHeader(fe,ee)}),f.isUndefined(b.withCredentials)||(j.withCredentials=!!b.withCredentials),re&&re!=="json"&&(j.responseType=b.responseType),typeof b.onDownloadProgress=="function"&&j.addEventListener("progress",b.onDownloadProgress),typeof b.onUploadProgress=="function"&&j.upload&&j.upload.addEventListener("progress",b.onUploadProgress),(b.cancelToken||b.signal)&&(L=function(V){j&&(N(!V||V&&V.type?new T:V),j.abort(),j=null)},b.cancelToken&&b.cancelToken.subscribe(L),b.signal&&(b.signal.aborted?L():b.signal.addEventListener("abort",L))),G||(G=null);var J=A(te);if(J&&["http","https","file"].indexOf(J)===-1){N(new v("Unsupported protocol "+J+":",v.ERR_BAD_REQUEST,b));return}j.send(G)})}},35758:function(R,c,l){"use strict";var f=l(72637),p=l(16052),w=l(11461),x=l(63459),g=l(28906);function y(S){var v=new w(S),T=p(w.prototype.request,v);return f.extend(T,w.prototype,v),f.extend(T,v),T.create=function(_){return y(x(S,_))},T}var d=y(g);d.Axios=w,d.CanceledError=l(15579),d.CancelToken=l(68061),d.isCancel=l(84690),d.VERSION=l(54716).version,d.toFormData=l(26449),d.AxiosError=l(40171),d.Cancel=d.CanceledError,d.all=function(v){return Promise.all(v)},d.spread=l(51454),d.isAxiosError=l(80545),R.exports=d,R.exports.default=d},68061:function(R,c,l){"use strict";var f=l(15579);function p(w){if(typeof w!="function")throw new TypeError("executor must be a function.");var x;this.promise=new Promise(function(d){x=d});var g=this;this.promise.then(function(y){if(g._listeners){var d,S=g._listeners.length;for(d=0;d<S;d++)g._listeners[d](y);g._listeners=null}}),this.promise.then=function(y){var d,S=new Promise(function(v){g.subscribe(v),d=v}).then(y);return S.cancel=function(){g.unsubscribe(d)},S},w(function(d){g.reason||(g.reason=new f(d),x(g.reason))})}p.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},p.prototype.subscribe=function(x){if(this.reason){x(this.reason);return}this._listeners?this._listeners.push(x):this._listeners=[x]},p.prototype.unsubscribe=function(x){if(this._listeners){var g=this._listeners.indexOf(x);g!==-1&&this._listeners.splice(g,1)}},p.source=function(){var x,g=new p(function(d){x=d});return{token:g,cancel:x}},R.exports=p},15579:function(R,c,l){"use strict";var f=l(40171),p=l(72637);function w(x){f.call(this,x??"canceled",f.ERR_CANCELED),this.name="CanceledError"}p.inherits(w,f,{__CANCEL__:!0}),R.exports=w},84690:function(R){"use strict";R.exports=function(l){return!!(l&&l.__CANCEL__)}},11461:function(R,c,l){"use strict";var f=l(72637),p=l(16005),w=l(11447),x=l(24603),g=l(63459),y=l(38300),d=l(79260),S=d.validators;function v(T){this.defaults=T,this.interceptors={request:new w,response:new w}}v.prototype.request=function(A,_){typeof A=="string"?(_=_||{},_.url=A):_=A||{},_=g(this.defaults,_),_.method?_.method=_.method.toLowerCase():this.defaults.method?_.method=this.defaults.method.toLowerCase():_.method="get";var b=_.transitional;b!==void 0&&d.assertOptions(b,{silentJSONParsing:S.transitional(S.boolean),forcedJSONParsing:S.transitional(S.boolean),clarifyTimeoutError:S.transitional(S.boolean)},!1);var P=[],C=!0;this.interceptors.request.forEach(function(Q){typeof Q.runWhen=="function"&&Q.runWhen(_)===!1||(C=C&&Q.synchronous,P.unshift(Q.fulfilled,Q.rejected))});var N=[];this.interceptors.response.forEach(function(Q){N.push(Q.fulfilled,Q.rejected)});var G;if(!C){var q=[x,void 0];for(Array.prototype.unshift.apply(q,P),q=q.concat(N),G=Promise.resolve(_);q.length;)G=G.then(q.shift(),q.shift());return G}for(var re=_;P.length;){var L=P.shift(),W=P.shift();try{re=L(re)}catch(j){W(j);break}}try{G=x(re)}catch(j){return Promise.reject(j)}for(;N.length;)G=G.then(N.shift(),N.shift());return G},v.prototype.getUri=function(A){A=g(this.defaults,A);var _=y(A.baseURL,A.url);return p(_,A.params,A.paramsSerializer)},f.forEach(["delete","get","head","options"],function(A){v.prototype[A]=function(_,b){return this.request(g(b||{},{method:A,url:_,data:(b||{}).data}))}}),f.forEach(["post","put","patch"],function(A){function _(b){return function(C,N,G){return this.request(g(G||{},{method:A,headers:b?{"Content-Type":"multipart/form-data"}:{},url:C,data:N}))}}v.prototype[A]=_(),v.prototype[A+"Form"]=_(!0)}),R.exports=v},40171:function(R,c,l){"use strict";var f=l(72637);function p(g,y,d,S,v){Error.call(this),this.message=g,this.name="AxiosError",y&&(this.code=y),d&&(this.config=d),S&&(this.request=S),v&&(this.response=v)}f.inherits(p,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var w=p.prototype,x={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(g){x[g]={value:g}}),Object.defineProperties(p,x),Object.defineProperty(w,"isAxiosError",{value:!0}),p.from=function(g,y,d,S,v,T){var A=Object.create(w);return f.toFlatObject(g,A,function(b){return b!==Error.prototype}),p.call(A,g.message,y,d,S,v),A.name=g.name,T&&Object.assign(A,T),A},R.exports=p},11447:function(R,c,l){"use strict";var f=l(72637);function p(){this.handlers=[]}p.prototype.use=function(x,g,y){return this.handlers.push({fulfilled:x,rejected:g,synchronous:y?y.synchronous:!1,runWhen:y?y.runWhen:null}),this.handlers.length-1},p.prototype.eject=function(x){this.handlers[x]&&(this.handlers[x]=null)},p.prototype.forEach=function(x){f.forEach(this.handlers,function(y){y!==null&&x(y)})},R.exports=p},38300:function(R,c,l){"use strict";var f=l(41079),p=l(63771);R.exports=function(x,g){return x&&!f(g)?p(x,g):g}},24603:function(R,c,l){"use strict";var f=l(72637),p=l(94754),w=l(84690),x=l(28906),g=l(15579);function y(d){if(d.cancelToken&&d.cancelToken.throwIfRequested(),d.signal&&d.signal.aborted)throw new g}R.exports=function(S){y(S),S.headers=S.headers||{},S.data=p.call(S,S.data,S.headers,S.transformRequest),S.headers=f.merge(S.headers.common||{},S.headers[S.method]||{},S.headers),f.forEach(["delete","get","head","post","put","patch","common"],function(A){delete S.headers[A]});var v=S.adapter||x.adapter;return v(S).then(function(A){return y(S),A.data=p.call(S,A.data,A.headers,S.transformResponse),A},function(A){return w(A)||(y(S),A&&A.response&&(A.response.data=p.call(S,A.response.data,A.response.headers,S.transformResponse))),Promise.reject(A)})}},63459:function(R,c,l){"use strict";var f=l(72637);R.exports=function(w,x){x=x||{};var g={};function y(_,b){return f.isPlainObject(_)&&f.isPlainObject(b)?f.merge(_,b):f.isPlainObject(b)?f.merge({},b):f.isArray(b)?b.slice():b}function d(_){if(f.isUndefined(x[_])){if(!f.isUndefined(w[_]))return y(void 0,w[_])}else return y(w[_],x[_])}function S(_){if(!f.isUndefined(x[_]))return y(void 0,x[_])}function v(_){if(f.isUndefined(x[_])){if(!f.isUndefined(w[_]))return y(void 0,w[_])}else return y(void 0,x[_])}function T(_){if(_ in x)return y(w[_],x[_]);if(_ in w)return y(void 0,w[_])}var A={url:S,method:S,data:S,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:T};return f.forEach(Object.keys(w).concat(Object.keys(x)),function(b){var P=A[b]||d,C=P(b);f.isUndefined(C)&&P!==T||(g[b]=C)}),g}},49066:function(R,c,l){"use strict";var f=l(40171);R.exports=function(w,x,g){var y=g.config.validateStatus;!g.status||!y||y(g.status)?w(g):x(new f("Request failed with status code "+g.status,[f.ERR_BAD_REQUEST,f.ERR_BAD_RESPONSE][Math.floor(g.status/100)-4],g.config,g.request,g))}},94754:function(R,c,l){"use strict";var f=l(72637),p=l(28906);R.exports=function(x,g,y){var d=this||p;return f.forEach(y,function(v){x=v.call(d,x,g)}),x}},28906:function(R,c,l){"use strict";var f=l(14224),p=l(72637),w=l(46859),x=l(40171),g=l(53075),y=l(26449),d={"Content-Type":"application/x-www-form-urlencoded"};function S(_,b){!p.isUndefined(_)&&p.isUndefined(_["Content-Type"])&&(_["Content-Type"]=b)}function v(){var _;return(typeof XMLHttpRequest<"u"||typeof f<"u"&&Object.prototype.toString.call(f)==="[object process]")&&(_=l(61969)),_}function T(_,b,P){if(p.isString(_))try{return(b||JSON.parse)(_),p.trim(_)}catch(C){if(C.name!=="SyntaxError")throw C}return(P||JSON.stringify)(_)}var A={transitional:g,adapter:v(),transformRequest:[function(b,P){if(w(P,"Accept"),w(P,"Content-Type"),p.isFormData(b)||p.isArrayBuffer(b)||p.isBuffer(b)||p.isStream(b)||p.isFile(b)||p.isBlob(b))return b;if(p.isArrayBufferView(b))return b.buffer;if(p.isURLSearchParams(b))return S(P,"application/x-www-form-urlencoded;charset=utf-8"),b.toString();var C=p.isObject(b),N=P&&P["Content-Type"],G;if((G=p.isFileList(b))||C&&N==="multipart/form-data"){var q=this.env&&this.env.FormData;return y(G?{"files[]":b}:b,q&&new q)}else if(C||N==="application/json")return S(P,"application/json"),T(b);return b}],transformResponse:[function(b){var P=this.transitional||A.transitional,C=P&&P.silentJSONParsing,N=P&&P.forcedJSONParsing,G=!C&&this.responseType==="json";if(G||N&&p.isString(b)&&b.length)try{return JSON.parse(b)}catch(q){if(G)throw q.name==="SyntaxError"?x.from(q,x.ERR_BAD_RESPONSE,this,null,this.response):q}return b}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l(58980)},validateStatus:function(b){return b>=200&&b<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};p.forEach(["delete","get","head"],function(b){A.headers[b]={}}),p.forEach(["post","put","patch"],function(b){A.headers[b]=p.merge(d)}),R.exports=A},53075:function(R){"use strict";R.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},54716:function(R){R.exports={version:"0.27.2"}},16052:function(R){"use strict";R.exports=function(l,f){return function(){for(var w=new Array(arguments.length),x=0;x<w.length;x++)w[x]=arguments[x];return l.apply(f,w)}}},16005:function(R,c,l){"use strict";var f=l(72637);function p(w){return encodeURIComponent(w).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}R.exports=function(x,g,y){if(!g)return x;var d;if(y)d=y(g);else if(f.isURLSearchParams(g))d=g.toString();else{var S=[];f.forEach(g,function(A,_){A===null||typeof A>"u"||(f.isArray(A)?_=_+"[]":A=[A],f.forEach(A,function(P){f.isDate(P)?P=P.toISOString():f.isObject(P)&&(P=JSON.stringify(P)),S.push(p(_)+"="+p(P))}))}),d=S.join("&")}if(d){var v=x.indexOf("#");v!==-1&&(x=x.slice(0,v)),x+=(x.indexOf("?")===-1?"?":"&")+d}return x}},63771:function(R){"use strict";R.exports=function(l,f){return f?l.replace(/\/+$/,"")+"/"+f.replace(/^\/+/,""):l}},49048:function(R,c,l){"use strict";var f=l(72637);R.exports=f.isStandardBrowserEnv()?function(){return{write:function(x,g,y,d,S,v){var T=[];T.push(x+"="+encodeURIComponent(g)),f.isNumber(y)&&T.push("expires="+new Date(y).toGMTString()),f.isString(d)&&T.push("path="+d),f.isString(S)&&T.push("domain="+S),v===!0&&T.push("secure"),document.cookie=T.join("; ")},read:function(x){var g=document.cookie.match(new RegExp("(^|;\\s*)("+x+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(x){this.write(x,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},41079:function(R){"use strict";R.exports=function(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}},80545:function(R,c,l){"use strict";var f=l(72637);R.exports=function(w){return f.isObject(w)&&w.isAxiosError===!0}},30267:function(R,c,l){"use strict";var f=l(72637);R.exports=f.isStandardBrowserEnv()?function(){var w=/(msie|trident)/i.test(navigator.userAgent),x=document.createElement("a"),g;function y(d){var S=d;return w&&(x.setAttribute("href",S),S=x.href),x.setAttribute("href",S),{href:x.href,protocol:x.protocol?x.protocol.replace(/:$/,""):"",host:x.host,search:x.search?x.search.replace(/^\?/,""):"",hash:x.hash?x.hash.replace(/^#/,""):"",hostname:x.hostname,port:x.port,pathname:x.pathname.charAt(0)==="/"?x.pathname:"/"+x.pathname}}return g=y(window.location.href),function(S){var v=f.isString(S)?y(S):S;return v.protocol===g.protocol&&v.host===g.host}}():function(){return function(){return!0}}()},46859:function(R,c,l){"use strict";var f=l(72637);R.exports=function(w,x){f.forEach(w,function(y,d){d!==x&&d.toUpperCase()===x.toUpperCase()&&(w[x]=y,delete w[d])})}},58980:function(R){R.exports=null},81484:function(R,c,l){"use strict";var f=l(72637),p=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];R.exports=function(x){var g={},y,d,S;return x&&f.forEach(x.split(`
`),function(T){if(S=T.indexOf(":"),y=f.trim(T.substr(0,S)).toLowerCase(),d=f.trim(T.substr(S+1)),y){if(g[y]&&p.indexOf(y)>=0)return;y==="set-cookie"?g[y]=(g[y]?g[y]:[]).concat([d]):g[y]=g[y]?g[y]+", "+d:d}}),g}},84730:function(R){"use strict";R.exports=function(l){var f=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return f&&f[1]||""}},51454:function(R){"use strict";R.exports=function(l){return function(p){return l.apply(null,p)}}},26449:function(R,c,l){"use strict";var f=l(55872).Buffer,p=l(72637);function w(x,g){g=g||new FormData;var y=[];function d(v){return v===null?"":p.isDate(v)?v.toISOString():p.isArrayBuffer(v)||p.isTypedArray(v)?typeof Blob=="function"?new Blob([v]):f.from(v):v}function S(v,T){if(p.isPlainObject(v)||p.isArray(v)){if(y.indexOf(v)!==-1)throw Error("Circular reference detected in "+T);y.push(v),p.forEach(v,function(_,b){if(!p.isUndefined(_)){var P=T?T+"."+b:b,C;if(_&&!T&&typeof _=="object"){if(p.endsWith(b,"{}"))_=JSON.stringify(_);else if(p.endsWith(b,"[]")&&(C=p.toArray(_))){C.forEach(function(N){!p.isUndefined(N)&&g.append(P,d(N))});return}}S(_,P)}}),y.pop()}else g.append(T,d(v))}return S(x),g}R.exports=w},79260:function(R,c,l){"use strict";var f=l(54716).version,p=l(40171),w={};["object","boolean","number","function","string","symbol"].forEach(function(y,d){w[y]=function(v){return typeof v===y||"a"+(d<1?"n ":" ")+y}});var x={};w.transitional=function(d,S,v){function T(A,_){return"[Axios v"+f+"] Transitional option '"+A+"'"+_+(v?". "+v:"")}return function(A,_,b){if(d===!1)throw new p(T(_," has been removed"+(S?" in "+S:"")),p.ERR_DEPRECATED);return S&&!x[_]&&(x[_]=!0,console.warn(T(_," has been deprecated since v"+S+" and will be removed in the near future"))),d?d(A,_,b):!0}};function g(y,d,S){if(typeof y!="object")throw new p("options must be an object",p.ERR_BAD_OPTION_VALUE);for(var v=Object.keys(y),T=v.length;T-- >0;){var A=v[T],_=d[A];if(_){var b=y[A],P=b===void 0||_(b,A,y);if(P!==!0)throw new p("option "+A+" must be "+P,p.ERR_BAD_OPTION_VALUE);continue}if(S!==!0)throw new p("Unknown option "+A,p.ERR_BAD_OPTION)}}R.exports={assertOptions:g,validators:w}},72637:function(R,c,l){"use strict";var f=l(16052),p=Object.prototype.toString,w=function(H){return function(I){var D=p.call(I);return H[D]||(H[D]=D.slice(8,-1).toLowerCase())}}(Object.create(null));function x(H){return H=H.toLowerCase(),function(D){return w(D)===H}}function g(H){return Array.isArray(H)}function y(H){return typeof H>"u"}function d(H){return H!==null&&!y(H)&&H.constructor!==null&&!y(H.constructor)&&typeof H.constructor.isBuffer=="function"&&H.constructor.isBuffer(H)}var S=x("ArrayBuffer");function v(H){var I;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?I=ArrayBuffer.isView(H):I=H&&H.buffer&&S(H.buffer),I}function T(H){return typeof H=="string"}function A(H){return typeof H=="number"}function _(H){return H!==null&&typeof H=="object"}function b(H){if(w(H)!=="object")return!1;var I=Object.getPrototypeOf(H);return I===null||I===Object.prototype}var P=x("Date"),C=x("File"),N=x("Blob"),G=x("FileList");function q(H){return p.call(H)==="[object Function]"}function re(H){return _(H)&&q(H.pipe)}function L(H){var I="[object FormData]";return H&&(typeof FormData=="function"&&H instanceof FormData||p.call(H)===I||q(H.toString)&&H.toString()===I)}var W=x("URLSearchParams");function j(H){return H.trim?H.trim():H.replace(/^\s+|\s+$/g,"")}function Q(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ue(H,I){if(!(H===null||typeof H>"u"))if(typeof H!="object"&&(H=[H]),g(H))for(var D=0,X=H.length;D<X;D++)I.call(null,H[D],D,H);else for(var z in H)Object.prototype.hasOwnProperty.call(H,z)&&I.call(null,H[z],z,H)}function te(){var H={};function I(z,F){b(H[F])&&b(z)?H[F]=te(H[F],z):b(z)?H[F]=te({},z):g(z)?H[F]=z.slice():H[F]=z}for(var D=0,X=arguments.length;D<X;D++)ue(arguments[D],I);return H}function ae(H,I,D){return ue(I,function(z,F){D&&typeof z=="function"?H[F]=f(z,D):H[F]=z}),H}function U(H){return H.charCodeAt(0)===65279&&(H=H.slice(1)),H}function J(H,I,D,X){H.prototype=Object.create(I.prototype,X),H.prototype.constructor=H,D&&Object.assign(H.prototype,D)}function V(H,I,D){var X,z,F,ie={};I=I||{};do{for(X=Object.getOwnPropertyNames(H),z=X.length;z-- >0;)F=X[z],ie[F]||(I[F]=H[F],ie[F]=!0);H=Object.getPrototypeOf(H)}while(H&&(!D||D(H,I))&&H!==Object.prototype);return I}function ee(H,I,D){H=String(H),(D===void 0||D>H.length)&&(D=H.length),D-=I.length;var X=H.indexOf(I,D);return X!==-1&&X===D}function fe(H){if(!H)return null;var I=H.length;if(y(I))return null;for(var D=new Array(I);I-- >0;)D[I]=H[I];return D}var de=function(H){return function(I){return H&&I instanceof H}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));R.exports={isArray:g,isArrayBuffer:S,isBuffer:d,isFormData:L,isArrayBufferView:v,isString:T,isNumber:A,isObject:_,isPlainObject:b,isUndefined:y,isDate:P,isFile:C,isBlob:N,isFunction:q,isStream:re,isURLSearchParams:W,isStandardBrowserEnv:Q,forEach:ue,merge:te,extend:ae,trim:j,stripBOM:U,inherits:J,toFlatObject:V,kindOf:w,kindOfTest:x,endsWith:ee,toArray:fe,isTypedArray:de,isFileList:G}},71504:function(R,c,l){"use strict";var f,p=l(55872).Buffer;f={value:!0};var w=l(50521);function x(T,A){return A===void 0&&(A="utf8"),p.isBuffer(T)?d(T.toString("base64")):d(p.from(T,A).toString("base64"))}function g(T,A){return A===void 0&&(A="utf8"),p.from(y(T),"base64").toString(A)}function y(T){return T=T.toString(),w.default(T).replace(/\-/g,"+").replace(/_/g,"/")}function d(T){return T.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(T){return p.from(y(T),"base64")}var v=x;v.encode=x,v.decode=g,v.toBase64=y,v.fromBase64=d,v.toBuffer=S,c.default=v},50521:function(R,c,l){"use strict";var f=l(55872).Buffer;Object.defineProperty(c,"__esModule",{value:!0});function p(w){var x=4,g=w.length,y=g%x;if(!y)return w;var d=g,S=x-y,v=g+S,T=f.alloc(v);for(T.write(w);S--;)T.write("=",d++);return T.toString()}c.default=p},27220:function(R,c,l){R.exports=l(71504).default,R.exports.default=R.exports},36243:function(R){R.exports=typeof self=="object"?self.FormData:window.FormData},3541:function(module,exports,__webpack_require__){var process=__webpack_require__(14224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(R){return Object.prototype.toString.call(R)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(R){return typeof R=="object"&&R.buffer&&R.buffer.constructor===ArrayBuffer});var createOutputMethod=function(R,c){return function(l){return new Sha256(c,!0).update(l)[R]()}},createMethod=function(R){var c=createOutputMethod("hex",R);NODE_JS&&(c=nodeWrap(c,R)),c.create=function(){return new Sha256(R)},c.update=function(p){return c.create().update(p)};for(var l=0;l<OUTPUT_TYPES.length;++l){var f=OUTPUT_TYPES[l];c[f]=createOutputMethod(f,R)}return c},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(R){if(typeof R=="string")return crypto.createHash(algorithm).update(R,"utf8").digest("hex");if(R==null)throw new Error(ERROR);return R.constructor===ArrayBuffer&&(R=new Uint8Array(R)),Array.isArray(R)||ArrayBuffer.isView(R)||R.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(R)).digest("hex"):method(R)};return nodeMethod},createHmacOutputMethod=function(R,c){return function(l,f){return new HmacSha256(l,c,!0).update(f)[R]()}},createHmacMethod=function(R){var c=createHmacOutputMethod("hex",R);c.create=function(p){return new HmacSha256(p,R)},c.update=function(p,w){return c.create(p).update(w)};for(var l=0;l<OUTPUT_TYPES.length;++l){var f=OUTPUT_TYPES[l];c[f]=createHmacOutputMethod(f,R)}return c};function Sha256(R,c){c?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=R}Sha256.prototype.update=function(R){if(!this.finalized){var c,l=typeof R;if(l!=="string"){if(l==="object"){if(R===null)throw new Error(ERROR);if(ARRAY_BUFFER&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(R)))throw new Error(ERROR)}else throw new Error(ERROR);c=!0}for(var f,p=0,w,x=R.length,g=this.blocks;p<x;){if(this.hashed&&(this.hashed=!1,g[0]=this.block,g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0),c)for(w=this.start;p<x&&w<64;++p)g[w>>2]|=R[p]<<SHIFT[w++&3];else for(w=this.start;p<x&&w<64;++p)f=R.charCodeAt(p),f<128?g[w>>2]|=f<<SHIFT[w++&3]:f<2048?(g[w>>2]|=(192|f>>6)<<SHIFT[w++&3],g[w>>2]|=(128|f&63)<<SHIFT[w++&3]):f<55296||f>=57344?(g[w>>2]|=(224|f>>12)<<SHIFT[w++&3],g[w>>2]|=(128|f>>6&63)<<SHIFT[w++&3],g[w>>2]|=(128|f&63)<<SHIFT[w++&3]):(f=65536+((f&1023)<<10|R.charCodeAt(++p)&1023),g[w>>2]|=(240|f>>18)<<SHIFT[w++&3],g[w>>2]|=(128|f>>12&63)<<SHIFT[w++&3],g[w>>2]|=(128|f>>6&63)<<SHIFT[w++&3],g[w>>2]|=(128|f&63)<<SHIFT[w++&3]);this.lastByteIndex=w,this.bytes+=w-this.start,w>=64?(this.block=g[16],this.start=w-64,this.hash(),this.hashed=!0):this.start=w}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var R=this.blocks,c=this.lastByteIndex;R[16]=this.block,R[c>>2]|=EXTRA[c&3],this.block=R[16],c>=56&&(this.hashed||this.hash(),R[0]=this.block,R[16]=R[1]=R[2]=R[3]=R[4]=R[5]=R[6]=R[7]=R[8]=R[9]=R[10]=R[11]=R[12]=R[13]=R[14]=R[15]=0),R[14]=this.hBytes<<3|this.bytes>>>29,R[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var R=this.h0,c=this.h1,l=this.h2,f=this.h3,p=this.h4,w=this.h5,x=this.h6,g=this.h7,y=this.blocks,d,S,v,T,A,_,b,P,C,N,G;for(d=16;d<64;++d)A=y[d-15],S=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,A=y[d-2],v=(A>>>17|A<<15)^(A>>>19|A<<13)^A>>>10,y[d]=y[d-16]+S+y[d-7]+v<<0;for(G=c&l,d=0;d<64;d+=4)this.first?(this.is224?(P=300032,A=y[0]-1413257819,g=A-150054599<<0,f=A+24177077<<0):(P=704751109,A=y[0]-210244248,g=A-1521486534<<0,f=A+143694565<<0),this.first=!1):(S=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),v=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),P=R&c,T=P^R&l^G,b=p&w^~p&x,A=g+v+b+K[d]+y[d],_=S+T,g=f+A<<0,f=A+_<<0),S=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),v=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),C=f&R,T=C^f&c^P,b=g&p^~g&w,A=x+v+b+K[d+1]+y[d+1],_=S+T,x=l+A<<0,l=A+_<<0,S=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),v=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),N=l&f,T=N^l&R^C,b=x&g^~x&p,A=w+v+b+K[d+2]+y[d+2],_=S+T,w=c+A<<0,c=A+_<<0,S=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),v=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),G=c&l,T=G^c&f^N,b=w&x^~w&g,A=p+v+b+K[d+3]+y[d+3],_=S+T,p=R+A<<0,R=A+_<<0;this.h0=this.h0+R<<0,this.h1=this.h1+c<<0,this.h2=this.h2+l<<0,this.h3=this.h3+f<<0,this.h4=this.h4+p<<0,this.h5=this.h5+w<<0,this.h6=this.h6+x<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var R=this.h0,c=this.h1,l=this.h2,f=this.h3,p=this.h4,w=this.h5,x=this.h6,g=this.h7,y=HEX_CHARS[R>>28&15]+HEX_CHARS[R>>24&15]+HEX_CHARS[R>>20&15]+HEX_CHARS[R>>16&15]+HEX_CHARS[R>>12&15]+HEX_CHARS[R>>8&15]+HEX_CHARS[R>>4&15]+HEX_CHARS[R&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[f&15]+HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[p&15]+HEX_CHARS[w>>28&15]+HEX_CHARS[w>>24&15]+HEX_CHARS[w>>20&15]+HEX_CHARS[w>>16&15]+HEX_CHARS[w>>12&15]+HEX_CHARS[w>>8&15]+HEX_CHARS[w>>4&15]+HEX_CHARS[w&15]+HEX_CHARS[x>>28&15]+HEX_CHARS[x>>24&15]+HEX_CHARS[x>>20&15]+HEX_CHARS[x>>16&15]+HEX_CHARS[x>>12&15]+HEX_CHARS[x>>8&15]+HEX_CHARS[x>>4&15]+HEX_CHARS[x&15];return this.is224||(y+=HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[g&15]),y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var R=this.h0,c=this.h1,l=this.h2,f=this.h3,p=this.h4,w=this.h5,x=this.h6,g=this.h7,y=[R>>24&255,R>>16&255,R>>8&255,R&255,c>>24&255,c>>16&255,c>>8&255,c&255,l>>24&255,l>>16&255,l>>8&255,l&255,f>>24&255,f>>16&255,f>>8&255,f&255,p>>24&255,p>>16&255,p>>8&255,p&255,w>>24&255,w>>16&255,w>>8&255,w&255,x>>24&255,x>>16&255,x>>8&255,x&255];return this.is224||y.push(g>>24&255,g>>16&255,g>>8&255,g&255),y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var R=new ArrayBuffer(this.is224?28:32),c=new DataView(R);return c.setUint32(0,this.h0),c.setUint32(4,this.h1),c.setUint32(8,this.h2),c.setUint32(12,this.h3),c.setUint32(16,this.h4),c.setUint32(20,this.h5),c.setUint32(24,this.h6),this.is224||c.setUint32(28,this.h7),R};function HmacSha256(R,c,l){var f,p=typeof R;if(p==="string"){var w=[],x=R.length,g=0,y;for(f=0;f<x;++f)y=R.charCodeAt(f),y<128?w[g++]=y:y<2048?(w[g++]=192|y>>6,w[g++]=128|y&63):y<55296||y>=57344?(w[g++]=224|y>>12,w[g++]=128|y>>6&63,w[g++]=128|y&63):(y=65536+((y&1023)<<10|R.charCodeAt(++f)&1023),w[g++]=240|y>>18,w[g++]=128|y>>12&63,w[g++]=128|y>>6&63,w[g++]=128|y&63);R=w}else if(p==="object"){if(R===null)throw new Error(ERROR);if(ARRAY_BUFFER&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(R)))throw new Error(ERROR)}else throw new Error(ERROR);R.length>64&&(R=new Sha256(c,!0).update(R).array());var d=[],S=[];for(f=0;f<64;++f){var v=R[f]||0;d[f]=92^v,S[f]=54^v}Sha256.call(this,c,l),this.update(S),this.oKeyPad=d,this.inner=!0,this.sharedMemory=l}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var R=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(R),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},41389:function(R,c,l){R.exports=l(69136)(l(91e3))},69136:function(R,c,l){const f=l(40704),p=l(70702);R.exports=function(w){const x=f(w),g=p(w);return function(y,d){switch(typeof y=="string"?y.toLowerCase():y){case"keccak224":return new x(1152,448,null,224,d);case"keccak256":return new x(1088,512,null,256,d);case"keccak384":return new x(832,768,null,384,d);case"keccak512":return new x(576,1024,null,512,d);case"sha3-224":return new x(1152,448,6,224,d);case"sha3-256":return new x(1088,512,6,256,d);case"sha3-384":return new x(832,768,6,384,d);case"sha3-512":return new x(576,1024,6,512,d);case"shake128":return new g(1344,256,31,d);case"shake256":return new g(1088,512,31,d);default:throw new Error("Invald algorithm: "+y)}}}},40704:function(R,c,l){var f=l(55872).Buffer;const{Transform:p}=l(62981);R.exports=w=>class Vl extends p{constructor(g,y,d,S,v){super(v),this._rate=g,this._capacity=y,this._delimitedSuffix=d,this._hashBitLength=S,this._options=v,this._state=new w,this._state.initialize(g,y),this._finalized=!1}_transform(g,y,d){let S=null;try{this.update(g,y)}catch(v){S=v}d(S)}_flush(g){let y=null;try{this.push(this.digest())}catch(d){y=d}g(y)}update(g,y){if(!f.isBuffer(g)&&typeof g!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return f.isBuffer(g)||(g=f.from(g,y)),this._state.absorb(g),this}digest(g){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let y=this._state.squeeze(this._hashBitLength/8);return g!==void 0&&(y=y.toString(g)),this._resetState(),y}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const g=new Vl(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(g._state),g._finalized=this._finalized,g}}},70702:function(R,c,l){var f=l(55872).Buffer;const{Transform:p}=l(62981);R.exports=w=>class Jl extends p{constructor(g,y,d,S){super(S),this._rate=g,this._capacity=y,this._delimitedSuffix=d,this._options=S,this._state=new w,this._state.initialize(g,y),this._finalized=!1}_transform(g,y,d){let S=null;try{this.update(g,y)}catch(v){S=v}d(S)}_flush(){}_read(g){this.push(this.squeeze(g))}update(g,y){if(!f.isBuffer(g)&&typeof g!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return f.isBuffer(g)||(g=f.from(g,y)),this._state.absorb(g),this}squeeze(g,y){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let d=this._state.squeeze(g);return y!==void 0&&(d=d.toString(y)),d}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const g=new Jl(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(g._state),g._finalized=this._finalized,g}}},26921:function(R,c){const l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];c.p1600=function(f){for(let p=0;p<24;++p){const w=f[0]^f[10]^f[20]^f[30]^f[40],x=f[1]^f[11]^f[21]^f[31]^f[41],g=f[2]^f[12]^f[22]^f[32]^f[42],y=f[3]^f[13]^f[23]^f[33]^f[43],d=f[4]^f[14]^f[24]^f[34]^f[44],S=f[5]^f[15]^f[25]^f[35]^f[45],v=f[6]^f[16]^f[26]^f[36]^f[46],T=f[7]^f[17]^f[27]^f[37]^f[47],A=f[8]^f[18]^f[28]^f[38]^f[48],_=f[9]^f[19]^f[29]^f[39]^f[49];let b=A^(g<<1|y>>>31),P=_^(y<<1|g>>>31);const C=f[0]^b,N=f[1]^P,G=f[10]^b,q=f[11]^P,re=f[20]^b,L=f[21]^P,W=f[30]^b,j=f[31]^P,Q=f[40]^b,ue=f[41]^P;b=w^(d<<1|S>>>31),P=x^(S<<1|d>>>31);const te=f[2]^b,ae=f[3]^P,U=f[12]^b,J=f[13]^P,V=f[22]^b,ee=f[23]^P,fe=f[32]^b,de=f[33]^P,H=f[42]^b,I=f[43]^P;b=g^(v<<1|T>>>31),P=y^(T<<1|v>>>31);const D=f[4]^b,X=f[5]^P,z=f[14]^b,F=f[15]^P,ie=f[24]^b,ve=f[25]^P,be=f[34]^b,ge=f[35]^P,Fe=f[44]^b,Ve=f[45]^P;b=d^(A<<1|_>>>31),P=S^(_<<1|A>>>31);const Ut=f[6]^b,Ri=f[7]^P,Pi=f[16]^b,ki=f[17]^P,as=f[26]^b,Ci=f[27]^P,os=f[36]^b,Ii=f[37]^P,Bi=f[46]^b,Ui=f[47]^P;b=v^(w<<1|x>>>31),P=T^(x<<1|w>>>31);const Oi=f[8]^b,un=f[9]^P,cs=f[18]^b,us=f[19]^P,Ni=f[28]^b,Di=f[29]^P,Mi=f[38]^b,Fi=f[39]^P,xo=f[48]^b,Y=f[49]^P,Yt=C,fn=N,dn=q<<4|G>>>28,ke=G<<4|q>>>28,ln=re<<3|L>>>29,fs=L<<3|re>>>29,Kr=j<<9|W>>>23,hn=W<<9|j>>>23,pn=Q<<18|ue>>>14,ds=ue<<18|Q>>>14,ls=te<<1|ae>>>31,hs=ae<<1|te>>>31,br=J<<12|U>>>20,yn=U<<12|J>>>20,xn=V<<10|ee>>>22,gn=ee<<10|V>>>22,bn=de<<13|fe>>>19,ps=fe<<13|de>>>19,mn=H<<2|I>>>30,ys=I<<2|H>>>30,wn=X<<30|D>>>2,vn=D<<30|X>>>2,xs=z<<6|F>>>26,gs=F<<6|z>>>26,bs=ve<<11|ie>>>21,ms=ie<<11|ve>>>21,En=be<<15|ge>>>17,ws=ge<<15|be>>>17,vs=Ve<<29|Fe>>>3,wt=Fe<<29|Ve>>>3,Es=Ut<<28|Ri>>>4,Ss=Ri<<28|Ut>>>4,As=ki<<23|Pi>>>9,_s=Pi<<23|ki>>>9,Sn=as<<25|Ci>>>7,Ts=Ci<<25|as>>>7,zr=os<<21|Ii>>>11,$r=Ii<<21|os>>>11,Rs=Ui<<24|Bi>>>8,Ps=Bi<<24|Ui>>>8,An=Oi<<27|un>>>5,cr=un<<27|Oi>>>5,mr=cs<<20|us>>>12,ks=us<<20|cs>>>12,Cs=Di<<7|Ni>>>25,qr=Ni<<7|Di>>>25,Is=Mi<<8|Fi>>>24,Bs=Fi<<8|Mi>>>24,wr=xo<<14|Y>>>18,_t=Y<<14|xo>>>18;f[0]=Yt^~br&bs,f[1]=fn^~yn&ms,f[10]=Es^~mr&ln,f[11]=Ss^~ks&fs,f[20]=ls^~xs&Sn,f[21]=hs^~gs&Ts,f[30]=An^~dn&xn,f[31]=cr^~ke&gn,f[40]=wn^~As&Cs,f[41]=vn^~_s&qr,f[2]=br^~bs&zr,f[3]=yn^~ms&$r,f[12]=mr^~ln&bn,f[13]=ks^~fs&ps,f[22]=xs^~Sn&Is,f[23]=gs^~Ts&Bs,f[32]=dn^~xn&En,f[33]=ke^~gn&ws,f[42]=As^~Cs&Kr,f[43]=_s^~qr&hn,f[4]=bs^~zr&wr,f[5]=ms^~$r&_t,f[14]=ln^~bn&vs,f[15]=fs^~ps&wt,f[24]=Sn^~Is&pn,f[25]=Ts^~Bs&ds,f[34]=xn^~En&Rs,f[35]=gn^~ws&Ps,f[44]=Cs^~Kr&mn,f[45]=qr^~hn&ys,f[6]=zr^~wr&Yt,f[7]=$r^~_t&fn,f[16]=bn^~vs&Es,f[17]=ps^~wt&Ss,f[26]=Is^~pn&ls,f[27]=Bs^~ds&hs,f[36]=En^~Rs&An,f[37]=ws^~Ps&cr,f[46]=Kr^~mn&wn,f[47]=hn^~ys&vn,f[8]=wr^~Yt&br,f[9]=_t^~fn&yn,f[18]=vs^~Es&mr,f[19]=wt^~Ss&ks,f[28]=pn^~ls&xs,f[29]=ds^~hs&gs,f[38]=Rs^~An&dn,f[39]=Ps^~cr&ke,f[48]=mn^~wn&As,f[49]=ys^~vn&_s,f[0]^=l[p*2],f[1]^=l[p*2+1]}}},91e3:function(R,c,l){var f=l(55872).Buffer;const p=l(26921);function w(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}w.prototype.initialize=function(x,g){for(let y=0;y<50;++y)this.state[y]=0;this.blockSize=x/8,this.count=0,this.squeezing=!1},w.prototype.absorb=function(x){for(let g=0;g<x.length;++g)this.state[~~(this.count/4)]^=x[g]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(p.p1600(this.state),this.count=0)},w.prototype.absorbLastFewBits=function(x){this.state[~~(this.count/4)]^=x<<8*(this.count%4),x&128&&this.count===this.blockSize-1&&p.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),p.p1600(this.state),this.count=0,this.squeezing=!0},w.prototype.squeeze=function(x){this.squeezing||this.absorbLastFewBits(1);const g=f.alloc(x);for(let y=0;y<x;++y)g[y]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(p.p1600(this.state),this.count=0);return g},w.prototype.copy=function(x){for(let g=0;g<50;++g)x.state[g]=this.state[g];x.blockSize=this.blockSize,x.count=this.count,x.squeezing=this.squeezing},R.exports=w},38032:function(R,c,l){R.exports=l(54215)},54215:function(R,c,l){var f=l(55310);c.operation=function(p){var w=c.timeouts(p);return new f(w,{forever:p&&(p.forever||p.retries===1/0),unref:p&&p.unref,maxRetryTime:p&&p.maxRetryTime})},c.timeouts=function(p){if(p instanceof Array)return[].concat(p);var w={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var x in p)w[x]=p[x];if(w.minTimeout>w.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var g=[],y=0;y<w.retries;y++)g.push(this.createTimeout(y,w));return p&&p.forever&&!g.length&&g.push(this.createTimeout(y,w)),g.sort(function(d,S){return d-S}),g},c.createTimeout=function(p,w){var x=w.randomize?Math.random()+1:1,g=Math.round(x*Math.max(w.minTimeout,1)*Math.pow(w.factor,p));return g=Math.min(g,w.maxTimeout),g},c.wrap=function(p,w,x){if(w instanceof Array&&(x=w,w=null),!x){x=[];for(var g in p)typeof p[g]=="function"&&x.push(g)}for(var y=0;y<x.length;y++){var d=x[y],S=p[d];p[d]=function(T){var A=c.operation(w),_=Array.prototype.slice.call(arguments,1),b=_.pop();_.push(function(P){A.retry(P)||(P&&(arguments[0]=A.mainError()),b.apply(this,arguments))}),A.attempt(function(){T.apply(p,_)})}.bind(p,S),p[d].options=w}}},55310:function(R){function c(l,f){typeof f=="boolean"&&(f={forever:f}),this._originalTimeouts=JSON.parse(JSON.stringify(l)),this._timeouts=l,this._options=f||{},this._maxRetryTime=f&&f.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}R.exports=c,c.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},c.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},c.prototype.retry=function(l){if(this._timeout&&clearTimeout(this._timeout),!l)return!1;var f=new Date().getTime();if(l&&f-this._operationStart>=this._maxRetryTime)return this._errors.push(l),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(l);var p=this._timeouts.shift();if(p===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),p=this._cachedTimeouts.slice(-1);else return!1;var w=this;return this._timer=setTimeout(function(){w._attempts++,w._operationTimeoutCb&&(w._timeout=setTimeout(function(){w._operationTimeoutCb(w._attempts)},w._operationTimeout),w._options.unref&&w._timeout.unref()),w._fn(w._attempts)},p),this._options.unref&&this._timer.unref(),!0},c.prototype.attempt=function(l,f){this._fn=l,f&&(f.timeout&&(this._operationTimeout=f.timeout),f.cb&&(this._operationTimeoutCb=f.cb));var p=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){p._operationTimeoutCb()},p._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},c.prototype.try=function(l){console.log("Using RetryOperation.try() is deprecated"),this.attempt(l)},c.prototype.start=function(l){console.log("Using RetryOperation.start() is deprecated"),this.attempt(l)},c.prototype.start=c.prototype.try,c.prototype.errors=function(){return this._errors},c.prototype.attempts=function(){return this._attempts},c.prototype.mainError=function(){if(this._errors.length===0)return null;for(var l={},f=null,p=0,w=0;w<this._errors.length;w++){var x=this._errors[w],g=x.message,y=(l[g]||0)+1;l[g]=y,y>=p&&(f=x,p=y)}return f}},9495:function(R){"use strict";(function(c){function f(_){const b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let P=1779033703,C=3144134277,N=1013904242,G=2773480762,q=1359893119,re=2600822924,L=528734635,W=1541459225;const j=new Uint32Array(64);function Q(ee){let fe=0,de=ee.length;for(;de>=64;){let H=P,I=C,D=N,X=G,z=q,F=re,ie=L,ve=W,be,ge,Fe,Ve,Ut;for(ge=0;ge<16;ge++)Fe=fe+ge*4,j[ge]=(ee[Fe]&255)<<24|(ee[Fe+1]&255)<<16|(ee[Fe+2]&255)<<8|ee[Fe+3]&255;for(ge=16;ge<64;ge++)be=j[ge-2],Ve=(be>>>17|be<<15)^(be>>>19|be<<13)^be>>>10,be=j[ge-15],Ut=(be>>>7|be<<25)^(be>>>18|be<<14)^be>>>3,j[ge]=(Ve+j[ge-7]|0)+(Ut+j[ge-16]|0)|0;for(ge=0;ge<64;ge++)Ve=(((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))+(z&F^~z&ie)|0)+(ve+(b[ge]+j[ge]|0)|0)|0,Ut=((H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10))+(H&I^H&D^I&D)|0,ve=ie,ie=F,F=z,z=X+Ve|0,X=D,D=I,I=H,H=Ve+Ut|0;P=P+H|0,C=C+I|0,N=N+D|0,G=G+X|0,q=q+z|0,re=re+F|0,L=L+ie|0,W=W+ve|0,fe+=64,de-=64}}Q(_);let ue,te=_.length%64,ae=_.length/536870912|0,U=_.length<<3,J=te<56?56:120,V=_.slice(_.length-te,_.length);for(V.push(128),ue=te+1;ue<J;ue++)V.push(0);return V.push(ae>>>24&255),V.push(ae>>>16&255),V.push(ae>>>8&255),V.push(ae>>>0&255),V.push(U>>>24&255),V.push(U>>>16&255),V.push(U>>>8&255),V.push(U>>>0&255),Q(V),[P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255,re>>>24&255,re>>>16&255,re>>>8&255,re>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255]}function p(_,b,P){_=_.length<=64?_:f(_);const C=64+b.length+4,N=new Array(C),G=new Array(64);let q,re=[];for(q=0;q<64;q++)N[q]=54;for(q=0;q<_.length;q++)N[q]^=_[q];for(q=0;q<b.length;q++)N[64+q]=b[q];for(q=C-4;q<C;q++)N[q]=0;for(q=0;q<64;q++)G[q]=92;for(q=0;q<_.length;q++)G[q]^=_[q];function L(){for(let W=C-1;W>=C-4;W--){if(N[W]++,N[W]<=255)return;N[W]=0}}for(;P>=32;)L(),re=re.concat(f(G.concat(f(N)))),P-=32;return P>0&&(L(),re=re.concat(f(G.concat(f(N))).slice(0,P))),re}function w(_,b,P,C,N){let G;for(d(_,(2*P-1)*16,N,0,16),G=0;G<2*P;G++)y(_,G*16,N,16),g(N,C),d(N,0,_,b+G*16,16);for(G=0;G<P;G++)d(_,b+G*2*16,_,G*16,16);for(G=0;G<P;G++)d(_,b+(G*2+1)*16,_,(G+P)*16,16)}function x(_,b){return _<<b|_>>>32-b}function g(_,b){d(_,0,b,0,16);for(let P=8;P>0;P-=2)b[4]^=x(b[0]+b[12],7),b[8]^=x(b[4]+b[0],9),b[12]^=x(b[8]+b[4],13),b[0]^=x(b[12]+b[8],18),b[9]^=x(b[5]+b[1],7),b[13]^=x(b[9]+b[5],9),b[1]^=x(b[13]+b[9],13),b[5]^=x(b[1]+b[13],18),b[14]^=x(b[10]+b[6],7),b[2]^=x(b[14]+b[10],9),b[6]^=x(b[2]+b[14],13),b[10]^=x(b[6]+b[2],18),b[3]^=x(b[15]+b[11],7),b[7]^=x(b[3]+b[15],9),b[11]^=x(b[7]+b[3],13),b[15]^=x(b[11]+b[7],18),b[1]^=x(b[0]+b[3],7),b[2]^=x(b[1]+b[0],9),b[3]^=x(b[2]+b[1],13),b[0]^=x(b[3]+b[2],18),b[6]^=x(b[5]+b[4],7),b[7]^=x(b[6]+b[5],9),b[4]^=x(b[7]+b[6],13),b[5]^=x(b[4]+b[7],18),b[11]^=x(b[10]+b[9],7),b[8]^=x(b[11]+b[10],9),b[9]^=x(b[8]+b[11],13),b[10]^=x(b[9]+b[8],18),b[12]^=x(b[15]+b[14],7),b[13]^=x(b[12]+b[15],9),b[14]^=x(b[13]+b[12],13),b[15]^=x(b[14]+b[13],18);for(let P=0;P<16;++P)_[P]+=b[P]}function y(_,b,P,C){for(let N=0;N<C;N++)P[N]^=_[b+N]}function d(_,b,P,C,N){for(;N--;)P[C++]=_[b++]}function S(_){if(!_||typeof _.length!="number")return!1;for(let b=0;b<_.length;b++){const P=_[b];if(typeof P!="number"||P%1||P<0||P>=256)return!1}return!0}function v(_,b){if(typeof _!="number"||_%1)throw new Error("invalid "+b);return _}function T(_,b,P,C,N,G,q){if(P=v(P,"N"),C=v(C,"r"),N=v(N,"p"),G=v(G,"dkLen"),P===0||P&P-1)throw new Error("N must be power of 2");if(P>2147483647/128/C)throw new Error("N too large");if(C>2147483647/128/N)throw new Error("r too large");if(!S(_))throw new Error("password must be an array or buffer");if(_=Array.prototype.slice.call(_),!S(b))throw new Error("salt must be an array or buffer");b=Array.prototype.slice.call(b);let re=p(_,b,N*128*C);const L=new Uint32Array(N*32*C);for(let z=0;z<L.length;z++){const F=z*4;L[z]=(re[F+3]&255)<<24|(re[F+2]&255)<<16|(re[F+1]&255)<<8|(re[F+0]&255)<<0}const W=new Uint32Array(64*C),j=new Uint32Array(32*C*P),Q=32*C,ue=new Uint32Array(16),te=new Uint32Array(16),ae=N*P*2;let U=0,J=null,V=!1,ee=0,fe=0,de,H;const I=q?parseInt(1e3/C):4294967295,D=typeof setImmediate<"u"?setImmediate:setTimeout,X=function(){if(V)return q(new Error("cancelled"),U/ae);let z;switch(ee){case 0:H=fe*32*C,d(L,H,W,0,Q),ee=1,de=0;case 1:z=P-de,z>I&&(z=I);for(let ie=0;ie<z;ie++)d(W,0,j,(de+ie)*Q,Q),w(W,Q,C,ue,te);if(de+=z,U+=z,q){const ie=parseInt(1e3*U/ae);if(ie!==J){if(V=q(null,U/ae),V)break;J=ie}}if(de<P)break;de=0,ee=2;case 2:z=P-de,z>I&&(z=I);for(let ie=0;ie<z;ie++){const ve=(2*C-1)*16,be=W[ve]&P-1;y(j,be*Q,W,Q),w(W,Q,C,ue,te)}if(de+=z,U+=z,q){const ie=parseInt(1e3*U/ae);if(ie!==J){if(V=q(null,U/ae),V)break;J=ie}}if(de<P)break;if(d(W,0,L,H,Q),fe++,fe<N){ee=0;break}re=[];for(let ie=0;ie<L.length;ie++)re.push(L[ie]>>0&255),re.push(L[ie]>>8&255),re.push(L[ie]>>16&255),re.push(L[ie]>>24&255);const F=p(_,re,G);return q&&q(null,1,F),F}q&&D(X)};if(!q)for(;;){const z=X();if(z!=null)return z}X()}const A={scrypt:function(_,b,P,C,N,G,q){return new Promise(function(re,L){let W=0;q&&q(0),T(_,b,P,C,N,G,function(j,Q,ue){if(j)L(j);else if(ue)q&&W!==1&&q(1),re(new Uint8Array(ue));else if(q&&Q!==W)return W=Q,q(Q)})})},syncScrypt:function(_,b,P,C,N,G){return new Uint8Array(T(_,b,P,C,N,G))}};R.exports=A})(this)},85323:function(R,c,l){R.exports=l(85830)(l(94235))},94235:function(R,c,l){const f=l(56283).ec,p=new f("secp256k1"),w=p.curve,x=w.n.constructor;function g(v,T){let A=new x(T);if(A.cmp(w.p)>=0)return null;A=A.toRed(w.red);let _=A.redSqr().redIMul(A).redIAdd(w.b).redSqrt();return v===3!==_.isOdd()&&(_=_.redNeg()),p.keyPair({pub:{x:A,y:_}})}function y(v,T,A){let _=new x(T),b=new x(A);if(_.cmp(w.p)>=0||b.cmp(w.p)>=0||(_=_.toRed(w.red),b=b.toRed(w.red),(v===6||v===7)&&b.isOdd()!==(v===7)))return null;const P=_.redSqr().redIMul(_);return b.redSqr().redISub(P.redIAdd(w.b)).isZero()?p.keyPair({pub:{x:_,y:b}}):null}function d(v){const T=v[0];switch(T){case 2:case 3:return v.length!==33?null:g(T,v.subarray(1,33));case 4:case 6:case 7:return v.length!==65?null:y(T,v.subarray(1,33),v.subarray(33,65));default:return null}}function S(v,T){const A=T.encode(null,v.length===33);for(let _=0;_<v.length;++_)v[_]=A[_]}R.exports={contextRandomize(){return 0},privateKeyVerify(v){const T=new x(v);return T.cmp(w.n)<0&&!T.isZero()?0:1},privateKeyNegate(v){const T=new x(v),A=w.n.sub(T).umod(w.n).toArrayLike(Uint8Array,"be",32);return v.set(A),0},privateKeyTweakAdd(v,T){const A=new x(T);if(A.cmp(w.n)>=0||(A.iadd(new x(v)),A.cmp(w.n)>=0&&A.isub(w.n),A.isZero()))return 1;const _=A.toArrayLike(Uint8Array,"be",32);return v.set(_),0},privateKeyTweakMul(v,T){let A=new x(T);if(A.cmp(w.n)>=0||A.isZero())return 1;A.imul(new x(v)),A.cmp(w.n)>=0&&(A=A.umod(w.n));const _=A.toArrayLike(Uint8Array,"be",32);return v.set(_),0},publicKeyVerify(v){return d(v)===null?1:0},publicKeyCreate(v,T){const A=new x(T);if(A.cmp(w.n)>=0||A.isZero())return 1;const _=p.keyFromPrivate(T).getPublic();return S(v,_),0},publicKeyConvert(v,T){const A=d(T);if(A===null)return 1;const _=A.getPublic();return S(v,_),0},publicKeyNegate(v,T){const A=d(T);if(A===null)return 1;const _=A.getPublic();return _.y=_.y.redNeg(),S(v,_),0},publicKeyCombine(v,T){const A=new Array(T.length);for(let b=0;b<T.length;++b)if(A[b]=d(T[b]),A[b]===null)return 1;let _=A[0].getPublic();for(let b=1;b<A.length;++b)_=_.add(A[b].pub);return _.isInfinity()?2:(S(v,_),0)},publicKeyTweakAdd(v,T,A){const _=d(T);if(_===null)return 1;if(A=new x(A),A.cmp(w.n)>=0)return 2;const b=_.getPublic().add(w.g.mul(A));return b.isInfinity()?2:(S(v,b),0)},publicKeyTweakMul(v,T,A){const _=d(T);if(_===null)return 1;if(A=new x(A),A.cmp(w.n)>=0||A.isZero())return 2;const b=_.getPublic().mul(A);return S(v,b),0},signatureNormalize(v){const T=new x(v.subarray(0,32)),A=new x(v.subarray(32,64));return T.cmp(w.n)>=0||A.cmp(w.n)>=0?1:(A.cmp(p.nh)===1&&v.set(w.n.sub(A).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(v,T){const A=T.subarray(0,32),_=T.subarray(32,64);if(new x(A).cmp(w.n)>=0||new x(_).cmp(w.n)>=0)return 1;const{output:b}=v;let P=b.subarray(4,37);P[0]=0,P.set(A,1);let C=33,N=0;for(;C>1&&P[N]===0&&!(P[N+1]&128);--C,++N);if(P=P.subarray(N),P[0]&128||C>1&&P[0]===0&&!(P[1]&128))return 1;let G=b.subarray(39,72);G[0]=0,G.set(_,1);let q=33,re=0;for(;q>1&&G[re]===0&&!(G[re+1]&128);--q,++re);return G=G.subarray(re),G[0]&128||q>1&&G[0]===0&&!(G[1]&128)?1:(v.outputlen=6+C+q,b[0]=48,b[1]=v.outputlen-2,b[2]=2,b[3]=P.length,b.set(P,4),b[4+C]=2,b[5+C]=G.length,b.set(G,6+C),0)},signatureImport(v,T){if(T.length<8||T.length>72||T[0]!==48||T[1]!==T.length-2||T[2]!==2)return 1;const A=T[3];if(A===0||5+A>=T.length||T[4+A]!==2)return 1;const _=T[5+A];if(_===0||6+A+_!==T.length||T[4]&128||A>1&&T[4]===0&&!(T[5]&128)||T[A+6]&128||_>1&&T[A+6]===0&&!(T[A+7]&128))return 1;let b=T.subarray(4,4+A);if(b.length===33&&b[0]===0&&(b=b.subarray(1)),b.length>32)return 1;let P=T.subarray(6+A);if(P.length===33&&P[0]===0&&(P=P.slice(1)),P.length>32)throw new Error("S length is too long");let C=new x(b);C.cmp(w.n)>=0&&(C=new x(0));let N=new x(T.subarray(6+A));return N.cmp(w.n)>=0&&(N=new x(0)),v.set(C.toArrayLike(Uint8Array,"be",32),0),v.set(N.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(v,T,A,_,b){if(b){const N=b;b=G=>{const q=N(T,A,null,_,G);if(!(q instanceof Uint8Array&&q.length===32))throw new Error("This is the way");return new x(q)}}const P=new x(A);if(P.cmp(w.n)>=0||P.isZero())return 1;let C;try{C=p.sign(T,A,{canonical:!0,k:b,pers:_})}catch{return 1}return v.signature.set(C.r.toArrayLike(Uint8Array,"be",32),0),v.signature.set(C.s.toArrayLike(Uint8Array,"be",32),32),v.recid=C.recoveryParam,0},ecdsaVerify(v,T,A){const _={r:v.subarray(0,32),s:v.subarray(32,64)},b=new x(_.r),P=new x(_.s);if(b.cmp(w.n)>=0||P.cmp(w.n)>=0)return 1;if(P.cmp(p.nh)===1||b.isZero()||P.isZero())return 3;const C=d(A);if(C===null)return 2;const N=C.getPublic();return p.verify(T,_,N)?0:3},ecdsaRecover(v,T,A,_){const b={r:T.slice(0,32),s:T.slice(32,64)},P=new x(b.r),C=new x(b.s);if(P.cmp(w.n)>=0||C.cmp(w.n)>=0)return 1;if(P.isZero()||C.isZero())return 2;let N;try{N=p.recoverPubKey(_,b,A)}catch{return 2}return S(v,N),0},ecdh(v,T,A,_,b,P,C){const N=d(T);if(N===null)return 1;const G=new x(A);if(G.cmp(w.n)>=0||G.isZero())return 2;const q=N.getPublic().mul(G);if(b===void 0){const re=q.encode(null,!0),L=p.hash().update(re).digest();for(let W=0;W<32;++W)v[W]=L[W]}else{P||(P=new Uint8Array(32));const re=q.getX().toArray("be",32);for(let Q=0;Q<32;++Q)P[Q]=re[Q];C||(C=new Uint8Array(32));const L=q.getY().toArray("be",32);for(let Q=0;Q<32;++Q)C[Q]=L[Q];const W=b(P,C,_);if(!(W instanceof Uint8Array&&W.length===v.length))return 2;v.set(W)}return 0}}},85830:function(R){const c={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function l(g,y){if(!g)throw new Error(y)}function f(g,y,d){if(l(y instanceof Uint8Array,`Expected ${g} to be an Uint8Array`),d!==void 0)if(Array.isArray(d)){const S=d.join(", "),v=`Expected ${g} to be an Uint8Array with length [${S}]`;l(d.includes(y.length),v)}else{const S=`Expected ${g} to be an Uint8Array with length ${d}`;l(y.length===d,S)}}function p(g){l(x(g)==="Boolean","Expected compressed to be a Boolean")}function w(g=d=>new Uint8Array(d),y){return typeof g=="function"&&(g=g(y)),f("output",g,y),g}function x(g){return Object.prototype.toString.call(g).slice(8,-1)}R.exports=g=>({contextRandomize(y){switch(l(y===null||y instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),y!==null&&f("seed",y,32),g.contextRandomize(y)){case 1:throw new Error(c.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(y){return f("private key",y,32),g.privateKeyVerify(y)===0},privateKeyNegate(y){switch(f("private key",y,32),g.privateKeyNegate(y)){case 0:return y;case 1:throw new Error(c.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(y,d){switch(f("private key",y,32),f("tweak",d,32),g.privateKeyTweakAdd(y,d)){case 0:return y;case 1:throw new Error(c.TWEAK_ADD)}},privateKeyTweakMul(y,d){switch(f("private key",y,32),f("tweak",d,32),g.privateKeyTweakMul(y,d)){case 0:return y;case 1:throw new Error(c.TWEAK_MUL)}},publicKeyVerify(y){return f("public key",y,[33,65]),g.publicKeyVerify(y)===0},publicKeyCreate(y,d=!0,S){switch(f("private key",y,32),p(d),S=w(S,d?33:65),g.publicKeyCreate(S,y)){case 0:return S;case 1:throw new Error(c.SECKEY_INVALID);case 2:throw new Error(c.PUBKEY_SERIALIZE)}},publicKeyConvert(y,d=!0,S){switch(f("public key",y,[33,65]),p(d),S=w(S,d?33:65),g.publicKeyConvert(S,y)){case 0:return S;case 1:throw new Error(c.PUBKEY_PARSE);case 2:throw new Error(c.PUBKEY_SERIALIZE)}},publicKeyNegate(y,d=!0,S){switch(f("public key",y,[33,65]),p(d),S=w(S,d?33:65),g.publicKeyNegate(S,y)){case 0:return S;case 1:throw new Error(c.PUBKEY_PARSE);case 2:throw new Error(c.IMPOSSIBLE_CASE);case 3:throw new Error(c.PUBKEY_SERIALIZE)}},publicKeyCombine(y,d=!0,S){l(Array.isArray(y),"Expected public keys to be an Array"),l(y.length>0,"Expected public keys array will have more than zero items");for(const v of y)f("public key",v,[33,65]);switch(p(d),S=w(S,d?33:65),g.publicKeyCombine(S,y)){case 0:return S;case 1:throw new Error(c.PUBKEY_PARSE);case 2:throw new Error(c.PUBKEY_COMBINE);case 3:throw new Error(c.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(y,d,S=!0,v){switch(f("public key",y,[33,65]),f("tweak",d,32),p(S),v=w(v,S?33:65),g.publicKeyTweakAdd(v,y,d)){case 0:return v;case 1:throw new Error(c.PUBKEY_PARSE);case 2:throw new Error(c.TWEAK_ADD)}},publicKeyTweakMul(y,d,S=!0,v){switch(f("public key",y,[33,65]),f("tweak",d,32),p(S),v=w(v,S?33:65),g.publicKeyTweakMul(v,y,d)){case 0:return v;case 1:throw new Error(c.PUBKEY_PARSE);case 2:throw new Error(c.TWEAK_MUL)}},signatureNormalize(y){switch(f("signature",y,64),g.signatureNormalize(y)){case 0:return y;case 1:throw new Error(c.SIG_PARSE)}},signatureExport(y,d){f("signature",y,64),d=w(d,72);const S={output:d,outputlen:72};switch(g.signatureExport(S,y)){case 0:return d.slice(0,S.outputlen);case 1:throw new Error(c.SIG_PARSE);case 2:throw new Error(c.IMPOSSIBLE_CASE)}},signatureImport(y,d){switch(f("signature",y),d=w(d,64),g.signatureImport(d,y)){case 0:return d;case 1:throw new Error(c.SIG_PARSE);case 2:throw new Error(c.IMPOSSIBLE_CASE)}},ecdsaSign(y,d,S={},v){f("message",y,32),f("private key",d,32),l(x(S)==="Object","Expected options to be an Object"),S.data!==void 0&&f("options.data",S.data),S.noncefn!==void 0&&l(x(S.noncefn)==="Function","Expected options.noncefn to be a Function"),v=w(v,64);const T={signature:v,recid:null};switch(g.ecdsaSign(T,y,d,S.data,S.noncefn)){case 0:return T;case 1:throw new Error(c.SIGN);case 2:throw new Error(c.IMPOSSIBLE_CASE)}},ecdsaVerify(y,d,S){switch(f("signature",y,64),f("message",d,32),f("public key",S,[33,65]),g.ecdsaVerify(y,d,S)){case 0:return!0;case 3:return!1;case 1:throw new Error(c.SIG_PARSE);case 2:throw new Error(c.PUBKEY_PARSE)}},ecdsaRecover(y,d,S,v=!0,T){switch(f("signature",y,64),l(x(d)==="Number"&&d>=0&&d<=3,"Expected recovery id to be a Number within interval [0, 3]"),f("message",S,32),p(v),T=w(T,v?33:65),g.ecdsaRecover(T,y,d,S)){case 0:return T;case 1:throw new Error(c.SIG_PARSE);case 2:throw new Error(c.RECOVER);case 3:throw new Error(c.IMPOSSIBLE_CASE)}},ecdh(y,d,S={},v){switch(f("public key",y,[33,65]),f("private key",d,32),l(x(S)==="Object","Expected options to be an Object"),S.data!==void 0&&f("options.data",S.data),S.hashfn!==void 0?(l(x(S.hashfn)==="Function","Expected options.hashfn to be a Function"),S.xbuf!==void 0&&f("options.xbuf",S.xbuf,32),S.ybuf!==void 0&&f("options.ybuf",S.ybuf,32),f("output",v)):v=w(v,32),g.ecdh(v,y,d,S.data,S.hashfn,S.xbuf,S.ybuf)){case 0:return v;case 1:throw new Error(c.PUBKEY_PARSE);case 2:throw new Error(c.ECDH)}}})},26195:function(R,c,l){"use strict";var Kl,zl,$l,ql,jl,Gl;l.r(c),l.d(c,{WebIrys:function(){return Hl},default:function(){return Hl}});var f={};l.r(f),l.d(f,{hasBrowserEnv:function(){return En},hasStandardBrowserEnv:function(){return ws},hasStandardBrowserWebWorkerEnv:function(){return vs}});var p={};l.r(p),l.d(p,{arToWinston:function(){return P0},b64UrlDecode:function(){return Uu},b64UrlEncode:function(){return Bu},b64UrlToBuffer:function(){return Gt},b64UrlToString:function(){return Cu},bufferToString:function(){return Bo},bufferTob64:function(){return Iu},bufferTob64Url:function(){return Wt},concatBuffers:function(){return xt},stringToB64Url:function(){return Uo},stringToBuffer:function(){return Ce},winstonToAr:function(){return R0}});var w={};l.r(w),l.d(w,{AVSCTap:function(){return wc},AlgorandSigner:function(){return Mp},AptosSigner:function(){return Lp},ArconnectSigner:function(){return Hp},Arweave:function(){return Oo},ArweaveSigner:function(){return Ji},Bundle:function(){return fd},BundleItem:function(){return jp},CryptoDriver:function(){return ju},Curve25519:function(){return Ls},DataItem:function(){return Fn},EthereumSigner:function(){return ha},HexInjectedSolanaSigner:function(){return ya},HexSolanaSigner:function(){return Fp},InjectedAptosSigner:function(){return ga},InjectedEthereumSigner:function(){return Up},InjectedSolanaSigner:function(){return ef},InjectedTypedEthereumSigner:function(){return yc},MAX_TAG_BYTES:function(){return Ec},MIN_BINARY_SIZE:function(){return vc},MultiSignatureAptosSigner:function(){return sd},NearSigner:function(){return pc},PolygonSigner:function(){return Dp},Rsa4096:function(){return Gu},SIG_CONFIG:function(){return Le},SignatureConfig:function(){return Re},Signer:function(){return T0},SolanaSigner:function(){return fc},TypedEthereumSigner:function(){return ad},bundleAndSignData:function(){return ld},byteArrayToLong:function(){return et},concatBuffers:function(){return xt},createData:function(){return Ac},deepHash:function(){return Pn},deserializeTags:function(){return Ea},exportForTesting:function(){return Np},getCryptoDriver:function(){return ct},getSignatureAndId:function(){return hd},indexToType:function(){return xc},keccak256:function(){return dc},longTo16ByteArray:function(){return zp},longTo32ByteArray:function(){return mc},longTo8ByteArray:function(){return bc},longToNByteArray:function(){return ni},secp256k1:function(){return td},serializeTags:function(){return ud},shortTo2ByteArray:function(){return cd},sign:function(){return Sc},stringToBuffer:function(){return Ce},unbundleData:function(){return qp}});var x={};l.r(x),l.d(x,{default:function(){return Wp},processStream:function(){return pd},streamExportForTesting:function(){return Vp},streamSigner:function(){return Gp}});var g={};l.r(g),l.d(g,{DataItem:function(){return Fn},bundleAndSignData:function(){return ld},createData:function(){return Ac},deepHash:function(){return Pn},getCryptoDriver:function(){return ct},stringToBuffer:function(){return Ce}});const y=()=>{throw new Error("Unimplemented")};globalThis.crypto??(globalThis.crypto={}),(Kl=globalThis.crypto).subtle??(Kl.subtle={}),(zl=globalThis.crypto.subtle).generateKey??(zl.generateKey=y),($l=globalThis.crypto.subtle).importKey??($l.importKey=y),(ql=globalThis.crypto.subtle).exportKey??(ql.exportKey=y),(jl=globalThis.crypto.subtle).digest??(jl.digest=y),(Gl=globalThis.crypto.subtle).sign??(Gl.sign=y);var d=null;function S(t,e){return function(){return t.apply(e,arguments)}}const{toString:v}=Object.prototype,{getPrototypeOf:T}=Object,A=(t=>e=>{const r=v.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_=t=>(t=t.toLowerCase(),e=>A(e)===t),b=t=>e=>typeof e===t,{isArray:P}=Array,C=b("undefined");function N(t){return t!==null&&!C(t)&&t.constructor!==null&&!C(t.constructor)&&L(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const G=_("ArrayBuffer");function q(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&G(t.buffer),e}const re=b("string"),L=b("function"),W=b("number"),j=t=>t!==null&&typeof t=="object",Q=t=>t===!0||t===!1,ue=t=>{if(A(t)!=="object")return!1;const e=T(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},te=_("Date"),ae=_("File"),U=_("Blob"),J=_("FileList"),V=t=>j(t)&&L(t.pipe),ee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||L(t.append)&&((e=A(t))==="formdata"||e==="object"&&L(t.toString)&&t.toString()==="[object FormData]"))},fe=_("URLSearchParams"),de=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function H(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),P(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(n=0;n<a;n++)o=i[n],e.call(null,t[o],o,t)}}function I(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const D=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X=t=>!C(t)&&t!==D;function z(){const{caseless:t}=X(this)&&this||{},e={},r=(n,s)=>{const i=t&&I(e,s)||s;ue(e[i])&&ue(n)?e[i]=z(e[i],n):ue(n)?e[i]=z({},n):P(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&H(arguments[n],r);return e}const F=(t,e,r,{allOwnKeys:n}={})=>(H(e,(s,i)=>{r&&L(s)?t[i]=S(s,r):t[i]=s},{allOwnKeys:n}),t),ie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ve=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},be=(t,e,r,n)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&T(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},ge=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Fe=t=>{if(!t)return null;if(P(t))return t;let e=t.length;if(!W(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Ve=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&T(Uint8Array)),Ut=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Ri=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Pi=_("HTMLFormElement"),ki=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),as=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ci=_("RegExp"),os=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};H(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},Ii=t=>{os(t,(e,r)=>{if(L(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(L(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Bi=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return P(t)?n(t):n(String(t).split(e)),r},Ui=()=>{},Oi=(t,e)=>(t=+t,Number.isFinite(t)?t:e),un="abcdefghijklmnopqrstuvwxyz",cs="0123456789",us={DIGIT:cs,ALPHA:un,ALPHA_DIGIT:un+un.toUpperCase()+cs},Ni=(t=16,e=us.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Di(t){return!!(t&&L(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Mi=t=>{const e=new Array(10),r=(n,s)=>{if(j(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=P(n)?[]:{};return H(n,(a,o)=>{const u=r(a,s+1);!C(u)&&(i[o]=u)}),e[s]=void 0,i}}return n};return r(t,0)},Fi=_("AsyncFunction");var Y={isArray:P,isArrayBuffer:G,isBuffer:N,isFormData:ee,isArrayBufferView:q,isString:re,isNumber:W,isBoolean:Q,isObject:j,isPlainObject:ue,isUndefined:C,isDate:te,isFile:ae,isBlob:U,isRegExp:Ci,isFunction:L,isStream:V,isURLSearchParams:fe,isTypedArray:Ve,isFileList:J,forEach:H,merge:z,extend:F,trim:de,stripBOM:ie,inherits:ve,toFlatObject:be,kindOf:A,kindOfTest:_,endsWith:ge,toArray:Fe,forEachEntry:Ut,matchAll:Ri,isHTMLForm:Pi,hasOwnProperty:as,hasOwnProp:as,reduceDescriptors:os,freezeMethods:Ii,toObjectSet:Bi,toCamelCase:ki,noop:Ui,toFiniteNumber:Oi,findKey:I,global:D,isContextDefined:X,ALPHABET:us,generateString:Ni,isSpecCompliantForm:Di,toJSONObject:Mi,isAsyncFn:Fi,isThenable:t=>t&&(j(t)||L(t))&&L(t.then)&&L(t.catch)};function Yt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}Y.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const fn=Yt.prototype,dn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dn[t]={value:t}}),Object.defineProperties(Yt,dn),Object.defineProperty(fn,"isAxiosError",{value:!0}),Yt.from=(t,e,r,n,s,i)=>{const a=Object.create(fn);return Y.toFlatObject(t,a,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),Yt.call(a,t.message,e,r,n,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};var ke=Yt,ln=null,fs=l(55872).Buffer;function Kr(t){return Y.isPlainObject(t)||Y.isArray(t)}function hn(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function pn(t,e,r){return t?t.concat(e).map(function(s,i){return s=hn(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function ds(t){return Y.isArray(t)&&!t.some(Kr)}const ls=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function hs(t,e,r){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new(ln||FormData),r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function($,Z){return!Y.isUndefined(Z[$])});const n=r.metaTokens,s=r.visitor||m,i=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function h(O){if(O===null)return"";if(Y.isDate(O))return O.toISOString();if(!u&&Y.isBlob(O))throw new ke("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(O)||Y.isTypedArray(O)?u&&typeof Blob=="function"?new Blob([O]):fs.from(O):O}function m(O,$,Z){let ce=O;if(O&&!Z&&typeof O=="object"){if(Y.endsWith($,"{}"))$=n?$:$.slice(0,-2),O=JSON.stringify(O);else if(Y.isArray(O)&&ds(O)||(Y.isFileList(O)||Y.endsWith($,"[]"))&&(ce=Y.toArray(O)))return $=hn($),ce.forEach(function(pe,Ue){!(Y.isUndefined(pe)||pe===null)&&e.append(a===!0?pn([$],Ue,i):a===null?$:$+"[]",h(pe))}),!1}return Kr(O)?!0:(e.append(pn(Z,$,i),h(O)),!1)}const E=[],B=Object.assign(ls,{defaultVisitor:m,convertValue:h,isVisitable:Kr});function M(O,$){if(!Y.isUndefined(O)){if(E.indexOf(O)!==-1)throw Error("Circular reference detected in "+$.join("."));E.push(O),Y.forEach(O,function(ce,ye){(!(Y.isUndefined(ce)||ce===null)&&s.call(e,ce,Y.isString(ye)?ye.trim():ye,$,B))===!0&&M(ce,$?$.concat(ye):[ye])}),E.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return M(t),e}var br=hs;function yn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function xn(t,e){this._pairs=[],t&&br(t,this,e)}const gn=xn.prototype;gn.append=function(e,r){this._pairs.push([e,r])},gn.toString=function(e){const r=e?function(n){return e.call(this,n,yn)}:yn;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var bn=xn;function ps(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mn(t,e,r){if(!e)return t;const n=r&&r.encode||ps,s=r&&r.serialize;let i;if(s?i=s(e,r):i=Y.isURLSearchParams(e)?e.toString():new bn(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ys{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(n){n!==null&&e(n)})}}var wn=ys,vn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xs=typeof URLSearchParams<"u"?URLSearchParams:bn,gs=typeof FormData<"u"?FormData:null,bs=typeof Blob<"u"?Blob:null,ms={isBrowser:!0,classes:{URLSearchParams:xs,FormData:gs,Blob:bs},protocols:["http","https","file","blob","url","data"]};const En=typeof window<"u"&&typeof document<"u",ws=(t=>En&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),vs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";var wt={...f,...ms};function Es(t,e){return br(t,new wt.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return wt.isNode&&Y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Ss(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function As(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function _s(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),u=i>=r.length;return a=!a&&Y.isArray(s)?s.length:a,u?(Y.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!Y.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&Y.isArray(s[a])&&(s[a]=As(s[a])),!o)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const r={};return Y.forEachEntry(t,(n,s)=>{e(Ss(n),s,r,0)}),r}return null}var Sn=_s;function Ts(t,e,r){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const zr={transitional:vn,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Y.isObject(e);if(i&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(Sn(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Es(e,this.formSerializer).toString();if((o=Y.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return br(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Ts(e)):e}],transformResponse:[function(e){const r=this.transitional||zr.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(e&&Y.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?ke.from(o,ke.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{zr.headers[t]={}});var $r=zr;const Rs=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ps=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&Rs[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};const An=Symbol("internals");function cr(t){return t&&String(t).trim().toLowerCase()}function mr(t){return t===!1||t==null?t:Y.isArray(t)?t.map(mr):String(t)}function ks(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Cs=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qr(t,e,r,n,s){if(Y.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Y.isString(e)){if(Y.isString(n))return e.indexOf(n)!==-1;if(Y.isRegExp(n))return n.test(e)}}function Is(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Bs(t,e){const r=Y.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}class wr{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(o,u,h){const m=cr(u);if(!m)throw new Error("header name must be a non-empty string");const E=Y.findKey(s,m);(!E||s[E]===void 0||h===!0||h===void 0&&s[E]!==!1)&&(s[E||u]=mr(o))}const a=(o,u)=>Y.forEach(o,(h,m)=>i(h,m,u));return Y.isPlainObject(e)||e instanceof this.constructor?a(e,r):Y.isString(e)&&(e=e.trim())&&!Cs(e)?a(Ps(e),r):e!=null&&i(r,e,n),this}get(e,r){if(e=cr(e),e){const n=Y.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return ks(s);if(Y.isFunction(r))return r.call(this,s,n);if(Y.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=cr(e),e){const n=Y.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||qr(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=cr(a),a){const o=Y.findKey(n,a);o&&(!r||qr(n,n[o],o,r))&&(delete n[o],s=!0)}}return Y.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||qr(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return Y.forEach(this,(s,i)=>{const a=Y.findKey(n,i);if(a){r[a]=mr(s),delete r[i];return}const o=e?Is(i):String(i).trim();o!==i&&delete r[i],r[o]=mr(s),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Y.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[An]=this[An]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=cr(a);n[o]||(Bs(s,a),n[o]=!0)}return Y.isArray(e)?e.forEach(i):i(e),this}}wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Y.reduceDescriptors(wr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}}),Y.freezeMethods(wr);var _t=wr;function go(t,e){const r=this||$r,n=e||r,s=_t.from(n.headers);let i=n.data;return Y.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function ru(t){return!!(t&&t.__CANCEL__)}function nu(t,e,r){ke.call(this,t??"canceled",ke.ERR_CANCELED,e,r),this.name="CanceledError"}Y.inherits(nu,ke,{__CANCEL__:!0});var Li=nu;function Xl(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ke("Request failed with status code "+r.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var Zl=wt.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const a=[t+"="+encodeURIComponent(e)];Y.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Y.isString(n)&&a.push("path="+n),Y.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yl(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ql(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function su(t,e){return t&&!Yl(e)?Ql(t,e):e}var e0=wt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function s(i){let a=i;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(a){const o=Y.isString(a)?s(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}();function t0(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function r0(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),m=n[i];a||(a=h),r[s]=u,n[s]=h;let E=i,B=0;for(;E!==s;)B+=r[E++],E=E%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),h-a<e)return;const M=m&&h-m;return M?Math.round(B*1e3/M):void 0}}var n0=r0;function iu(t,e){let r=0;const n=n0(50,250);return s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,o=i-r,u=n(o),h=i<=a;r=i;const m={loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:u||void 0,estimated:u&&a&&h?(a-i)/u:void 0,event:s};m[e?"download":"upload"]=!0,t(m)}}var s0=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(r,n){let s=t.data;const i=_t.from(t.headers).normalize();let{responseType:a,withXSRFToken:o}=t,u;function h(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let m;if(Y.isFormData(s)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((m=i.getContentType())!==!1){const[$,...Z]=m?m.split(";").map(ce=>ce.trim()).filter(Boolean):[];i.setContentType([$||"multipart/form-data",...Z].join("; "))}}let E=new XMLHttpRequest;if(t.auth){const $=t.auth.username||"",Z=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa($+":"+Z))}const B=su(t.baseURL,t.url);E.open(t.method.toUpperCase(),mn(B,t.params,t.paramsSerializer),!0),E.timeout=t.timeout;function M(){if(!E)return;const $=_t.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),ce={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:$,config:t,request:E};Xl(function(pe){r(pe),h()},function(pe){n(pe),h()},ce),E=null}if("onloadend"in E?E.onloadend=M:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(M)},E.onabort=function(){E&&(n(new ke("Request aborted",ke.ECONNABORTED,t,E)),E=null)},E.onerror=function(){n(new ke("Network Error",ke.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let Z=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const ce=t.transitional||vn;t.timeoutErrorMessage&&(Z=t.timeoutErrorMessage),n(new ke(Z,ce.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,E)),E=null},wt.hasStandardBrowserEnv&&(o&&Y.isFunction(o)&&(o=o(t)),o||o!==!1&&e0(B))){const $=t.xsrfHeaderName&&t.xsrfCookieName&&Zl.read(t.xsrfCookieName);$&&i.set(t.xsrfHeaderName,$)}s===void 0&&i.setContentType(null),"setRequestHeader"in E&&Y.forEach(i.toJSON(),function(Z,ce){E.setRequestHeader(ce,Z)}),Y.isUndefined(t.withCredentials)||(E.withCredentials=!!t.withCredentials),a&&a!=="json"&&(E.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&E.addEventListener("progress",iu(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",iu(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=$=>{E&&(n(!$||$.type?new Li(null,t,E):$),E.abort(),E=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const O=t0(B);if(O&&wt.protocols.indexOf(O)===-1){n(new ke("Unsupported protocol "+O+":",ke.ERR_BAD_REQUEST,t));return}E.send(s||null)})};const bo={http:ln,xhr:s0};Y.forEach(bo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const au=t=>`- ${t}`,i0=t=>Y.isFunction(t)||t===null||t===!1;var ou={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let a;if(n=r,!i0(r)&&(n=bo[(a=String(r)).toLowerCase()],n===void 0))throw new ke(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(au).join(`
`):" "+au(i[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:bo};function mo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Li(null,t)}function cu(t){return mo(t),t.headers=_t.from(t.headers),t.data=go.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ou.getAdapter(t.adapter||$r.adapter)(t).then(function(n){return mo(t),n.data=go.call(t,t.transformResponse,n),n.headers=_t.from(n.headers),n},function(n){return ru(n)||(mo(t),n&&n.response&&(n.response.data=go.call(t,t.transformResponse,n.response),n.response.headers=_t.from(n.response.headers))),Promise.reject(n)})}const uu=t=>t instanceof _t?{...t}:t;function _n(t,e){e=e||{};const r={};function n(h,m,E){return Y.isPlainObject(h)&&Y.isPlainObject(m)?Y.merge.call({caseless:E},h,m):Y.isPlainObject(m)?Y.merge({},m):Y.isArray(m)?m.slice():m}function s(h,m,E){if(Y.isUndefined(m)){if(!Y.isUndefined(h))return n(void 0,h,E)}else return n(h,m,E)}function i(h,m){if(!Y.isUndefined(m))return n(void 0,m)}function a(h,m){if(Y.isUndefined(m)){if(!Y.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function o(h,m,E){if(E in e)return n(h,m);if(E in t)return n(void 0,h)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(h,m)=>s(uu(h),uu(m),!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(m){const E=u[m]||s,B=E(t[m],e[m],m);Y.isUndefined(B)&&E!==o||(r[m]=B)}),r}const fu="1.6.8",wo={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{wo[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const du={};wo.transitional=function(e,r,n){function s(i,a){return"[Axios v"+fu+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(e===!1)throw new ke(s(a," has been removed"+(r?" in "+r:"")),ke.ERR_DEPRECATED);return r&&!du[a]&&(du[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,o):!0}};function a0(t,e,r){if(typeof t!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const o=t[i],u=o===void 0||a(o,i,t);if(u!==!0)throw new ke("option "+i+" must be "+u,ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ke("Unknown option "+i,ke.ERR_BAD_OPTION)}}var vo={assertOptions:a0,validators:wo};const vr=vo.validators;class Hi{constructor(e){this.defaults=e,this.interceptors={request:new wn,response:new wn}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=_n(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&vo.assertOptions(n,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),s!=null&&(Y.isFunction(s)?r.paramsSerializer={serialize:s}:vo.assertOptions(s,{encode:vr.function,serialize:vr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&Y.merge(i.common,i[r.method]);i&&Y.forEach(["delete","get","head","post","put","patch","common"],O=>{delete i[O]}),r.headers=_t.concat(a,i);const o=[];let u=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(r)===!1||(u=u&&$.synchronous,o.unshift($.fulfilled,$.rejected))});const h=[];this.interceptors.response.forEach(function($){h.push($.fulfilled,$.rejected)});let m,E=0,B;if(!u){const O=[cu.bind(this),void 0];for(O.unshift.apply(O,o),O.push.apply(O,h),B=O.length,m=Promise.resolve(r);E<B;)m=m.then(O[E++],O[E++]);return m}B=o.length;let M=r;for(E=0;E<B;){const O=o[E++],$=o[E++];try{M=O(M)}catch(Z){$.call(this,Z);break}}try{m=cu.call(this,M)}catch(O){return Promise.reject(O)}for(E=0,B=h.length;E<B;)m=m.then(h[E++],h[E++]);return m}getUri(e){e=_n(this.defaults,e);const r=su(e.baseURL,e.url);return mn(r,e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(e){Hi.prototype[e]=function(r,n){return this.request(_n(n||{},{method:e,url:r,data:(n||{}).data}))}}),Y.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,o){return this.request(_n(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Hi.prototype[e]=r(),Hi.prototype[e+"Form"]=r(!0)});var Ki=Hi;class Eo{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,o){n.reason||(n.reason=new Li(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Eo(function(s){e=s}),cancel:e}}}var o0=Eo;function c0(t){return function(r){return t.apply(null,r)}}function u0(t){return Y.isObject(t)&&t.isAxiosError===!0}const So={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(So).forEach(([t,e])=>{So[e]=t});var f0=So;function lu(t){const e=new Ki(t),r=S(Ki.prototype.request,e);return Y.extend(r,Ki.prototype,e,{allOwnKeys:!0}),Y.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return lu(_n(t,s))},r}const Ye=lu($r);Ye.Axios=Ki,Ye.CanceledError=Li,Ye.CancelToken=o0,Ye.isCancel=ru,Ye.VERSION=fu,Ye.toFormData=br,Ye.AxiosError=ke,Ye.Cancel=Ye.CanceledError,Ye.all=function(e){return Promise.all(e)},Ye.spread=c0,Ye.isAxiosError=u0,Ye.mergeConfig=_n,Ye.AxiosHeaders=_t,Ye.formToJSON=t=>Sn(Y.isHTMLForm(t)?new FormData(t):t),Ye.getAdapter=ou.getAdapter,Ye.HttpStatusCode=f0,Ye.default=Ye;var Ao=Ye,Er=l(29938),ur=l(29158),d0=l(55872).Buffer;function l0(t){class e extends t.arbundles.DataItem{constructor(s,i,a){super((a==null?void 0:a.dataIsRawTransaction)===!0?d0.from(s):i.arbundles.createData(s,i.tokenConfig.getSigner(),{...a,anchor:(a==null?void 0:a.anchor)??ur.randomBytes(32).toString("base64").slice(0,32)}).getRaw());k(this,"Irys");k(this,"signer");this.Irys=i,this.signer=i.tokenConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async uploadWithReceipt(s){return(await this.Irys.uploader.uploadTransaction(this,{...s,getReceiptSignature:!0})).data}async upload(s){return(await this.Irys.uploader.uploadTransaction(this,s)).data}async getPrice(){return this.Irys.utils.getPrice(this.Irys.tokenConfig.name,this.size)}async isValid(){return t.arbundles.DataItem.verify(this.getRaw())}}return e}var Ae=l(27220),Ee=l(1562);Ee.Z.set({DECIMAL_PLACES:50});const hu=t=>new Promise(e=>setTimeout(e,t));class ot{constructor(e,r,n){k(this,"api");k(this,"token");k(this,"tokenConfig");k(this,"arbundles");this.api=e,this.token=r,this.tokenConfig=n,this.arbundles=this.tokenConfig.irys.arbundles}static checkAndThrow(e,r,n){if(e!=null&&e.status&&!(n??[]).includes(e.status)&&e.status!=200)throw new Error(`HTTP Error: ${r}: ${e.status} ${typeof e.data!="string"?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.tokenConfig.name}?address=${this.tokenConfig.address}`);return ot.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const r=await this.api.get(`/account/balance/${this.tokenConfig.name}?address=${e}`);return ot.checkAndThrow(r,"Getting balance"),new Ee.Z(r.data.balance)}async getBundlerAddress(e){const r=await this.api.get("/info");ot.checkAndThrow(r,"Getting Bundler address");const n=r.data.addresses[e];if(!n)throw new Error(`Specified bundler does not support token ${e}`);return n}async getPrice(e,r){const n=await this.api.get(`/price/${e}/${r}`);return ot.checkAndThrow(n,"Getting storage cost"),new Ee.Z(n.data)}async estimateFolderPrice(e){Array.isArray(e)&&(e={fileCount:e.length,totalBytes:e.reduce((a,o)=>a+o,0)});const r=e.headerSizeAvg??this.arbundles.createData("",this.tokenConfig.getSigner()).getRaw().length,s=(await this.getPrice(this.tokenConfig.name,r)).multipliedBy(e.fileCount);return(await this.getPrice(this.tokenConfig.name,e.totalBytes)).plus(s).decimalPlaces(0)}toAtomic(e){return new Ee.Z(e).multipliedBy(this.tokenConfig.base[1])}fromAtomic(e){return new Ee.Z(e).dividedBy(this.tokenConfig.base[1])}async confirmationPoll(e,r=30){if(this.tokenConfig.isSlow)return;r<0&&(r=0);let n,s;const i=async()=>{for(;!s;){if(await this.tokenConfig.getTx(e).then(h=>h==null?void 0:h.confirmed).catch(h=>(n=h,!1)))return!0;await hu(1e3)}return!1},a=async()=>(await hu(r*1e3),s=!0,"RACE"),o=await Promise.race([a(),i()]);return o==="RACE"?(console.warn(`Tx ${e} didn't finalize after ${r} seconds ${n?` - ${n}`:""}`),n):o}unitConverter(e){return new Ee.Z(e).dividedBy(this.tokenConfig.base[1])}async verifyReceipt(e){return ot.verifyReceipt(this.arbundles,e)}static async verifyReceipt(e,r){const{id:n,deadlineHeight:s,timestamp:i,public:a,signature:o,version:u}=r,h=await e.deepHash([e.stringToBuffer("Bundlr"),e.stringToBuffer(u),e.stringToBuffer(n),e.stringToBuffer(s.toString()),e.stringToBuffer(i.toString())]);return await e.getCryptoDriver().verify(a,h,Ae.toBuffer(o))}async getReceipt(e){var o,u,h,m,E,B;const r=`query {
      transactions(ids: ["${e}"]) {
        edges {
          node {
            receipt {
              signature
              timestamp
              version
              deadlineHeight
            }
          }
        }
      }
    }`,n=await Er(async()=>await this.api.post("/graphql",{query:r},{headers:{"content-type":"application/json"},validateStatus:M=>M===200})),s=(B=(E=(m=(h=(u=(o=n==null?void 0:n.data)==null?void 0:o.data)==null?void 0:u.transactions)==null?void 0:h.edges)==null?void 0:m.at(0))==null?void 0:E.node)==null?void 0:B.receipt;if(!s)throw new Error(`Missing required receipt data from node for tx: ${e}`);const a={public:(await this.api.get("/public")).data,version:s.version,id:e,timestamp:s.timestamp,validatorSignatures:[],signature:s.signature,deadlineHeight:s.deadlineHeight,verify:async()=>!1};return a.verify=async()=>this.verifyReceipt(a),a}}var _o=l(55872).Buffer;async function h0(t,e,r){const n=t.tokenConfig,{deepHash:s,stringToBuffer:i}=n.irys.arbundles,o={publicKey:await n.getPublicKey(),currency:t.token,amount:new Ee.Z(r).toString(),nonce:await t.getNonce(),signature:"",sigType:n.getSigner().signatureType},u=await s([i(o.currency),i(o.amount.toString()),i(o.nonce.toString())]);_o.isBuffer(o.publicKey)||(o.publicKey=_o.from(o.publicKey));const h=await n.sign(u),m=await n.verify(o.publicKey,u,h);o.publicKey=Ae.encode(o.publicKey),o.signature=Ae.encode(_o.from(h));const E=Ae.toBuffer(o.publicKey),B=Ae.toBuffer(o.signature),M=await s([i(o.currency),i(o.amount.toString()),i(o.nonce.toString())]),O=await n.verify(E,M,B),$=n.ownerToAddress(n.name=="arweave"?Ae.decode(o.publicKey):Ae.toBuffer(o.publicKey))===n.address;if(!(m||O||$))throw new Error(`Internal withdrawal validation failed - please report this!
Debug Info:${JSON.stringify(o)}`);const Z=await e.post("/account/withdraw",o);if(Z.status===202){const ce=Z.data.tx_id,ye=await t.confirmationPoll(ce);if(ye!==!0)throw new Error(`Unable to confirm withdrawal tx ${ce} ${ye?ye==null?void 0:ye.toString():""}`)}else ot.checkAndThrow(Z,"Withdrawing balance");return Z.data}var pu=l(39500),Us=l(26748);class p0{constructor({url:e,retryConfig:r,query:n,queryName:s,opts:i}){k(this,"queryVars",{});k(this,"queryFields");k(this,"queryInfo");k(this,"_query");k(this,"url");k(this,"config");k(this,"resultTracker",{numPages:0,numResults:0,done:!1});if(!e)throw new Error("URL is required");if(this.url=new URL(e),this.config={first:!1,userProvided:!1,numPages:1/0,numResults:1e3,retryOpts:{retries:3,maxTimeout:2e3,minTimeout:500,...r}},n===!1)return this;if(!n)throw new Error(`Unable to find query with name ${s}`);if(this.queryInfo={...n},this.queryFields=n.query,s.includes("arweave")&&this.url.host==="node1.bundlr.network"&&(this.url=new URL("https://arweave.net/graphql")),!(i!=null&&i.skipVariableSetters))for(const a of Object.keys(n.vars)){if(this[a])throw new Error(`Field setter ${a} has a key conflict - disable with opts.skipVariableSetters OR change the field name and add to query.remapVars`);this[a]=o=>(this.queryVars[a]=o,this)}return this}buildQuery(){var u,h;if(this.config.userProvided)return this;const e=m=>JSON.stringify(m,(E,B)=>{if(B instanceof Array)return B[0];if(typeof B=="object")return B;if(B!==!1)return""}).replaceAll(":","").replaceAll('"',"").replaceAll(",",`
          `),r=e(this.queryFields),n=e({pageInfo:{[((u=this.queryInfo.paging)==null?void 0:u.hasNextPage)??"hasNextPage"]:void 0}}).slice(1,-1),s=this.queryInfo.enumValues,i={...this.queryInfo.vars,...this.queryVars};for(const[m,E]of Object.entries(this.queryInfo.remapVars??{}))if((i==null?void 0:i[m])!==void 0){if(typeof E=="function"){const B=E(m,i[m],i);if(!B)continue;const[M,O]=B;if(i[M]=O,M===m)continue}else i[E]=i[m];i[m]=void 0}const a=JSON.stringify(i,function(m,E){return E===void 0||E instanceof Array||typeof E=="object"||typeof E=="number"||s!=null&&s.includes(m)?E:`'${E}'`}).replaceAll('"',"").replaceAll("'",'"').slice(1,-1);if(!((h=this==null?void 0:this.queryInfo)!=null&&h.name))throw new Error("Query name is undefined!");const o=this.queryInfo.paging?`query {
      ${this.queryInfo.name}(
        ${a}
      ) {
        edges {
          cursor
          node ${r}
        }
        ${n}
      }
    }`:`query {
    ${this.queryInfo.name}(
      ${a}
    ) 
    ${r}
  }`;return this._query=o,this}async getPage(){var n;if(this.resultTracker.done)return;if(this.buildQuery(),!this._query)throw new Error("Unable to run undefined query");let e;try{e=await Er(async s=>{const i=await(0,pu.Z)(this.url.toString(),{method:"post",headers:{"Content-Type":"application/json"},data:{query:this._query}});if(i.data.errors)throw i;return i},this.config.retryOpts)}catch(s){throw new Error(`Error running query
 ${this._query} - ${s.message?s.message+" -":""} (${JSON.stringify(((n=s==null?void 0:s.data)==null?void 0:n.errors.map(i=>i.message))??(s==null?void 0:s.errors)??s)}) `)}if(this.config.userProvided)return this.trimmer([e.data.data].flat(20));const r=e.data.data[this.queryInfo.name];if(this.queryInfo.paging){const s=r.pageInfo[this.queryInfo.paging.hasNextPage]?r.edges.at(-1)[this.queryInfo.paging.cursor]:void 0;return this.queryVars.after=s,this.trimmer(r.edges.map(i=>i.node))}return this.trimmer([r].flat(20))}trimmer(e){var s,i;const r=++this.resultTracker.numPages,n=this.resultTracker.numResults+=e.length;if(e.length===0)return this.resultTracker.done=!0,e;if(r>=((s=this==null?void 0:this.config)==null?void 0:s.numPages)&&(this.resultTracker.done=!0),n>=((i=this==null?void 0:this.config)==null?void 0:i.numResults)){this.resultTracker.done=!0;const a=this.config.numResults-(n-e.length);return e.slice(0,a)}return e}async first(){const e=await this.getPage();return(e==null?void 0:e.at(0))??void 0}maxPages(e){return this.config.numPages=e,this}limit(e){return this.config.numResults=e,this}async all(){const e=[];do{const r=await this.getPage();if(!r)break;e.push(...r)}while(this.queryVars.after);return e}async*generator(){do{const e=await this.getPage();if(!e)return;for(const r of e)yield r}while(this.queryVars.after)}stream(){return Us.Readable.from(this.generator())}query(e){return this._query=e,this.config.userProvided=!0,this}fields(e,r=!1){const n=(s,i,a)=>{for(const o of Object.keys(a)){let u=i[o];Array.isArray(u)&&(u=u[0]);const h=a[o];if(u===void 0)throw new Error(`Illegal field ${s}${o}`);typeof h=="object"&&n(s+o+".",u,h)}};return r||n("",this.queryFields,e),this.queryFields=e,this}variables(e){return this.queryVars={...this.queryVars,...e},this}async toQuery(){return await this.buildQuery(),this._query}tReturn(){return"tReturn"}tQuery(){return"tQuery"}tVars(){return"tVars"}async then(e,r){return this.all().then(e,r)}async catch(e){return this.then().catch(e)}async finally(e){return this.then().finally(e)}}const yu={id:"",timestamp:0,height:"",previous:""},r1={name:"block",query:yu,vars:{id:void 0}},y0={name:"blocks",query:yu,vars:{ids:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},enumValues:["sort"],remapVars:{pageSize:"first",sort:(t,e)=>[t,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.height={...r.height,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.height={...r.height,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},xu={id:"",anchor:"",signature:"",recipient:"",owner:{address:"",key:""},fee:{winston:"",ar:""},quantity:{winston:"",ar:""},data:{size:"",type:""},tags:[{name:"",value:""}],block:{id:"",timestamp:0,height:0,previous:""},bundledIn:{id:""}},i1={name:"transaction",query:xu,vars:{id:void 0}},x0={"irys:transactions":{name:"transactions",query:{id:"",receipt:{deadlineHeight:0,signature:"",timestamp:0,version:""},tags:[{name:"",value:""}],address:"",token:"",signature:"",timestamp:0},enumValues:["order"],vars:{ids:void 0,after:void 0,token:void 0,from:void 0,pageSize:100,sort:"ASC",tags:void 0,fromTimestamp:void 0,toTimestamp:void 0},remapVars:{pageSize:"first",sort:"order",from:"owners",fromTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,from:new Date(e).getTime()},r.fromTimestamp=void 0},toTimestamp:(t,e,r)=>{r.timestamp={...r.timestamp,to:new Date(e).getTime()},r.toTimestamp=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:transactions":{name:"transactions",query:xu,enumValues:["sort"],vars:{ids:void 0,from:void 0,to:void 0,tags:void 0,bundledIn:void 0,minHeight:void 0,maxHeight:void 0,pageSize:10,after:void 0,sort:"DESC"},remapVars:{pageSize:"first",from:"owners",to:"recipients",sort:(t,e)=>[t,e==="ASC"?"HEIGHT_ASC":"HEIGHT_DESC"],minHeight:(t,e,r)=>{r.block={...r.block,min:e},r.minHeight=void 0},maxHeight:(t,e,r)=>{r.block={...r.block,max:e},r.maxHeight=void 0}},paging:{hasNextPage:"hasNextPage",cursor:"cursor"}},"arweave:blocks":y0};class gu{constructor(e={url:new URL("https://node1.bundlr.network/graphql")}){k(this,"opts");if(!e.url)throw new Error("URL is required");e.url=new URL(e.url),this.opts=e}search(e,r){const n=(r==null?void 0:r.query)??x0[e];return new p0({...this.opts,query:n,queryName:e})}}var d1=null;class To{constructor({url:e,arbundles:r}){k(this,"api");k(this,"utils");k(this,"uploader");k(this,"funder");k(this,"address");k(this,"token");k(this,"tokenConfig");k(this,"provenance");k(this,"transactions");k(this,"_readyPromise");k(this,"url");k(this,"arbundles");k(this,"IrysTransaction");this.url=e,this.arbundles=r,this.IrysTransaction=l0(this)}get signer(){return this.tokenConfig.getSigner()}get search(){const e=new gu({url:new URL("/graphql",this.url)});return e.search.bind(e)}query(e){return new gu(e??{url:this.url})}async withdrawBalance(e){return h0(this.utils,this.api,e)}async getLoadedBalance(){if(!this.address)throw new Error("address is undefined");return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,r){return this.funder.fund(e,r)}async getPrice(e){return this.utils.getPrice(this.token,e)}async verifyReceipt(e){return ot.verifyReceipt(this.arbundles,e)}createTransaction(e,r){return new this.IrysTransaction(e,this,r)}getSigner(){return this.tokenConfig.getSigner()}async upload(e,r){return this.uploader.uploadData(e,r)}async uploadWithReceipt(e,r){return this.uploader.uploadData(e,{...r,upload:{getReceiptSignature:!0}})}async ready(){return this.tokenConfig.ready&&await this.tokenConfig.ready(),this.address=this.tokenConfig.address,this}get transaction(){const e=this;return{fromRaw(r){return new e.IrysTransaction(r,e,{dataIsRawTransaction:!0})}}}}k(To,"VERSION","0.0.2");class g0{constructor(e){k(this,"_instance");k(this,"cookieMap",new Map);k(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const r=this.cookieMap.get(new URL(e.baseURL??"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var n;const r=(n=e.headers)==null?void 0:n["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){return{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-js-sdk-version":To.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,r){var n;try{return await this.request(e,{...r,method:"GET"})}catch(s){if((n=s.response)!=null&&n.status)return s.response;throw s}}async post(e,r,n){var s;try{return await this.request(e,{data:r,...n,method:"POST"})}catch(i){if((s=i.response)!=null&&s.status)return i.response;throw i}}get instance(){if(this._instance)return this._instance;const e=Ao.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),e.interceptors.response.use(r=>(this.config.logger(`Response: ${r.config.url} - ${r.status}`),r))),this._instance=e}async request(e,r){const n=this.instance,s=(r==null?void 0:r.url)??new URL(e,this.config.url).toString();return Er(i=>n({...r,url:s}),{...this.config.retry,...r==null?void 0:r.retry})}}class b0{constructor(e){k(this,"utils");this.utils=e}async fund(e,r=1){const n=new Ee.Z(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const s=this.utils.tokenConfig,i=await this.utils.getBundlerAddress(this.utils.token);let a;if(s.needsFee){const E=await s.getFee(s.base[0]==="winston"?0:n,i);a=Ee.Z.isBigNumber(E)?E.multipliedBy(r).integerValue(Ee.Z.ROUND_CEIL):E}const o=await s.createTx(n,i,a);let u;try{u=await s.sendTx(o.tx)}catch(E){throw E}if(o.txId??(o.txId=u),!o.txId)throw new Error("Undefined transaction ID");ot.checkAndThrow(u,`Sending transaction to the ${this.utils.token} network`);let h=await this.utils.confirmationPoll(o.txId);if(!await this.submitTransaction(o.txId).catch(E=>{h=E}))throw new Error(`failed to post funding tx - ${o.txId} - keep this id! 
 ${h?` - ${(h==null?void 0:h.message)??h}`:""}`);return{reward:Ee.Z.isBigNumber(a)?a.toString():JSON.stringify(a),target:i,quantity:n.toString(),id:o.txId}}async submitTransaction(e){return await Er(async()=>{const r=await this.utils.api.post(`/account/balance/${this.utils.token}`,{tx_id:e});return ot.checkAndThrow(r,`Posting transaction ${e} information to the bundler`,[202]),r},{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0})}async submitFundTransaction(e){return this.submitTransaction(e)}}var Os=l(39098),Se=l.n(Os);const m0="logger/5.7.0";let bu=!1,mu=!1;const zi={debug:1,default:2,info:2,warning:3,error:4,off:5};let wu=zi.default,Ro=null;function w0(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken implementation")}catch(t){return t.message}return null}const vu=w0();var Po;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Po||(Po={}));var jt;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(jt||(jt={}));const Eu="0123456789abcdef";class se{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();zi[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(wu>zi[n])&&console.log.apply(console,r)}debug(...e){this._log(se.levels.DEBUG,e)}info(...e){this._log(se.levels.INFO,e)}warn(...e){this._log(se.levels.WARNING,e)}makeError(e,r,n){if(mu)return this.makeError("censored error",r,{});r||(r=se.errors.UNKNOWN_ERROR),n||(n={});const s=[];Object.keys(n).forEach(u=>{const h=n[u];try{if(h instanceof Uint8Array){let m="";for(let E=0;E<h.length;E++)m+=Eu[h[E]>>4],m+=Eu[h[E]&15];s.push(u+"=Uint8Array(0x"+m+")")}else s.push(u+"="+JSON.stringify(h))}catch{s.push(u+"="+JSON.stringify(n[u].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const i=e;let a="";switch(r){case jt.NUMERIC_FAULT:{a="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":a+="-"+u;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case jt.CALL_EXCEPTION:case jt.INSUFFICIENT_FUNDS:case jt.MISSING_NEW:case jt.NONCE_EXPIRED:case jt.REPLACEMENT_UNDERPRICED:case jt.TRANSACTION_REPLACED:case jt.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),s.length&&(e+=" ("+s.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=r,Object.keys(n).forEach(function(u){o[u]=n[u]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,se.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,s){e||this.throwError(r,n,s)}assertArgument(e,r,n,s){e||this.throwArgumentError(r,n,s)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),vu&&this.throwError("platform missing String.prototype.normalize",se.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:vu})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,se.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,se.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",se.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ro||(Ro=new se(m0)),Ro}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),bu){if(!e)return;this.globalLogger().throwError("error censorship permanent",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}mu=!!e,bu=!!r}static setLogLevel(e){const r=zi[e.toLowerCase()];if(r==null){se.globalLogger().warn("invalid log level - "+e);return}wu=r}static from(e){return new se(e)}}se.errors=jt,se.levels=Po;const v0="bytes/5.7.0",Je=new se(v0);function Su(t){return!!t.toHexString}function Tn(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Tn(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ko(t){return Xe(t)&&!(t.length%2)||$i(t)}function Au(t){return typeof t=="number"&&t==t&&t%1===0}function $i(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Au(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Au(r)||r<0||r>=256)return!1}return!0}function oe(t,e){if(e||(e={}),typeof t=="number"){Je.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Tn(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Su(t)&&(t=t.toHexString()),Xe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Je.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let s=0;s<r.length;s+=2)n.push(parseInt(r.substring(s,s+2),16));return Tn(new Uint8Array(n))}return $i(t)?Tn(new Uint8Array(t)):Je.throwArgumentError("invalid arrayify value","value",t)}function vt(t){const e=t.map(s=>oe(s)),r=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(r);return e.reduce((s,i)=>(n.set(i,s),s+i.length),0),Tn(n)}function fr(t){let e=oe(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function E0(t,e){t=oe(t),t.length>e&&Je.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Tn(r)}function Xe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Co="0123456789abcdef";function le(t,e){if(e||(e={}),typeof t=="number"){Je.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Co[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Su(t))return t.toHexString();if(Xe(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Je.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if($i(t)){let r="0x";for(let n=0;n<t.length;n++){let s=t[n];r+=Co[(s&240)>>4]+Co[s&15]}return r}return Je.throwArgumentError("invalid hexlify value","value",t)}function _u(t){if(typeof t!="string")t=le(t);else if(!Xe(t)||t.length%2)return null;return(t.length-2)/2}function jr(t,e,r){return typeof t!="string"?t=le(t):(!Xe(t)||t.length%2)&&Je.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Gr(t){let e="0x";return t.forEach(r=>{e+=le(r).substring(2)}),e}function l1(t){const e=S0(le(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function S0(t){typeof t!="string"&&(t=le(t)),Xe(t)||Je.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Et(t,e){for(typeof t!="string"?t=le(t):Xe(t)||Je.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Je.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Rn(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(ko(t)){let r=oe(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=le(r.slice(0,32)),e.s=le(r.slice(32,64))):r.length===65?(e.r=le(r.slice(0,32)),e.s=le(r.slice(32,64)),e.v=r[64]):Je.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Je.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=le(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const s=E0(oe(e._vs),32);e._vs=le(s);const i=s[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Je.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),s[0]&=127;const a=le(s);e.s==null?e.s=a:e.s!==a&&Je.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Je.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const s=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==s&&Je.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Xe(e.r)?Je.throwArgumentError("signature missing or invalid r","signature",t):e.r=Et(e.r,32),e.s==null||!Xe(e.s)?Je.throwArgumentError("signature missing or invalid s","signature",t):e.s=Et(e.s,32);const r=oe(e.s);r[0]>=128&&Je.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=le(r);e._vs&&(Xe(e._vs)||Je.throwArgumentError("signature invalid _vs","signature",t),e._vs=Et(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Je.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Tu(t){return t=Rn(t),le(vt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const A0="bignumber/5.7.0";var Ns=Se().BN;const dr=new se(A0),Io={},Ru=9007199254740991;function h1(t){return t!=null&&(xe.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||isHexString(t)||typeof t=="bigint"||isBytes(t))}let Pu=!1;class xe{constructor(e,r){e!==Io&&dr.throwError("cannot call constructor directly; use BigNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return St(Te(this).fromTwos(e))}toTwos(e){return St(Te(this).toTwos(e))}abs(){return this._hex[0]==="-"?xe.from(this._hex.substring(1)):this}add(e){return St(Te(this).add(Te(e)))}sub(e){return St(Te(this).sub(Te(e)))}div(e){return xe.from(e).isZero()&&Ot("division-by-zero","div"),St(Te(this).div(Te(e)))}mul(e){return St(Te(this).mul(Te(e)))}mod(e){const r=Te(e);return r.isNeg()&&Ot("division-by-zero","mod"),St(Te(this).umod(r))}pow(e){const r=Te(e);return r.isNeg()&&Ot("negative-power","pow"),St(Te(this).pow(r))}and(e){const r=Te(e);return(this.isNegative()||r.isNeg())&&Ot("unbound-bitwise-result","and"),St(Te(this).and(r))}or(e){const r=Te(e);return(this.isNegative()||r.isNeg())&&Ot("unbound-bitwise-result","or"),St(Te(this).or(r))}xor(e){const r=Te(e);return(this.isNegative()||r.isNeg())&&Ot("unbound-bitwise-result","xor"),St(Te(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ot("negative-width","mask"),St(Te(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ot("negative-width","shl"),St(Te(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ot("negative-width","shr"),St(Te(this).shrn(e))}eq(e){return Te(this).eq(Te(e))}lt(e){return Te(this).lt(Te(e))}lte(e){return Te(this).lte(Te(e))}gt(e){return Te(this).gt(Te(e))}gte(e){return Te(this).gte(Te(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Te(this).isZero()}toNumber(){try{return Te(this).toNumber()}catch{Ot("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return dr.throwError("this platform does not support BigInt",se.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Pu||(Pu=!0,dr.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?dr.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",se.errors.UNEXPECTED_ARGUMENT,{}):dr.throwError("BigNumber.toString does not accept parameters",se.errors.UNEXPECTED_ARGUMENT,{})),Te(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof xe)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new xe(Io,Ds(e)):e.match(/^-?[0-9]+$/)?new xe(Io,Ds(new Ns(e))):dr.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ot("underflow","BigNumber.from",e),(e>=Ru||e<=-Ru)&&Ot("overflow","BigNumber.from",e),xe.from(String(e));const r=e;if(typeof r=="bigint")return xe.from(r.toString());if($i(r))return xe.from(le(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return xe.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Xe(n)||n[0]==="-"&&Xe(n.substring(1))))return xe.from(n)}return dr.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Ds(t){if(typeof t!="string")return Ds(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&dr.throwArgumentError("invalid hex","value",t),t=Ds(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function St(t){return xe.from(Ds(t))}function Te(t){const e=xe.from(t).toHexString();return e[0]==="-"?new Ns("-"+e.substring(3),16):new Ns(e.substring(2),16)}function Ot(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),dr.throwError(t,se.errors.NUMERIC_FAULT,n)}function _0(t){return new Ns(t,36).toString(16)}function p1(t){return new Ns(t,16).toString(36)}class T0{constructor(){k(this,"publicKey");k(this,"signatureType");k(this,"signatureLength");k(this,"ownerLength");k(this,"pem")}static verify(e,r,n,s){throw new Error("You must implement verify method on child")}}var Re;(function(t){t[t.ARWEAVE=1]="ARWEAVE",t[t.ED25519=2]="ED25519",t[t.ETHEREUM=3]="ETHEREUM",t[t.SOLANA=4]="SOLANA",t[t.INJECTEDAPTOS=5]="INJECTEDAPTOS",t[t.MULTIAPTOS=6]="MULTIAPTOS",t[t.TYPEDETHEREUM=7]="TYPEDETHEREUM"})(Re||(Re={}));const Le={[Re.ARWEAVE]:{sigLength:512,pubLength:512,sigName:"arweave"},[Re.ED25519]:{sigLength:64,pubLength:32,sigName:"ed25519"},[Re.ETHEREUM]:{sigLength:65,pubLength:65,sigName:"ethereum"},[Re.SOLANA]:{sigLength:64,pubLength:32,sigName:"solana"},[Re.INJECTEDAPTOS]:{sigLength:64,pubLength:32,sigName:"injectedAptos"},[Re.MULTIAPTOS]:{sigLength:64*32+4,pubLength:32*32+1,sigName:"multiAptos"},[Re.TYPEDETHEREUM]:{sigLength:65,pubLength:42,sigName:"typedEthereum"}};var Ms=l(4909),Fs=l(55872).Buffer;class Ls{constructor(e,r){k(this,"_key");k(this,"pk");k(this,"ownerLength",Le[2].pubLength);k(this,"signatureLength",Le[2].sigLength);k(this,"_publicKey");k(this,"signatureType",2);this._key=e,this.pk=r}get publicKey(){return this._publicKey}get key(){throw new Error("You must implement `key`")}sign(e){return(0,Ms.Xx)(Fs.from(e),Fs.from(this.key))}static async verify(e,r,n){let s=e;return typeof e=="string"&&(s=Ae.toBuffer(e)),(0,Ms.T)(Fs.from(n),Fs.from(r),Fs.from(s))}}var ku=l(65415),qi=l(14774);function xt(t){let e=0;for(const s of t)e+=s.byteLength;const r=new Uint8Array(e);let n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let s=1;s<t.length;s++)r.set(new Uint8Array(t[s]),n),n+=t[s].byteLength;return r}function Cu(t){const e=Gt(t);return Bo(e)}function Bo(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function Ce(t){return new TextEncoder().encode(t)}function Uo(t){return Wt(Ce(t))}function Gt(t){return new Uint8Array((0,ku.toByteArray)(Uu(t)))}function Iu(t){return(0,ku.fromByteArray)(new Uint8Array(t))}function Wt(t){return Bu(Iu(t))}function Bu(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function Uu(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let e;return t.length%4==0?e=0:e=4-t.length%4,t.concat("=".repeat(e))}function R0(t){return new qi.Z(t).shiftedBy(-12)}function P0(t){return new qi.Z(t).shiftedBy(12)}class ji{constructor(){k(this,"keyLength",4096);k(this,"publicExponent",65537);k(this,"hashAlgorithm","sha256");k(this,"driver");this.driver=crypto==null?void 0:crypto.subtle}async generateJWK(){const e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",e.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(e,r,{saltLength:n}={saltLength:32}){const s=await this.driver.sign({name:"RSA-PSS",saltLength:n},await this.jwkToCryptoKey(e),r);return new Uint8Array(s)}async hash(e,r="SHA-256"){const n=await this.driver.digest(r,e);return new Uint8Array(n)}async verify(e,r,n){const s={kty:"RSA",e:"AQAB",n:e},i=await this.jwkToPublicCryptoKey(s),a=await this.driver.digest("SHA-256",r),o=await this.driver.verify({name:"RSA-PSS",saltLength:0},i,n,r),u=await this.driver.verify({name:"RSA-PSS",saltLength:32},i,n,r),h=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((i.algorithm.modulusLength-1)/8)-a.byteLength-2},i,n,r);return o||u||h}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}async encrypt(e,r,n){const s=await this.driver.importKey("raw",typeof r=="string"?Ce(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Ce(n||"salt"),iterations:1e5,hash:"SHA-256"},s,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=new Uint8Array(16);crypto.getRandomValues(a);const o=await this.driver.encrypt({name:"AES-CBC",iv:a},i,e);return xt([a,o])}async decrypt(e,r,n){const s=await this.driver.importKey("raw",typeof r=="string"?Ce(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:Ce(n||"salt"),iterations:1e5,hash:"SHA-256"},s,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=e.slice(0,16),o=await this.driver.decrypt({name:"AES-CBC",iv:a},i,e.slice(16));return xt([o])}}async function Pn(t){if(typeof t[Symbol.asyncIterator]=="function"){const s=t,i=(0,ur.createHash)("sha384");let a=0;for await(const h of s)a+=h.byteLength,i.update(h);const o=xt([Ce("blob"),Ce(a.toString())]),u=xt([await ct().hash(o,"SHA-384"),i.digest()]);return await ct().hash(u,"SHA-384")}else if(Array.isArray(t)){const s=xt([Ce("list"),Ce(t.length.toString())]);return await Ou(t,await ct().hash(s,"SHA-384"))}const e=t,r=xt([Ce("blob"),Ce(e.byteLength.toString())]),n=xt([await ct().hash(r,"SHA-384"),await ct().hash(e,"SHA-384")]);return await ct().hash(n,"SHA-384")}async function Ou(t,e){if(t.length<1)return e;const r=xt([e,await Pn(t[0])]),n=await ct().hash(r,"SHA-384");return await Ou(t.slice(1),n)}async function y1(t){const e=createHash("sha384");for await(const r of t)e.update(r);return e.digest()}var x1=null;class Hs extends Error{constructor(r,n={}){var e=(...I2)=>(super(...I2),k(this,"type"),k(this,"response"),this);n.message?e(n.message):e(),this.type=r,this.response=n.response}getType(){return this.type}}function Ks(t){let e=t.data;if(typeof t.data=="string")try{e=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:t.statusText||"unknown"}class k0{constructor(e,r){k(this,"api");k(this,"network");this.api=e,this.network=r}async getByHash(e){const r=await this.api.get(`block/hash/${e}`);if(r.status===200)return r.data;throw r.status===404?new Hs("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getByHeight(e){const r=await this.api.get(`block/height/${e}`);if(r.status===200)return r.data;throw r.status===404?new Hs("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.getByHash(e)}}var Nu=l(55872).Buffer;const Sr=256*1024,C0=32*1024,zs=32,kn=32;class I0{constructor(e){k(this,"crypto");this.crypto=e.deps.crypto}async chunkData(e){const r=[];let n=e,s=0;for(;n.byteLength>=Sr;){let i=Sr;const a=n.byteLength-Sr;a>0&&a<C0&&(i=Math.ceil(n.byteLength/2));const o=n.slice(0,i),u=await this.crypto.hash(o);s+=o.byteLength,r.push({dataHash:u,minByteRange:s-o.byteLength,maxByteRange:s}),n=n.slice(i)}return r.push({dataHash:await this.crypto.hash(n),minByteRange:s,maxByteRange:s+n.byteLength}),r}async generateLeaves(e){return Promise.all(e.map(async({dataHash:r,minByteRange:n,maxByteRange:s})=>({type:"leaf",id:await this.hash(await Promise.all([this.hash(r),this.hash(Gi(s))])),dataHash:r,minByteRange:n,maxByteRange:s})))}async computeRootHash(e){return(await this.generateTree(e)).id}async generateTree(e){return await this.buildLayers(await this.generateLeaves(await this.chunkData(e)))}async generateTransactionChunks(e){const r=await this.chunkData(e),n=await this.generateLeaves(r),s=await this.buildLayers(n),i=await this.generateProofs(s),a=r.slice(-1)[0];return a.maxByteRange-a.minByteRange===0&&(r.splice(r.length-1,1),i.splice(i.length-1,1)),{data_root:s.id,chunks:r,proofs:i}}async buildLayers(e,r=0){if(e.length<2)return e[0];const n=[];for(let s=0;s<e.length;s+=2)n.push(await this.hashBranch(e[s],e[s+1]));return this.buildLayers(n,r+1)}generateProofs(e){const r=this.resolveBranchProofs(e);return Array.isArray(r)?Du(r):[r]}resolveBranchProofs(e,r=new Uint8Array,n=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:xt([r,e.dataHash,Gi(e.maxByteRange)])};if(e.type=="branch"){const s=xt([r,e.leftChild.id,e.rightChild.id,Gi(e.byteRange)]);return[this.resolveBranchProofs(e.leftChild,s,n+1),this.resolveBranchProofs(e.rightChild,s,n+1)]}throw new Error("Unexpected node type")}async validatePath(e,r,n,s,i){if(s<=0)return!1;if(r>=s)return this.validatePath(e,0,s-1,s,i);if(r<0)return this.validatePath(e,0,0,s,i);if(i.length==kn+zs){const B=i.slice(0,kn),M=i.slice(B.length,B.length+zs),O=await this.hash([await this.hash(B),await this.hash(M)]);return Fu(e,O)?{offset:s-1,leftBound:n,rightBound:s,chunkSize:s-n}:!1}const a=i.slice(0,kn),o=i.slice(a.length,a.length+kn),u=i.slice(a.length+o.length,a.length+o.length+zs),h=Mu(u),m=i.slice(a.length+o.length+u.length),E=await this.hash([await this.hash(a),await this.hash(o),await this.hash(u)]);return Fu(e,E)?r<h?await this.validatePath(a,r,n,Math.min(s,h),m):await this.validatePath(o,r,Math.max(n,h),s,m):!1}async hashBranch(e,r){return r?{type:"branch",id:await this.hash([await this.hash(e.id),await this.hash(r.id),await this.hash(Gi(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:r.maxByteRange,leftChild:e,rightChild:r}:e}async hash(e){return Array.isArray(e)&&(e=qu.utils.concatBuffers(e)),new Uint8Array(await this.crypto.hash(e))}async debug(e,r=""){if(e.byteLength<1)return r;const n=e.slice(0,kn),s=e.slice(n.length,n.length+kn),i=e.slice(n.length+s.length,n.length+s.length+zs),a=Mu(i),o=e.slice(n.length+s.length+i.length),u=await this.hash([await this.hash(n),await this.hash(s),await this.hash(i)]),h=`${r}
${JSON.stringify(Nu.from(n))},${JSON.stringify(Nu.from(s))},${a} => ${JSON.stringify(u)}`;return this.debug(o,h)}}function Du(t){const e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...Du(r)):e.push(r)}),e}function Gi(t){const e=new Uint8Array(zs);for(let r=e.length-1;r>=0;r--){const n=t%256;e[r]=n,t=(t-n)/256}return e}function Mu(t){let e=0;for(let r=0;r<t.length;r++)e*=256,e+=t[r];return e}const Fu=(t,e)=>t.every((r,n)=>e[n]===r);var B0=I0;class U0{constructor(e){k(this,"api");this.api=e}async getTransactionMetadata(e){const r=await this.api.get(`tx/${e}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${Ks(r)}`)}async getChunk(e){const r=await this.api.get(`chunk/${e}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${Ks(r)}`)}async getChunkData(e){const r=await this.getChunk(e);return Gt(r.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e,r){const n=await this.getTransactionMetadata(e),s=parseInt(n.size),i=new Uint8Array(s);let a=0;for await(const o of this.concurrentChunkDownloader(e,r))i.set(o,a),a+=o.length;return i}async*concurrentChunkDownloader(e,r){const n={concurrency:10,...r},s=await this.getTransactionMetadata(e),i=new qi.Z(s.offset),a=new qi.Z(s.size),o=i.minus(a).plus(1);let u=0;const h=Math.ceil(a.dividedBy(Sr).toNumber()),m=$=>this.getChunkData($.toString()).then(Z=>(u+=Z.length,Z)),E=[],B=h-2,M=Math.min(B,n.concurrency);let O=0;for(let $=0;$<M;$++)E.push(m(o.plus(Sr*O++)));for(;O<B;)E.push(m(o.plus(Sr*O++))),yield E.shift();for(;E.length>0;)yield E.shift();if(yield m(o.plus(Sr*O++)),a.isGreaterThan(u)&&(yield m(o.plus(Sr*O++))),!a.isEqualTo(u))throw new Error(`got ${u}B, expected ${a.toString()}B`)}}function O0(t,e){const r=t;return r.deepHash=new e.deepHash({deps:{utils:{stringToBuffer:Ce,concatBuffers:xt},crypto:t}}),r}class N0{constructor({deps:e}){k(this,"crypto");k(this,"utils");this.crypto=e.crypto,this.utils=e.utils}async deepHash(e){if(Array.isArray(e)){const s=this.utils.concatBuffers([this.utils.stringToBuffer("list"),this.utils.stringToBuffer(e.length.toString())]);return await this.deepHashChunks(e,await this.crypto.hash(s,"SHA-384"))}const r=this.utils.concatBuffers([this.utils.stringToBuffer("blob"),this.utils.stringToBuffer(e.byteLength.toString())]),n=this.utils.concatBuffers([await this.crypto.hash(r,"SHA-384"),await this.crypto.hash(e,"SHA-384")]);return await this.crypto.hash(n,"SHA-384")}async deepHashChunks(e,r){if(e.length<1)return r;const n=this.utils.concatBuffers([r,await this.deepHash(e[0])]),s=await this.crypto.hash(n,"SHA-384");return await this.deepHashChunks(e.slice(1),s)}}class Lu{constructor(e){k(this,"_instance");k(this,"cookieMap",new Map);k(this,"config");e&&this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e),this._instance=void 0}getConfig(){return this.config}async requestInterceptor(e){const r=this.cookieMap.get(new URL(e.baseURL??"").host);return r&&(e.headers.cookie=r),e}async responseInterceptor(e){var n;const r=(n=e.headers)==null?void 0:n["set-cookie"];return r&&this.cookieMap.set(e.request.host,r),e}mergeDefaults(e){return e.headers??(e.headers={}),e.network&&!Object.keys(e.headers).includes("x-network")&&(e.headers["x-network"]=e.network),{url:e.url,timeout:e.timeout??2e4,logging:e.logging??!1,logger:e.logger??console.log,headers:{...e.headers,"x-irys-arweave-version":qu.VERSION},withCredentials:e.withCredentials??!1,retry:{retries:3,maxTimeout:5e3}}}async get(e,r){var n;try{return await this.request(e,{...r,method:"GET"})}catch(s){if((n=s.response)!=null&&n.status)return s.response;throw s}}async post(e,r,n){var s;try{return await this.request(e,{data:r,...n,method:"POST"})}catch(i){if((s=i.response)!=null&&s.status)return i.response;throw i}}get instance(){if(this._instance)return this._instance;const e=pu.Z.create({baseURL:this.config.url.toString(),timeout:this.config.timeout,maxContentLength:1024*1024*512,headers:this.config.headers,withCredentials:this.config.withCredentials});return this.config.withCredentials&&(e.interceptors.request.use(this.requestInterceptor.bind(this)),e.interceptors.response.use(this.responseInterceptor.bind(this))),this.config.logging&&(e.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),e.interceptors.response.use(r=>(this.config.logger(`Response: ${r.config.url} - ${r.status}`),r))),this._instance=e}async request(e,r){const n=this.instance,s=(r==null?void 0:r.url)??new URL(e,this.config.url).toString();return Er(i=>n({...r,url:s}),{...this.config.retry,...r==null?void 0:r.retry})}}const Hu=t=>typeof t!="string"&&"url"in t,D0={maxAttempts:15,randomlySelect:!0};class M0{constructor({gateways:e,miners:r,opts:n}){k(this,"minerInstances",[]);k(this,"globalConfig");k(this,"gatewayInstances",[]);this.globalConfig=(n==null?void 0:n.globalConfig)??{},r&&this.addMiners(r),e&&this.addGateways(e)}async addPeersFrom(e,r){const n=(await this.get("",{url:new URL("/peers",e).toString()})).data;this.addMiners(n.slice(0,r==null?void 0:r.limit).map(s=>`http://${s}`))}addMiners(e){e.forEach(r=>this.minerInstances.push(new Lu(Hu(r)?r:{url:new URL(r),...this.globalConfig})))}addGateways(e){e.forEach(r=>this.gatewayInstances.push(new Lu(Hu(r)?r:{url:new URL(r),...this.globalConfig})))}async get(e,r){return this.request(e,{...r,method:"GET"})}async post(e,r,n){return this.request(e,{data:r,...n,method:"POST"})}async request(e,r){const n={...D0,...r==null?void 0:r.fallback};let s=0;const i=[],a=r!=null&&r.gatewayOnly?this.gatewayInstances:this.gatewayInstances.concat(this.minerInstances),o=Math.min(Math.max(n==null?void 0:n.maxAttempts,1),a.length),u=n==null?void 0:n.onFallback;if(a.length===0)throw new Error("Unable to run request due to 0 configured gateways/miners.");for(;s++<o;){const h=a.at(n!=null&&n.randomlySelect?Math.floor(Math.random()*a.length):s-1);if(h)try{return await h.request(e,{...r})}catch(m){if(u==null||u(m,h),i.push(m),s>=o)throw m}}throw new Error("unreachable")}}var F0=M0;class Ku{get(e,r){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);if(this[e]instanceof Uint8Array)return r&&r.decode&&r.string?Bo(this[e]):r&&r.decode&&!r.string?this[e]:Wt(this[e]);if(this[e]instanceof Array){if((r==null?void 0:r.decode)!==void 0||(r==null?void 0:r.string)!==void 0)throw e==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[e]}return r&&r.decode==!0?r&&r.string?Cu(this[e]):Gt(this[e]):this[e]}}class L0 extends Ku{constructor(r,n){super();k(this,"name");k(this,"value");this.name=r,this.value=n}}class Nt extends Ku{constructor({attributes:r,deps:n}){super();k(this,"format",2);k(this,"id","");k(this,"last_tx","");k(this,"owner","");k(this,"tags",[]);k(this,"target","");k(this,"quantity","0");k(this,"data_size","0");k(this,"data",new Uint8Array);k(this,"data_root","");k(this,"reward","0");k(this,"signature","");k(this,"merkle");k(this,"deepHash");k(this,"chunks");this.merkle=n.merkle,this.deepHash=n.deepHash,Object.assign(this,r),typeof this.data=="string"&&(this.data=Gt(this.data)),r.tags&&(this.tags=r.tags)}addTag(r,n){this.tags.push({name:Uo(r),value:Uo(n)})}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Wt(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(r){this.owner=r}setSignature({id:r,owner:n,reward:s,tags:i,signature:a}){this.id=r,this.owner=n,s&&(this.reward=s),i&&(this.tags=i),this.signature=a}async prepareChunks(r){!this.chunks&&r.byteLength>0&&(this.chunks=await this.merkle.generateTransactionChunks(r),this.data_root=Wt(this.chunks.data_root)),!this.chunks&&r.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(r,n){if(!this.chunks)throw new Error("Chunks have not been prepared");const s=this.chunks.proofs[r],i=this.chunks.chunks[r];return{data_root:this.data_root,data_size:this.data_size,data_path:Wt(s.proof),offset:s.offset.toString(),chunk:Wt(n.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:const r=this.tags.reduce((s,i)=>xt([s,Gt(i.name),Gt(i.value)]),new Uint8Array);return xt([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Ce(this.quantity),Ce(this.reward),this.get("last_tx",{decode:!0,string:!1}),r]);case 2:this.data_root||await this.prepareChunks(this.data);const n=this.tags.map(s=>[Gt(s.name),Gt(s.value)]);return await this.deepHash.deepHash([Ce(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Ce(this.quantity),Ce(this.reward),this.get("last_tx",{decode:!0,string:!1}),n,Ce(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}class H0{constructor(e){k(this,"api");this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}}const zu=1,K0=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],$u=1e3*40;class $s{constructor({deps:e,transaction:r}){k(this,"chunkIndex",0);k(this,"txPosted",!1);k(this,"transaction");k(this,"lastRequestTimeEnd",0);k(this,"totalErrors",0);k(this,"data");k(this,"lastResponseStatus",0);k(this,"lastResponseError","");k(this,"crypto");k(this,"api");k(this,"merkle");k(this,"deepHash");if(!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.api=e.api,this.crypto=e.crypto,this.merkle=e.merkle,this.deepHash=e.deepHash,this.data=r.data,this.transaction=new Nt({attributes:Object.assign({},r,{data:new Uint8Array(0)}),deps:{merkle:e.merkle,deepHash:e.deepHash}})}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+$u-Date.now(),$u);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(a=>setTimeout(a,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);const n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await this.merkle.validatePath(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),Gt(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const i=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(a=>(console.error(a.message),{status:-1,data:{error:a.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=i.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=Ks(i),K0.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized({serialized:e,data:r,deps:n}){if(!e||typeof e.chunkIndex!="number"||typeof e.transaction!="object")throw new Error("Serialized object does not match expected format.");const s=new Nt(e.transaction);s.chunks||await s.prepareChunks(r);const i=new $s({deps:n,transaction:s});if(i.chunkIndex=e.chunkIndex,i.lastRequestTimeEnd=e.lastRequestTimeEnd,i.lastResponseError=e.lastResponseError,i.lastResponseStatus=e.lastResponseStatus,i.txPosted=e.txPosted,i.data=r,i.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return i}static async fromTransactionId(e,r){const n=await e.get(`tx/${r}`);if(n.status!==200)throw new Error(`Tx ${r} not found: ${n.status}`);const s=n.data;return s.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:s}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=zu){this.transaction.data=this.data;const n=await this.api.post("tx",this.transaction).catch(s=>(console.error(s),{status:-1,data:{error:s.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=zu;return}throw this.lastResponseError=Ks(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}const r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=Ks(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}}class z0{constructor({deps:e}){k(this,"api");k(this,"crypto");k(this,"chunks");k(this,"merkle");k(this,"deepHash");this.api=e.api,this.crypto=e.crypto,this.chunks=e.chunks,this.merkle=e.merkle,this.deepHash=e.deepHash}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,r){const n=r?`price/${e}/${r}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(s){return s}]}).then(s=>s.data)}async get(e){const r=await this.api.get(`tx/${e}`);if(r.status==200){const n=parseInt(r.data.data_size);if(r.data.format>=2&&n>0&&n<=1024*1024*12){const s=await this.getData(e);return new Nt({attributes:{...r.data,data:s},deps:{merkle:this.merkle,deepHash:this.deepHash}})}return new Nt({attributes:{...r.data,format:r.data.format||1},deps:{merkle:this.merkle,deepHash:this.deepHash}})}throw r.status===404?new Hs("TX_NOT_FOUND"):r.status===410?new Hs("TX_FAILED"):new Hs("TX_INVALID")}fromRaw(e){return new Nt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})}getStatus(e){return this.api.get(`tx/${e}/status`).then(r=>r.status===200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(e){let r;try{r=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=await this.chunks.downloadChunkedData(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async getDataStream(e){let r;try{const n=(await this.api.get(`/${e}`,{responseType:"arraybuffer"})).data;r=async function*(){yield n}()}catch(n){console.error(`Error while trying to download contiguous data from gateway cache for ${e}`),console.error(n)}if(!r){console.warn(`Falling back to chunks for ${e}`);try{r=this.chunks.concurrentChunkDownloader(e)}catch(n){console.error(`Error while trying to download chunked data for ${e}`),console.error(n)}}if(!r)throw new Error(`${e} data was not found!`);return r}async sign(e,r,n){const i=typeof r=="object"&&(o=>{let u=!0;return["n","e","d","p","q","dp","dq","qi"].map(h=>!(h in o)&&(u=!1)),u})(r),a=typeof arweaveWallet=="object";if(!i&&!a)throw new Error("No valid JWK or external wallet found to sign transaction.");if(a){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}e.tags=e.tags.map(u=>new L0(u.name,u.value));const o=await arweaveWallet.sign(e,n);e.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else if(i){e.setOwner(r.n);const o=await e.getSignatureData(),u=await this.crypto.sign(r,o,n),h=await this.crypto.hash(u);e.setSignature({id:Wt(h),owner:r.n,signature:Wt(u)})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(e){const r=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),s=Wt(await this.crypto.hash(n));if(e.id!==s)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,r,n)}async post(e){if(typeof e=="string"?e=new Nt({attributes:JSON.parse(e),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e.readInt32BE=="function"?e=new Nt({attributes:JSON.parse(e.toString()),deps:{merkle:this.merkle,deepHash:this.deepHash}}):typeof e=="object"&&!(e instanceof Nt)&&(e=new Nt({attributes:e,deps:{merkle:this.merkle,deepHash:this.deepHash}})),!(e instanceof Nt))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);const r=await this.getUploader(e,e.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(n){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,r){let n;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),e instanceof Nt){if(r||(r=e.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(r),n=new $s({transaction:e,deps:{api:this.api,crypto:this.crypto,merkle:this.merkle,deepHash:this.deepHash}}),(!n.data||n.data.length===0)&&(n.data=r)}else{if(typeof e=="string"&&(e=await $s.fromTransactionId(this.api,e)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await $s.fromSerialized({deps:{api:this.api,merkle:this.merkle,crypto:this.crypto,deepHash:this.deepHash},serialized:e,data:r})}return n}async*upload(e,r){const n=await this.getUploader(e,r);for(;!n.isComplete;)await n.uploadChunk(),yield n;return n}}class $0{constructor(e,r){k(this,"api");k(this,"crypto");this.api=e,this.crypto=r}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return Wt(await this.crypto.hash(Gt(e)))}}const is=class is{constructor(e){k(this,"config");k(this,"api");k(this,"wallets");k(this,"transactions");k(this,"network");k(this,"blocks");k(this,"chunks");k(this,"crypto");k(this,"deepHash");k(this,"merkle");if(this.config=e,!e.crypto)throw new Error("config.crypto is required");this.crypto=O0(e.crypto,{deepHash:N0}),this.deepHash=this.crypto.deepHash;const r=e.gateways?Array.isArray(e.gateways)?e.gateways:[e.gateways]:void 0;this.api=new F0({gateways:r,miners:e.miners}),this.wallets=new $0(this.api,this.crypto),this.chunks=new U0(this.api),this.network=new H0(this.api),this.blocks=new k0(this.api,this.network),this.merkle=new B0({deps:{crypto:this.crypto}}),this.transactions=new z0({deps:{api:this.api,crypto:e.crypto,chunks:this.chunks,merkle:this.merkle,deepHash:this.deepHash}})}get utils(){return is.utils}getConfig(){return this.config}async createTransaction(e,r){const n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&r&&r!=="use_wallet"&&(n.owner=r.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=Ce(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){const i=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(i,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);const s=new Nt({attributes:n,deps:{merkle:this.merkle,deepHash:this.deepHash}});return await s.getSignatureData(),s}};k(is,"init"),k(is,"utils",p),k(is,"VERSION","0.0.1");let Wi=is;var qu=Wi;class Oo extends Wi{constructor(e,r){super({crypto:(r==null?void 0:r.crypto)??new ji,...r,gateways:e??"https://arweave.net"})}static init(e){return new Oo(e)}}const g1=null;var b1=null;const q0=ji.default?ji.default:ji;class ju extends q0{getPublicKey(e){throw new Error("Unimplemented")}}let j0;function ct(){return j0??(j0=new ju)}var G0=l(55872).Buffer;class Gu{constructor(e,r){k(this,"_key");k(this,"pk");k(this,"signatureType",1);k(this,"ownerLength",Le[1].pubLength);k(this,"signatureLength",Le[1].sigLength);k(this,"_publicKey");this._key=e,this.pk=r,r||(this.pk=ct().getPublicKey(JSON.parse(e)))}get publicKey(){return this._publicKey}sign(e){return(0,ur.createSign)("sha256").update(e).sign({key:this._key,padding:ur.constants.RSA_PKCS1_PSS_PADDING})}static async verify(e,r,n){return await ct().verify(G0.isBuffer(e)?Ae.encode(e):e,r,n)}}var W0=l(48957),Vi=l(55872).Buffer;const Wr=W0.define;function V0(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function No(t){return V0(Vi.from(t,"hex").toString("base64"))}const Wu=Wr("RSAPublicKey",function(){this.seq().obj(this.key("n").int(),this.key("e").int())}),Vu=Wr("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),J0=Wr("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Vu),this.key("publicKey").bitstr())}),Ju=Wr("Version",function(){this.int({0:"two-prime",1:"multi"})}),X0=Wr("OtherPrimeInfos",function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}),Xu=Wr("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(Ju),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(X0))}),Z0=Wr("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(Ju),this.key("algorithm").use(Vu),this.key("privateKey").bitstr())}),m1="1.2.840.113549.1.1.1";function Zu(t,e){return e=e||{},Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function Do(t){return t.length%2===1?"0"+t:t}function Yu(t,e){const r=Wu.decode(t,"der"),n=Do(r.e.toString(16)),s={kty:"RSA",n:Ar(r.n),e:No(n)};return Zu(s,e)}function Qu(t,e){const r=Xu.decode(t,"der"),n=Do(r.e.toString(16)),s={kty:"RSA",n:Ar(r.n),e:No(n),d:Ar(r.d),p:Ar(r.p),q:Ar(r.q),dp:Ar(r.dp),dq:Ar(r.dq),qi:Ar(r.qi)};return Zu(s,e)}function Y0(t,e){const r=J0.decode(t,"der");return Yu(r.publicKey.data,e)}function Q0(t,e){const r=Z0.decode(t,"der");return Qu(r.privateKey.data,e)}function eh(t){const e=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(t);if(!e)return null;const r=!!e[1];return e[2]==="PRIVATE"?r?Qu:Q0:r?Yu:Y0}function th(t){return{n:_r(t.n),e:_r(t.e),d:t.d&&_r(t.d),p:t.p&&_r(t.p),q:t.q&&_r(t.q),dp:t.dp&&_r(t.dp),dq:t.dq&&_r(t.dq),qi:t.qi&&_r(t.qi)}}function Ar(t){return No(Do(t.toString(16)))}function rh(t){return new Os(Vi.from(t,"base64"))}function _r(t){return/^[0-9]+$/.test(t)?new Os(t,10):rh(t)}function w1(t,e){let r=t.toString().split(/(\r\n|\r|\n)+/g);r=r.filter(function(s){return s.trim().length!==0});const n=eh(r[0]);return r=r.slice(1,-1).join(""),n(Vi.from(r.replace(/[^\w\d\+\/=]+/g,""),"base64"),e)}function nh(t){const e=th(t),r=!!e.d,n=r?"PRIVATE":"PUBLIC",s="-----BEGIN RSA "+n+` KEY-----
`,i=`
-----END RSA `+n+` KEY-----
`;let a=Vi.alloc(0);r?(e.version="two-prime",a=Xu.encode(e,"der")):a=Wu.encode(e,"der");const o=a.toString("base64").match(/.{1,64}/g).join(`
`);return s+o+i}class Ji extends Gu{constructor(r){super(nh(r),r.n);k(this,"jwk");this.jwk=r}get publicKey(){if(!this.pk)throw new Error("ArweaveSigner - pk is undefined");return Ae.toBuffer(this.pk)}sign(r){return ct().sign(this.jwk,r)}static async verify(r,n,s){return await ct().verify(r,n,s)}}var Mo=l(55872).Buffer;class ef{constructor(e){k(this,"_publicKey");k(this,"ownerLength",Le[2].pubLength);k(this,"signatureLength",Le[2].sigLength);k(this,"signatureType",2);k(this,"pem");k(this,"provider");if(this.provider=e,!this.provider.publicKey)throw new Error("InjectedSolanaSigner - provider.publicKey is undefined");this._publicKey=this.provider.publicKey.toBuffer()}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");return await this.provider.signMessage(e)}static async verify(e,r,n){let s=e;return typeof e=="string"&&(s=Ae.toBuffer(e)),(0,Ms.T)(Mo.from(n),Mo.from(r),Mo.from(s))}}var tf=l(40954),sh=l.n(tf);function rt(t){return"0x"+sh().keccak_256(oe(t))}const ih="strings/5.7.0",rf=new se(ih);var Tr;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Tr||(Tr={}));var Tt;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Tt||(Tt={}));function ah(t,e,r,n,s){return rf.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function nf(t,e,r,n,s){if(t===Tt.BAD_PREFIX||t===Tt.UNEXPECTED_CONTINUE){let i=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)i++;return i}return t===Tt.OVERRUN?r.length-e-1:0}function oh(t,e,r,n,s){return t===Tt.OVERLONG?(n.push(s),0):(n.push(65533),nf(t,e,r,n,s))}const ch=Object.freeze({error:ah,ignore:nf,replace:oh});function Fo(t,e){e==null&&(e=ch.error),t=oe(t);const r=[];let n=0;for(;n<t.length;){const s=t[n++];if(!(s>>7)){r.push(s);continue}let i=null,a=null;if((s&224)===192)i=1,a=127;else if((s&240)===224)i=2,a=2047;else if((s&248)===240)i=3,a=65535;else{(s&192)===128?n+=e(Tt.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Tt.BAD_PREFIX,n-1,t,r);continue}if(n-1+i>=t.length){n+=e(Tt.OVERRUN,n-1,t,r);continue}let o=s&(1<<8-i-1)-1;for(let u=0;u<i;u++){let h=t[n];if((h&192)!=128){n+=e(Tt.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|h&63,n++}if(o!==null){if(o>1114111){n+=e(Tt.OUT_OF_RANGE,n-1-i,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(Tt.UTF16_SURROGATE,n-1-i,t,r,o);continue}if(o<=a){n+=e(Tt.OVERLONG,n-1-i,t,r,o);continue}r.push(o)}}return r}function Vt(t,e=Tr.current){e!=Tr.current&&(rf.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);if(n>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((s&1023)<<10)+(i&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return oe(r)}function Lo(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function v1(t,e){return'"'+Fo(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?Lo(r):(r-=65536,Lo((r>>10&1023)+55296)+Lo((r&1023)+56320))}).join("")+'"'}function uh(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function fh(t,e){return uh(Fo(t,e))}function E1(t,e=Tr.current){return Fo(Vt(t,e))}const dh=`Ethereum Signed Message:
`;function Xi(t){return typeof t=="string"&&(t=Vt(t)),rt(vt([Vt(dh),Vt(String(t.length)),t]))}var lh=l(14751),Rt=l.n(lh),S1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof l.g<"u"?l.g:typeof self<"u"?self:{};function A1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cn(t,e,r){return r={path:e,exports:{},require:function(n,s){return hh(n,s??r.path)}},t(r,r.exports),r.exports}function _1(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function T1(t){return t&&Object.prototype.hasOwnProperty.call(t,"default")&&Object.keys(t).length===1?t.default:t}function R1(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function hh(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ho=sf;function sf(t,e){if(!t)throw new Error(e||"Assertion failed")}sf.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Jt=Cn(function(t,e){"use strict";var r=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var u=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)u[h]=a[h]|0;return u}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)u.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var m=a.charCodeAt(h),E=m>>8,B=m&255;E?u.push(E,B):u.push(B)}return u}r.toArray=n;function s(a){return a.length===1?"0"+a:a}r.zero2=s;function i(a){for(var o="",u=0;u<a.length;u++)o+=s(a[u].toString(16));return o}r.toHex=i,r.encode=function(o,u){return u==="hex"?i(o):o}}),Pt=Cn(function(t,e){"use strict";var r=e;r.assert=Ho,r.toArray=Jt.toArray,r.zero2=Jt.zero2,r.toHex=Jt.toHex,r.encode=Jt.encode;function n(u,h,m){var E=new Array(Math.max(u.bitLength(),m)+1);E.fill(0);for(var B=1<<h+1,M=u.clone(),O=0;O<E.length;O++){var $,Z=M.andln(B-1);M.isOdd()?(Z>(B>>1)-1?$=(B>>1)-Z:$=Z,M.isubn($)):$=0,E[O]=$,M.iushrn(1)}return E}r.getNAF=n;function s(u,h){var m=[[],[]];u=u.clone(),h=h.clone();for(var E=0,B=0,M;u.cmpn(-E)>0||h.cmpn(-B)>0;){var O=u.andln(3)+E&3,$=h.andln(3)+B&3;O===3&&(O=-1),$===3&&($=-1);var Z;O&1?(M=u.andln(7)+E&7,(M===3||M===5)&&$===2?Z=-O:Z=O):Z=0,m[0].push(Z);var ce;$&1?(M=h.andln(7)+B&7,(M===3||M===5)&&O===2?ce=-$:ce=$):ce=0,m[1].push(ce),2*E===Z+1&&(E=1-E),2*B===ce+1&&(B=1-B),u.iushrn(1),h.iushrn(1)}return m}r.getJSF=s;function i(u,h,m){var E="_"+h;u.prototype[h]=function(){return this[E]!==void 0?this[E]:this[E]=m.call(this)}}r.cachedProperty=i;function a(u){return typeof u=="string"?r.toArray(u,"hex"):u}r.parseBytes=a;function o(u){return new(Se())(u,"hex","le")}r.intFromLE=o}),Zi=Pt.getNAF,ph=Pt.getJSF,Yi=Pt.assert;function Rr(t,e){this.type=t,this.p=new(Se())(e.p,16),this.red=e.prime?Se().red(e.prime):Se().mont(this.p),this.zero=new(Se())(0).toRed(this.red),this.one=new(Se())(1).toRed(this.red),this.two=new(Se())(2).toRed(this.red),this.n=e.n&&new(Se())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Vr=Rr;Rr.prototype.point=function(){throw new Error("Not implemented")},Rr.prototype.validate=function(){throw new Error("Not implemented")},Rr.prototype._fixedNafMul=function(e,r){Yi(e.precomputed);var n=e._getDoubles(),s=Zi(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var a=[],o,u;for(o=0;o<s.length;o+=n.step){u=0;for(var h=o+n.step-1;h>=o;h--)u=(u<<1)+s[h];a.push(u)}for(var m=this.jpoint(null,null,null),E=this.jpoint(null,null,null),B=i;B>0;B--){for(o=0;o<a.length;o++)u=a[o],u===B?E=E.mixedAdd(n.points[o]):u===-B&&(E=E.mixedAdd(n.points[o].neg()));m=m.add(E)}return m.toP()},Rr.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,a=Zi(r,n,this._bitLength),o=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var h=0;u>=0&&a[u]===0;u--)h++;if(u>=0&&h++,o=o.dblp(h),u<0)break;var m=a[u];Yi(m!==0),e.type==="affine"?m>0?o=o.mixedAdd(i[m-1>>1]):o=o.mixedAdd(i[-m-1>>1].neg()):m>0?o=o.add(i[m-1>>1]):o=o.add(i[-m-1>>1].neg())}return e.type==="affine"?o.toP():o},Rr.prototype._wnafMulAdd=function(e,r,n,s,i){var a=this._wnafT1,o=this._wnafT2,u=this._wnafT3,h=0,m,E,B;for(m=0;m<s;m++){B=r[m];var M=B._getNAFPoints(e);a[m]=M.wnd,o[m]=M.points}for(m=s-1;m>=1;m-=2){var O=m-1,$=m;if(a[O]!==1||a[$]!==1){u[O]=Zi(n[O],a[O],this._bitLength),u[$]=Zi(n[$],a[$],this._bitLength),h=Math.max(u[O].length,h),h=Math.max(u[$].length,h);continue}var Z=[r[O],null,null,r[$]];r[O].y.cmp(r[$].y)===0?(Z[1]=r[O].add(r[$]),Z[2]=r[O].toJ().mixedAdd(r[$].neg())):r[O].y.cmp(r[$].y.redNeg())===0?(Z[1]=r[O].toJ().mixedAdd(r[$]),Z[2]=r[O].add(r[$].neg())):(Z[1]=r[O].toJ().mixedAdd(r[$]),Z[2]=r[O].toJ().mixedAdd(r[$].neg()));var ce=[-3,-1,-5,-7,0,7,5,1,3],ye=ph(n[O],n[$]);for(h=Math.max(ye[0].length,h),u[O]=new Array(h),u[$]=new Array(h),E=0;E<h;E++){var pe=ye[0][E]|0,Ue=ye[1][E]|0;u[O][E]=ce[(pe+1)*3+(Ue+1)],u[$][E]=0,o[O]=Z}}var Ie=this.jpoint(null,null,null),tt=this._wnafT4;for(m=h;m>=0;m--){for(var at=0;m>=0;){var Oe=!0;for(E=0;E<s;E++)tt[E]=u[E][m]|0,tt[E]!==0&&(Oe=!1);if(!Oe)break;at++,m--}if(m>=0&&at++,Ie=Ie.dblp(at),m<0)break;for(E=0;E<s;E++){var We=tt[E];We!==0&&(We>0?B=o[E][We-1>>1]:We<0&&(B=o[E][-We-1>>1].neg()),B.type==="affine"?Ie=Ie.mixedAdd(B):Ie=Ie.add(B))}}for(m=0;m<s;m++)o[m]=null;return i?Ie:Ie.toP()};function Dt(t,e){this.curve=t,this.type=e,this.precomputed=null}Rr.BasePoint=Dt,Dt.prototype.eq=function(){throw new Error("Not implemented")},Dt.prototype.validate=function(){return this.curve.validate(this)},Rr.prototype.decodePoint=function(e,r){e=Pt.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Yi(e[e.length-1]%2===0):e[0]===7&&Yi(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")},Dt.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Dt.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},Dt.prototype.encode=function(e,r){return Pt.encode(this._encode(r),e)},Dt.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this},Dt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1},Dt.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var a=0;a<e;a++)s=s.dbl();n.push(s)}return{step:e,points:n}},Dt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}},Dt.prototype._getBeta=function(){return null},Dt.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Ko=Cn(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var s=function(){};s.prototype=n.prototype,r.prototype=new s,r.prototype.constructor=r}}}),yh=Pt.assert;function Mt(t){Vr.call(this,"short",t),this.a=new(Se())(t.a,16).toRed(this.red),this.b=new(Se())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ko(Mt,Vr);var xh=Mt;Mt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new(Se())(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new(Se())(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],yh(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new(Se())(o.a,16),b:new(Se())(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}},Mt.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Se().mont(e),n=new(Se())(2).toRed(r).redInvm(),s=n.redNeg(),i=new(Se())(3).toRed(r).redNeg().redSqrt().redMul(n),a=s.redAdd(i).fromRed(),o=s.redSub(i).fromRed();return[a,o]},Mt.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new(Se())(1),a=new(Se())(0),o=new(Se())(0),u=new(Se())(1),h,m,E,B,M,O,$,Z=0,ce,ye;n.cmpn(0)!==0;){var pe=s.div(n);ce=s.sub(pe.mul(n)),ye=o.sub(pe.mul(i));var Ue=u.sub(pe.mul(a));if(!E&&ce.cmp(r)<0)h=$.neg(),m=i,E=ce.neg(),B=ye;else if(E&&++Z===2)break;$=ce,s=n,n=ce,o=i,i=ye,u=a,a=Ue}M=ce.neg(),O=ye;var Ie=E.sqr().add(B.sqr()),tt=M.sqr().add(O.sqr());return tt.cmp(Ie)>=0&&(M=h,O=m),E.negative&&(E=E.neg(),B=B.neg()),M.negative&&(M=M.neg(),O=O.neg()),[{a:E,b:B},{a:M,b:O}]},Mt.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),u=a.mul(s.a),h=i.mul(n.b),m=a.mul(s.b),E=e.sub(o).sub(u),B=h.add(m).neg();return{k1:E,k2:B}},Mt.prototype.pointFromX=function(e,r){e=new(Se())(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)},Mt.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0},Mt.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),u=e[a],h=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),s[a*2]=u,s[a*2+1]=h,i[a*2]=o.k1,i[a*2+1]=o.k2}for(var m=this._wnafMulAdd(1,s,i,a*2,n),E=0;E<a*2;E++)s[E]=null,i[E]=null;return m};function nt(t,e,r,n){Vr.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Se())(e,16),this.y=new(Se())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ko(nt,Vr.BasePoint),Mt.prototype.point=function(e,r,n){return new nt(this,e,r,n)},Mt.prototype.pointFromJSON=function(e,r){return nt.fromJSON(this,e,r)},nt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}},nt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},nt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(o){return e.point(o[0],o[1],n)}var a=r[2];return s.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[s].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[s].concat(a.naf.points.map(i))}},s},nt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},nt.prototype.isInfinity=function(){return this.inf},nt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)},nt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},nt.prototype.getX=function(){return this.x.fromRed()},nt.prototype.getY=function(){return this.y.fromRed()},nt.prototype.mul=function(e){return e=new(Se())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},nt.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)},nt.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)},nt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},nt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r},nt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ut(t,e,r,n){Vr.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Se())(0)):(this.x=new(Se())(e,16),this.y=new(Se())(r,16),this.z=new(Se())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ko(ut,Vr.BasePoint),Mt.prototype.jpoint=function(e,r,n){return new ut(this,e,r,n)},ut.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)},ut.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ut.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),u=s.redSub(i),h=a.redSub(o);if(u.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=u.redSqr(),E=m.redMul(u),B=s.redMul(m),M=h.redSqr().redIAdd(E).redISub(B).redISub(B),O=h.redMul(B.redISub(M)).redISub(a.redMul(E)),$=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(M,O,$)},ut.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(s),u=i.redSub(a);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),m=h.redMul(o),E=n.redMul(h),B=u.redSqr().redIAdd(m).redISub(E).redISub(E),M=u.redMul(E.redISub(B)).redISub(i.redMul(m)),O=this.z.redMul(o);return this.curve.jpoint(B,M,O)},ut.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,u=this.z,h=u.redSqr().redSqr(),m=o.redAdd(o);for(r=0;r<e;r++){var E=a.redSqr(),B=m.redSqr(),M=B.redSqr(),O=E.redAdd(E).redIAdd(E).redIAdd(s.redMul(h)),$=a.redMul(B),Z=O.redSqr().redISub($.redAdd($)),ce=$.redISub(Z),ye=O.redMul(ce);ye=ye.redIAdd(ye).redISub(M);var pe=m.redMul(u);r+1<e&&(h=h.redMul(M)),a=Z,u=pe,m=ye}return this.curve.jpoint(a,m.redMul(i),u)},ut.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ut.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var u=s.redAdd(s).redIAdd(s),h=u.redSqr().redISub(o).redISub(o),m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),e=h,r=u.redMul(o.redISub(h)).redISub(m),n=this.y.redAdd(this.y)}else{var E=this.x.redSqr(),B=this.y.redSqr(),M=B.redSqr(),O=this.x.redAdd(B).redSqr().redISub(E).redISub(M);O=O.redIAdd(O);var $=E.redAdd(E).redIAdd(E),Z=$.redSqr(),ce=M.redIAdd(M);ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),e=Z.redISub(O).redISub(O),r=$.redMul(O.redISub(e)).redISub(ce),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)},ut.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(s).redISub(a);o=o.redIAdd(o);var u=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),h=u.redSqr().redISub(o).redISub(o);e=h;var m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),r=u.redMul(o.redISub(h)).redISub(m),n=this.y.redAdd(this.y)}else{var E=this.z.redSqr(),B=this.y.redSqr(),M=this.x.redMul(B),O=this.x.redSub(E).redMul(this.x.redAdd(E));O=O.redAdd(O).redIAdd(O);var $=M.redIAdd(M);$=$.redIAdd($);var Z=$.redAdd($);e=O.redSqr().redISub(Z),n=this.y.redAdd(this.z).redSqr().redISub(B).redISub(E);var ce=B.redSqr();ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),r=O.redMul($.redISub(e)).redISub(ce)}return this.curve.jpoint(e,r,n)},ut.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),h=r.redAdd(r);h=h.redIAdd(h);var m=h.redMul(o),E=u.redSqr().redISub(m.redAdd(m)),B=m.redISub(E),M=o.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var O=u.redMul(B).redISub(M),$=n.redAdd(n).redMul(s);return this.curve.jpoint(E,O,$)},ut.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var u=o.redSqr(),h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=i.redIAdd(o).redSqr().redISub(a).redISub(u).redISub(h),E=r.redMul(m);E=E.redIAdd(E),E=E.redIAdd(E);var B=this.x.redMul(u).redISub(E);B=B.redIAdd(B),B=B.redIAdd(B);var M=this.y.redMul(m.redMul(h.redISub(m)).redISub(o.redMul(u)));M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var O=this.z.redAdd(o).redSqr().redISub(n).redISub(u);return this.curve.jpoint(B,M,O)},ut.prototype.mul=function(e,r){return e=new(Se())(e,r),this.curve._wnafMul(this,e)},ut.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0},ut.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}},ut.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ut.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Qi=Cn(function(t,e){"use strict";var r=e;r.base=Vr,r.short=xh,r.mont=null,r.edwards=null}),ea=Cn(function(t,e){"use strict";var r=e,n=Pt.assert;function s(o){o.type==="short"?this.curve=new Qi.short(o):o.type==="edwards"?this.curve=new Qi.edwards(o):this.curve=new Qi.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=s;function i(o,u){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var h=new s(u);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:h}),h}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Rt().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Rt().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Rt().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Rt().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Rt().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Rt().sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Rt().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Rt().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Pr(t){if(!(this instanceof Pr))return new Pr(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Jt.toArray(t.entropy,t.entropyEnc||"hex"),r=Jt.toArray(t.nonce,t.nonceEnc||"hex"),n=Jt.toArray(t.pers,t.persEnc||"hex");Ho(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var af=Pr;Pr.prototype._init=function(e,r,n){var s=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},Pr.prototype._hmac=function(){return new(Rt()).hmac(this.hash,this.K)},Pr.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Pr.prototype.reseed=function(e,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),e=Jt.toArray(e,r),n=Jt.toArray(n,s),Ho(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Pr.prototype.generate=function(e,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=Jt.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(n),this._reseed++,Jt.encode(a,r)};var zo=Pt.assert;function dt(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var $o=dt;dt.fromPublic=function(e,r,n){return r instanceof dt?r:new dt(e,{pub:r,pubEnc:n})},dt.fromPrivate=function(e,r,n){return r instanceof dt?r:new dt(e,{priv:r,privEnc:n})},dt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},dt.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub},dt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},dt.prototype._importPrivate=function(e,r){this.priv=new(Se())(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},dt.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?zo(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&zo(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)},dt.prototype.derive=function(e){return e.validate()||zo(e.validate(),"public point not validated"),e.mul(this.priv).getX()},dt.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)},dt.prototype.verify=function(e,r){return this.ec.verify(e,r,this)},dt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var gh=Pt.assert;function ta(t,e){if(t instanceof ta)return t;this._importDER(t,e)||(gh(t.r&&t.s,"Signature without r or s"),this.r=new(Se())(t.r,16),this.s=new(Se())(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ra=ta;function bh(){this.place=0}function qo(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var s=0,i=0,a=e.place;i<n;i++,a++)s<<=8,s|=t[a],s>>>=0;return s<=127?!1:(e.place=a,s)}function of(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}ta.prototype._importDER=function(e,r){e=Pt.toArray(e,r);var n=new bh;if(e[n.place++]!==48)return!1;var s=qo(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=qo(e,n);if(i===!1)return!1;var a=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var o=qo(e,n);if(o===!1||e.length!==o+n.place)return!1;var u=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new(Se())(a),this.s=new(Se())(u),this.recoveryParam=null,!0};function jo(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}ta.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=of(r),n=of(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];jo(s,r.length),s=s.concat(r),s.push(2),jo(s,n.length);var i=s.concat(n),a=[48];return jo(a,i.length),a=a.concat(i),Pt.encode(a,e)};var mh=function(){throw new Error("unsupported")},cf=Pt.assert;function Ft(t){if(!(this instanceof Ft))return new Ft(t);typeof t=="string"&&(cf(Object.prototype.hasOwnProperty.call(ea,t),"Unknown curve "+t),t=ea[t]),t instanceof ea.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var wh=Ft;Ft.prototype.keyPair=function(e){return new $o(this,e)},Ft.prototype.keyFromPrivate=function(e,r){return $o.fromPrivate(this,e,r)},Ft.prototype.keyFromPublic=function(e,r){return $o.fromPublic(this,e,r)},Ft.prototype.genKeyPair=function(e){e||(e={});for(var r=new af({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||mh(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),s=this.n.sub(new(Se())(2));;){var i=new(Se())(r.generate(n));if(!(i.cmp(s)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Ft.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},Ft.prototype.sign=function(e,r,n,s){typeof n=="object"&&(s=n,n=null),s||(s={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new(Se())(e,16));for(var i=this.n.byteLength(),a=r.getPrivate().toArray("be",i),o=e.toArray("be",i),u=new af({hash:this.hash,entropy:a,nonce:o,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new(Se())(1)),m=0;;m++){var E=s.k?s.k(m):new(Se())(u.generate(this.n.byteLength()));if(E=this._truncateToN(E,!0),!(E.cmpn(1)<=0||E.cmp(h)>=0)){var B=this.g.mul(E);if(!B.isInfinity()){var M=B.getX(),O=M.umod(this.n);if(O.cmpn(0)!==0){var $=E.invm(this.n).mul(O.mul(r.getPrivate()).iadd(e));if($=$.umod(this.n),$.cmpn(0)!==0){var Z=(B.getY().isOdd()?1:0)|(M.cmp(O)!==0?2:0);return s.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),Z^=1),new ra({r:O,s:$,recoveryParam:Z})}}}}}},Ft.prototype.verify=function(e,r,n,s){e=this._truncateToN(new(Se())(e,16)),n=this.keyFromPublic(n,s),r=new ra(r,"hex");var i=r.r,a=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),u=o.mul(e).umod(this.n),h=o.mul(i).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(u,n.getPublic(),h),m.isInfinity()?!1:m.eqXToP(i)):(m=this.g.mulAdd(u,n.getPublic(),h),m.isInfinity()?!1:m.getX().umod(this.n).cmp(i)===0)},Ft.prototype.recoverPubKey=function(t,e,r,n){cf((3&r)===r,"The recovery param is more than two bits"),e=new ra(e,n);var s=this.n,i=new(Se())(t),a=e.r,o=e.s,u=r&1,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var m=e.r.invm(s),E=s.sub(i).mul(m).umod(s),B=o.mul(m).umod(s);return this.g.mulAdd(E,a,B)},Ft.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new ra(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var s=0;s<4;s++){var i;try{i=this.recoverPubKey(t,e,s)}catch{continue}if(i.eq(r))return s}throw new Error("Unable to find valid recovery factor")};var vh=Cn(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=Pt,r.rand=function(){throw new Error("unsupported")},r.curve=Qi,r.curves=ea,r.ec=wh,r.eddsa=null}),Eh=vh.ec;const Sh="properties/5.7.0";var Ah=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{h(n.next(m))}catch(E){a(E)}}function u(m){try{h(n.throw(m))}catch(E){a(E)}}function h(m){m.done?i(m.value):s(m.value).then(o,u)}h((n=n.apply(t,e||[])).next())})};const na=new se(Sh);function ne(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function qs(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function lr(t){return Ah(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const s=t[n];return Promise.resolve(s).then(i=>({key:n,value:i}))});return(yield Promise.all(e)).reduce((n,s)=>(n[s.key]=s.value,n),{})})}function _h(t,e){(!t||typeof t!="object")&&na.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||na.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function kr(t){const e={};for(const r in t)e[r]=t[r];return e}const Th={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function uf(t){if(t==null||Th[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!uf(n))return!1}return!0}return na.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Rh(t){if(uf(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>In(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ne(e,r,In(n))}return e}return na.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function In(t){return Rh(t)}class Bn{constructor(e){for(const r in e)this[r]=In(e[r])}}const Ph="signing-key/5.7.0",Go=new se(Ph);let Wo=null;function Qt(){return Wo||(Wo=new Eh("secp256k1")),Wo}class Un{constructor(e){ne(this,"curve","secp256k1"),ne(this,"privateKey",le(e)),_u(this.privateKey)!==32&&Go.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Qt().keyFromPrivate(oe(this.privateKey));ne(this,"publicKey","0x"+r.getPublic(!1,"hex")),ne(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ne(this,"_isSigningKey",!0)}_addPoint(e){const r=Qt().keyFromPublic(oe(this.publicKey)),n=Qt().keyFromPublic(oe(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Qt().keyFromPrivate(oe(this.privateKey)),n=oe(e);n.length!==32&&Go.throwArgumentError("bad digest length","digest",e);const s=r.sign(n,{canonical:!0});return Rn({recoveryParam:s.recoveryParam,r:Et("0x"+s.r.toString(16),32),s:Et("0x"+s.s.toString(16),32)})}computeSharedSecret(e){const r=Qt().keyFromPrivate(oe(this.privateKey)),n=Qt().keyFromPublic(oe(df(e)));return Et("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function ff(t,e){const r=Rn(e),n={r:oe(r.r),s:oe(r.s)};return"0x"+Qt().recoverPubKey(oe(t),n,r.recoveryParam).encode("hex",!1)}function df(t,e){const r=oe(t);if(r.length===32){const n=new Un(r);return e?"0x"+Qt().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?le(r):"0x"+Qt().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Qt().keyFromPublic(r).getPublic(!0,"hex"):le(r)}return Go.throwArgumentError("invalid public or private key","key","[REDACTED]")}const kh="rlp/5.7.0",er=new se(kh);function lf(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function hf(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function pf(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(pf(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=lf(n.length);return s.unshift(247+s.length),s.concat(n)}ko(t)||er.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(oe(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=lf(e.length);return r.unshift(183+r.length),r.concat(e)}function js(t){return le(pf(t))}function yf(t,e,r,n){const s=[];for(;r<e+1+n;){const i=xf(t,r);s.push(i.result),r+=i.consumed,r>e+1+n&&er.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:s}}function xf(t,e){if(t.length===0&&er.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&er.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const n=hf(t,e+1,r);return e+1+r+n>t.length&&er.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),yf(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&er.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),yf(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&er.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const n=hf(t,e+1,r);e+1+r+n>t.length&&er.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const s=hexlify(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:s}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&er.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const n=hexlify(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:hexlify(t[e])}}function P1(t){const e=arrayify(t),r=xf(e,0);return r.consumed!==e.length&&er.throwArgumentError("invalid rlp data","data",t),r.result}const Ch="address/5.7.0",Cr=new se(Ch);function gf(t){Xe(t,20)||Cr.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=oe(rt(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Ih=9007199254740991;function Bh(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Vo={};for(let t=0;t<10;t++)Vo[String(t)]=String(t);for(let t=0;t<26;t++)Vo[String.fromCharCode(65+t)]=String(10+t);const bf=Math.floor(Bh(Ih));function mf(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Vo[n]).join("");for(;e.length>=bf;){let n=e.substring(0,bf);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function ze(t){let e=null;if(typeof t!="string"&&Cr.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=gf(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Cr.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==mf(t)&&Cr.throwArgumentError("bad icap checksum","address",t),e=_0(t.substring(4));e.length<40;)e="0"+e;e=gf("0x"+e)}else Cr.throwArgumentError("invalid address","address",t);return e}function k1(t){try{return ze(t),!0}catch{}return!1}function C1(t){let e=_base16To36(ze(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+mf("XE00"+e)+e}function Uh(t){let e=null;try{e=ze(t.from)}catch{Cr.throwArgumentError("missing from address","transaction",t)}const r=fr(oe(xe.from(t.nonce).toHexString()));return ze(jr(rt(js([e,r])),12))}function I1(t,e,r){return hexDataLength(e)!==32&&Cr.throwArgumentError("salt must be 32 bytes","salt",e),hexDataLength(r)!==32&&Cr.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),ze(hexDataSlice(keccak256(concat(["0xff",ze(t),e,r])),12))}const Oh="transactions/5.7.0",lt=new se(Oh);var wf;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(wf||(wf={}));function Jo(t){return t==="0x"?null:getAddress(t)}function ht(t){return t==="0x"?Zero:BigNumber.from(t)}const Nh=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Dh={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Ir(t){const e=df(t);return ze(jr(rt(jr(e,1)),12))}function sa(t,e){return Ir(ff(oe(t),e))}function kt(t,e){const r=fr(xe.from(t).toHexString());return r.length>32&&lt.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Xo(t,e){return{address:ze(t),storageKeys:(e||[]).map((r,n)=>(_u(r)!==32&&lt.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function ia(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&lt.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Xo(r[0],r[1])):Xo(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return Xo(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function vf(t){return ia(t).map(e=>[e.address,e.storageKeys])}function Ef(t,e){if(t.gasPrice!=null){const n=xe.from(t.gasPrice),s=xe.from(t.maxFeePerGas||0);n.eq(s)||lt.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:s})}const r=[kt(t.chainId||0,"chainId"),kt(t.nonce||0,"nonce"),kt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kt(t.maxFeePerGas||0,"maxFeePerGas"),kt(t.gasLimit||0,"gasLimit"),t.to!=null?ze(t.to):"0x",kt(t.value||0,"value"),t.data||"0x",vf(t.accessList||[])];if(e){const n=Rn(e);r.push(kt(n.recoveryParam,"recoveryParam")),r.push(fr(n.r)),r.push(fr(n.s))}return Gr(["0x02",js(r)])}function Sf(t,e){const r=[kt(t.chainId||0,"chainId"),kt(t.nonce||0,"nonce"),kt(t.gasPrice||0,"gasPrice"),kt(t.gasLimit||0,"gasLimit"),t.to!=null?ze(t.to):"0x",kt(t.value||0,"value"),t.data||"0x",vf(t.accessList||[])];if(e){const n=Rn(e);r.push(kt(n.recoveryParam,"recoveryParam")),r.push(fr(n.r)),r.push(fr(n.s))}return Gr(["0x01",js(r)])}function Mh(t,e){_h(t,Dh);const r=[];Nh.forEach(function(a){let o=t[a.name]||[];const u={};a.numeric&&(u.hexPad="left"),o=oe(le(o,u)),a.length&&o.length!==a.length&&o.length>0&&lt.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o),a.maxLength&&(o=fr(o),o.length>a.maxLength&&lt.throwArgumentError("invalid length for "+a.name,"transaction:"+a.name,o)),r.push(le(o))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&lt.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!ko(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(le(n)),r.push("0x"),r.push("0x")),!e)return js(r);const s=Rn(e);let i=27+s.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),i+=n*2+8,s.v>28&&s.v!==i&&lt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==i&&lt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(le(i)),r.push(fr(oe(s.r))),r.push(fr(oe(s.s))),js(r)}function Af(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&lt.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Mh(t,e);switch(t.type){case 1:return Sf(t,e);case 2:return Ef(t,e);default:break}return lt.throwError(`unsupported transaction type: ${t.type}`,se.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function _f(t,e,r){try{const n=ht(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{lt.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=hexZeroPad(e[1],32),t.s=hexZeroPad(e[2],32);try{const n=keccak256(r(t));t.from=sa(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Fh(t){const e=RLP.decode(t.slice(1));e.length!==9&&e.length!==12&&lt.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(t));const r=ht(e[2]),n=ht(e[3]),s={type:2,chainId:ht(e[0]).toNumber(),nonce:ht(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ht(e[4]),to:Jo(e[5]),value:ht(e[6]),data:e[7],accessList:ia(e[8])};return e.length===9||(s.hash=keccak256(t),_f(s,e.slice(9),Ef)),s}function Lh(t){const e=RLP.decode(t.slice(1));e.length!==8&&e.length!==11&&lt.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(t));const r={type:1,chainId:ht(e[0]).toNumber(),nonce:ht(e[1]).toNumber(),gasPrice:ht(e[2]),gasLimit:ht(e[3]),to:Jo(e[4]),value:ht(e[5]),data:e[6],accessList:ia(e[7])};return e.length===8||(r.hash=keccak256(t),_f(r,e.slice(8),Sf)),r}function Hh(t){const e=RLP.decode(t);e.length!==9&&e.length!==6&&lt.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:ht(e[0]).toNumber(),gasPrice:ht(e[1]),gasLimit:ht(e[2]),to:Jo(e[3]),value:ht(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=BigNumber.from(e[6]).toNumber()}catch{return r}if(r.r=hexZeroPad(e[7],32),r.s=hexZeroPad(e[8],32),BigNumber.from(r.r).isZero()&&BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const s=e.slice(0,6);r.chainId!==0&&(s.push(hexlify(r.chainId)),s.push("0x"),s.push("0x"),n-=r.chainId*2+8);const i=keccak256(RLP.encode(s));try{r.from=sa(i,{r:hexlify(r.r),s:hexlify(r.s),recoveryParam:n})}catch{}r.hash=keccak256(t)}return r.type=null,r}function B1(t){const e=arrayify(t);if(e[0]>127)return Hh(e);switch(e[0]){case 1:return Lh(e);case 2:return Fh(e);default:break}return lt.throwError(`unsupported transaction type: ${e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Kh="abstract-provider/5.7.0";var zh=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{h(n.next(m))}catch(E){a(E)}}function u(m){try{h(n.throw(m))}catch(E){a(E)}}function h(m){m.done?i(m.value):s(m.value).then(o,u)}h((n=n.apply(t,e||[])).next())})};const Gs=new se(Kh);class U1 extends null{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class O1 extends null{constructor(e,r){isHexString(e,32)||Gs.throwArgumentError("invalid blockHash","blockHash",e),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:r||0,blockHash:e})}}class N1 extends null{constructor(e,r){isHexString(e,32)||Gs.throwArgumentError("invalid transaction hash","hash",e),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:r||0,hash:e})}}class D1 extends null{constructor(e,r,n){isHexString(e,32)||Gs.throwArgumentError("invalid transaction hash","beforeHash",e),isHexString(r,32)||Gs.throwArgumentError("invalid transaction hash","afterHash",r),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:n||0,beforeHash:e,afterHash:r})}}class aa{constructor(){Gs.checkAbstract(new.target,aa),ne(this,"_isProvider",!0)}getFeeData(){return zh(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield lr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,s=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=xe.from("1500000000"),s=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:s,maxPriorityFeePerGas:i,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const $h="abstract-signer/5.7.0";var Xt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{h(n.next(m))}catch(E){a(E)}}function u(m){try{h(n.throw(m))}catch(E){a(E)}}function h(m){m.done?i(m.value):s(m.value).then(o,u)}h((n=n.apply(t,e||[])).next())})};const Lt=new se($h),qh=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],jh=[se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED];class Ws{constructor(){Lt.checkAbstract(new.target,Ws),ne(this,"_isSigner",!0)}getBalance(e){return Xt(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Xt(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Xt(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield lr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Xt(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield lr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Xt(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Xt(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Xt(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Xt(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Xt(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)qh.indexOf(n)===-1&&Lt.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=kr(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Lt.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Xt(this,void 0,void 0,function*(){const r=yield lr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(s=>Xt(this,void 0,void 0,function*(){if(s==null)return null;const i=yield this.resolveName(s);return i==null&&Lt.throwArgumentError("provided ENS name resolves to null","tx.to",s),i})),r.to.catch(s=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Lt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Lt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const s=yield this.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const i=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=i,r.maxPriorityFeePerGas=i}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(n&&Lt.throwError("network does not support EIP-1559",se.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):Lt.throwError("failed to get consistent fee data",se.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(s=>{if(jh.indexOf(s.code)>=0)throw s;return Lt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:s,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(s=>(s[1]!==0&&s[0]!==s[1]&&Lt.throwArgumentError("chainId address mismatch","transaction",e),s[0])),yield lr(r)})}_checkProvider(e){this.provider||Lt.throwError("missing provider",se.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Zo extends Ws{constructor(e,r){super(),ne(this,"address",e),ne(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Lt.throwError(e,se.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Zo(this.address,e)}}const Gh="hash/5.7.0";function Jr(t){return rt(Vt(t))}var Wh=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{h(n.next(m))}catch(E){a(E)}}function u(m){try{h(n.throw(m))}catch(E){a(E)}}function h(m){m.done?i(m.value):s(m.value).then(o,u)}h((n=n.apply(t,e||[])).next())})};const $e=new se(Gh),Tf=new Uint8Array(32);Tf.fill(0);const Vh=xe.from(-1),Rf=xe.from(0),Pf=xe.from(1),Jh=xe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Xh(t){const e=oe(t),r=e.length%32;return r?Gr([e,Tf.slice(r)]):le(e)}const Zh=Et(Pf.toHexString(),32),Yh=Et(Rf.toHexString(),32),kf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Yo=["name","version","chainId","verifyingContract","salt"];function Cf(t){return function(e){return typeof e!="string"&&$e.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Qh={name:Cf("name"),version:Cf("version"),chainId:function(t){try{return xe.from(t).toString()}catch{}return $e.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ze(t).toLowerCase()}catch{}return $e.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=oe(t);if(e.length!==32)throw new Error("bad length");return le(e)}catch{}return $e.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Qo(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&$e.throwArgumentError("invalid numeric width","type",t);const s=Jh.mask(r?n-1:n),i=r?s.add(Pf).mul(Vh):Rf;return function(a){const o=xe.from(a);return(o.lt(i)||o.gt(s))&&$e.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),Et(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&$e.throwArgumentError("invalid bytes width","type",t),function(n){return oe(n).length!==r&&$e.throwArgumentError(`invalid length for ${t}`,"value",n),Xh(n)}}}switch(t){case"address":return function(e){return Et(ze(e),32)};case"bool":return function(e){return e?Zh:Yh};case"bytes":return function(e){return rt(e)};case"string":return function(e){return Jr(e)}}return null}function If(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class At{constructor(e){ne(this,"types",Object.freeze(In(e))),ne(this,"_encoderCache",{}),ne(this,"_types",{});const r={},n={},s={};Object.keys(e).forEach(o=>{r[o]={},n[o]=[],s[o]={}});for(const o in e){const u={};e[o].forEach(h=>{u[h.name]&&$e.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(o)}`,"types",e),u[h.name]=!0;const m=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];m===o&&$e.throwArgumentError(`circular type reference to ${JSON.stringify(m)}`,"types",e),!Qo(m)&&(n[m]||$e.throwArgumentError(`unknown type ${JSON.stringify(m)}`,"types",e),n[m].push(o),r[o][m]=!0)})}const i=Object.keys(n).filter(o=>n[o].length===0);i.length===0?$e.throwArgumentError("missing primary type","types",e):i.length>1&&$e.throwArgumentError(`ambiguous primary types or unused types: ${i.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),ne(this,"primaryType",i[0]);function a(o,u){u[o]&&$e.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),u[o]=!0,Object.keys(r[o]).forEach(h=>{n[h]&&(a(h,u),Object.keys(u).forEach(m=>{s[m][h]=!0}))}),delete u[o]}a(this.primaryType,{});for(const o in s){const u=Object.keys(s[o]);u.sort(),this._types[o]=If(o,e[o])+u.map(h=>If(h,e[h])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const s=Qo(e);if(s)return s}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const s=r[1],i=this.getEncoder(s),a=parseInt(r[3]);return o=>{a>=0&&o.length!==a&&$e.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let u=o.map(i);return this._types[s]&&(u=u.map(rt)),rt(Gr(u))}}const n=this.types[e];if(n){const s=Jr(this._types[e]);return i=>{const a=n.map(({name:o,type:u})=>{const h=this.getEncoder(u)(i[o]);return this._types[u]?rt(h):h});return a.unshift(s),Gr(a)}}return $e.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||$e.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return rt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Qo(e))return n(e,r);const s=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s){const a=s[1],o=parseInt(s[3]);return o>=0&&r.length!==o&&$e.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(u=>this._visit(a,u,n))}const i=this.types[e];return i?i.reduce((a,{name:o,type:u})=>(a[o]=this._visit(u,r[o],n),a),{}):$e.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new At(e)}static getPrimaryType(e){return At.from(e).primaryType}static hashStruct(e,r,n){return At.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const s=kf[n];s||$e.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>Yo.indexOf(n.name)-Yo.indexOf(s.name)),At.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Gr(["0x1901",At.hashDomain(e),At.from(r).hash(n)])}static hash(e,r,n){return rt(At.encode(e,r,n))}static resolveNames(e,r,n,s){return Wh(this,void 0,void 0,function*(){e=kr(e);const i={};e.verifyingContract&&!Xe(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=At.from(r);a.visit(n,(o,u)=>(o==="address"&&!Xe(u,20)&&(i[u]="0x"),u));for(const o in i)i[o]=yield s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=a.visit(n,(o,u)=>o==="address"&&i[u]?i[u]:u),{domain:e,value:n}})}static getPayload(e,r,n){At.hashDomain(e);const s={},i=[];Yo.forEach(u=>{const h=e[u];h!=null&&(s[u]=Qh[u](h),i.push({name:u,type:kf[u]}))});const a=At.from(r),o=kr(r);return o.EIP712Domain?$e.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=i,a.encode(n),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(n,(u,h)=>{if(u.match(/^bytes(\d*)/))return le(oe(h));if(u.match(/^u?int/))return xe.from(h).toString();switch(u){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&$e.throwArgumentError("invalid string","value",h),h}return $e.throwArgumentError("unsupported type","type",u)})}}}class Bf{constructor(e){ne(this,"alphabet",e),ne(this,"base",e.length),ne(this,"_alphabetMap",{}),ne(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=oe(e);if(r.length===0)return"";let n=[0];for(let i=0;i<r.length;++i){let a=r[i];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let s="";for(let i=0;r[i]===0&&i<r.length-1;++i)s+=this._leader;for(let i=n.length-1;i>=0;--i)s+=this.alphabet[n[i]];return s}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let s=this._alphabetMap[e[n]];if(s===void 0)throw new Error("Non-base"+this.base+" character");let i=s;for(let a=0;a<r.length;++a)i+=r[a]*this.base,r[a]=i&255,i>>=8;for(;i>0;)r.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return oe(new Uint8Array(r.reverse()))}}const M1=new Bf("abcdefghijklmnopqrstuvwxyz234567"),Uf=new Bf("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Vs;(function(t){t.sha256="sha256",t.sha512="sha512"})(Vs||(Vs={}));const ep="sha2/5.7.0",tp=new se(ep);function rp(t){return"0x"+Rt().ripemd160().update(oe(t)).digest("hex")}function Js(t){return"0x"+Rt().sha256().update(oe(t)).digest("hex")}function F1(t){return"0x"+hash.sha512().update(arrayify(t)).digest("hex")}function oa(t,e,r){return Vs[t]||tp.throwError("unsupported algorithm "+t,se.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Rt().hmac(Rt()[t],oe(e)).update(oe(r)).digest("hex")}function ec(t,e,r,n,s){t=oe(t),e=oe(e);let i,a=1;const o=new Uint8Array(n),u=new Uint8Array(e.length+4);u.set(e);let h,m;for(let E=1;E<=a;E++){u[e.length]=E>>24&255,u[e.length+1]=E>>16&255,u[e.length+2]=E>>8&255,u[e.length+3]=E&255;let B=oe(oa(s,t,u));i||(i=B.length,m=new Uint8Array(i),a=Math.ceil(n/i),h=n-(a-1)*i),m.set(B);for(let $=1;$<r;$++){B=oe(oa(s,t,B));for(let Z=0;Z<i;Z++)m[Z]^=B[Z]}const M=(E-1)*i,O=E===a?h:i;o.set(oe(m).slice(0,O),M)}return le(o)}const np="wordlists/5.7.0",sp=!1,ip=new se(np);class Xs{constructor(e){ip.checkAbstract(new.target,Xs),ne(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const s=e.getWord(n);if(n!==e.getWordIndex(s))return"0x";r.push(s)}return Jr(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),sp)try{const n=window;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||ne(n._ethers.wordlists,r,e))}catch{}}}const ap="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Zs=null;function Of(t){if(Zs==null&&(Zs=ap.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Xs.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Zs=null,new Error("BIP39 Wordlist for en (English) FAILED")}class op extends Xs{constructor(){super("en")}getWord(e){return Of(this),Zs[e]}getWordIndex(e){return Of(this),Zs.indexOf(e)}}const Nf=new op;Xs.register(Nf);const Df={en:Nf},cp="hdnode/5.7.0",Ys=new se(cp),up=xe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fp=Vt("Bitcoin seed"),On=2147483648;function Mf(t){return(1<<t)-1<<8-t}function dp(t){return(1<<t)-1}function ca(t){return Et(le(t),32)}function Ff(t){return Uf.encode(vt([t,jr(Js(Js(t)),0,4)]))}function tc(t){if(t==null)return Df.en;if(typeof t=="string"){const e=Df[t];return e==null&&Ys.throwArgumentError("unknown locale","wordlist",t),e}return t}const Nn={},Qs="m/44'/60'/0'/0/0";class Ht{constructor(e,r,n,s,i,a,o,u){if(e!==Nn)throw new Error("HDNode constructor cannot be called directly");if(r){const h=new Un(r);ne(this,"privateKey",h.privateKey),ne(this,"publicKey",h.compressedPublicKey)}else ne(this,"privateKey",null),ne(this,"publicKey",le(n));ne(this,"parentFingerprint",s),ne(this,"fingerprint",jr(rp(Js(this.publicKey)),0,4)),ne(this,"address",Ir(this.publicKey)),ne(this,"chainCode",i),ne(this,"index",a),ne(this,"depth",o),u==null?(ne(this,"mnemonic",null),ne(this,"path",null)):typeof u=="string"?(ne(this,"mnemonic",null),ne(this,"path",u)):(ne(this,"mnemonic",u),ne(this,"path",u.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Ff(vt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",le(this.depth),this.parentFingerprint,Et(le(this.index),4),this.chainCode,this.privateKey!=null?vt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Ht(Nn,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~On));const n=new Uint8Array(37);if(e&On){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(oe(this.privateKey),1),r&&(r+="'")}else n.set(oe(this.publicKey));for(let E=24;E>=0;E-=8)n[33+(E>>3)]=e>>24-E&255;const s=oe(oa(Vs.sha512,this.chainCode,n)),i=s.slice(0,32),a=s.slice(32);let o=null,u=null;this.privateKey?o=ca(xe.from(i).add(this.privateKey).mod(up)):u=new Un(le(i))._addPoint(this.publicKey);let h=r;const m=this.mnemonic;return m&&(h=Object.freeze({phrase:m.phrase,path:r,locale:m.locale||"en"})),new Ht(Nn,o,u,this.fingerprint,ca(a),e,this.depth+1,h)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let s=0;s<r.length;s++){const i=r[s];if(i.match(/^[0-9]+'$/)){const a=parseInt(i.substring(0,i.length-1));if(a>=On)throw new Error("invalid path index - "+i);n=n._derive(On+a)}else if(i.match(/^[0-9]+$/)){const a=parseInt(i);if(a>=On)throw new Error("invalid path index - "+i);n=n._derive(a)}else throw new Error("invalid path component - "+i)}return n}static _fromSeed(e,r){const n=oe(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const s=oe(oa(Vs.sha512,fp,n));return new Ht(Nn,ca(s.slice(0,32)),null,"0x00000000",ca(s.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=tc(n),e=nc(rc(e,n),n),Ht._fromSeed(lp(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Ht._fromSeed(e,null)}static fromExtendedKey(e){const r=Uf.decode(e);(r.length!==82||Ff(r.slice(0,78))!==e)&&Ys.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],s=le(r.slice(5,9)),i=parseInt(le(r.slice(9,13)).substring(2),16),a=le(r.slice(13,45)),o=r.slice(45,78);switch(le(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Ht(Nn,null,le(o),s,a,i,n,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Ht(Nn,le(o.slice(1)),null,s,a,i,n,null)}return Ys.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function lp(t,e){e||(e="");const r=Vt("mnemonic"+e,Tr.NFKD);return ec(Vt(t,Tr.NFKD),r,2048,64,"sha512")}function rc(t,e){e=tc(e),Ys.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=oe(new Uint8Array(Math.ceil(11*r.length/8)));let s=0;for(let h=0;h<r.length;h++){let m=e.getWordIndex(r[h].normalize("NFKD"));if(m===-1)throw new Error("invalid mnemonic");for(let E=0;E<11;E++)m&1<<10-E&&(n[s>>3]|=1<<7-s%8),s++}const i=32*r.length/3,a=r.length/3,o=Mf(a);if((oe(Js(n.slice(0,i/8)))[0]&o)!==(n[n.length-1]&o))throw new Error("invalid checksum");return le(n.slice(0,i/8))}function nc(t,e){if(e=tc(e),t=oe(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let a=0;a<t.length;a++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[a],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[a]>>8-n,r.push(t[a]&dp(8-n)),n+=3);const s=t.length/4,i=oe(Js(t))[0]&Mf(s);return r[r.length-1]<<=s,r[r.length-1]|=i>>8-s,e.join(r.map(a=>e.getWord(a)))}function L1(t,e){try{return rc(t,e),!0}catch{}return!1}function H1(t){return(typeof t!="number"||t<0||t>=On||t%1)&&Ys.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const hp="random/5.7.0",sc=new se(hp);function pp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof l.g<"u")return l.g;throw new Error("unable to locate global object")}const Lf=pp();let ua=Lf.crypto||Lf.msCrypto;(!ua||!ua.getRandomValues)&&(sc.warn("WARNING: Missing strong random number source"),ua={getRandomValues:function(t){return sc.throwError("no secure random source avaialble",se.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ei(t){(t<=0||t>1024||t%1||t!=t)&&sc.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return ua.getRandomValues(e),oe(e)}var yp=l(39556),tr=l.n(yp),xp=l(9495),ic=l.n(xp);function Xr(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),oe(t)}function ti(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function ac(t){return typeof t=="string"?Vt(t,Tr.NFKC):oe(t)}function Ze(t,e){let r=t;const n=e.toLowerCase().split("/");for(let s=0;s<n.length;s++){let i=null;for(const a in r)if(a.toLowerCase()===n[s]){i=r[a];break}if(i===null)return null;r=i}return r}function gp(t){const e=oe(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=le(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Hf="json-wallets/5.7.0";var bp=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{h(n.next(m))}catch(E){a(E)}}function u(m){try{h(n.throw(m))}catch(E){a(E)}}function h(m){m.done?i(m.value):s(m.value).then(o,u)}h((n=n.apply(t,e||[])).next())})};const oc=new se(Hf);function Kf(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class mp extends Bn{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function wp(t,e,r){if(Ze(t,"crypto/cipher")==="aes-128-ctr"){const s=Xr(Ze(t,"crypto/cipherparams/iv")),i=new(tr()).Counter(s),a=new(tr()).ModeOfOperation.ctr(e,i);return oe(a.decrypt(r))}return null}function zf(t,e){const r=Xr(Ze(t,"crypto/ciphertext"));if(le(rt(vt([e.slice(16,32),r]))).substring(2)!==Ze(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const s=wp(t,e.slice(0,16),r);s||oc.throwError("unsupported cipher",se.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=e.slice(32,64),a=Ir(s);if(t.address){let u=t.address.toLowerCase();if(u.substring(0,2)!=="0x"&&(u="0x"+u),ze(u)!==a)throw new Error("address mismatch")}const o={_isKeystoreAccount:!0,address:a,privateKey:le(s)};if(Ze(t,"x-ethers/version")==="0.1"){const u=Xr(Ze(t,"x-ethers/mnemonicCiphertext")),h=Xr(Ze(t,"x-ethers/mnemonicCounter")),m=new(tr()).Counter(h),E=new(tr()).ModeOfOperation.ctr(i,m),B=Ze(t,"x-ethers/path")||Qs,M=Ze(t,"x-ethers/locale")||"en",O=oe(E.decrypt(u));try{const $=nc(O,M),Z=Ht.fromMnemonic($,null,M).derivePath(B);if(Z.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=Z.mnemonic}catch($){if($.code!==se.errors.INVALID_ARGUMENT||$.argument!=="wordlist")throw $}}return new mp(o)}function $f(t,e,r,n,s){return oe(ec(t,e,r,n,s))}function vp(t,e,r,n,s){return Promise.resolve($f(t,e,r,n,s))}function qf(t,e,r,n,s){const i=ac(e),a=Ze(t,"crypto/kdf");if(a&&typeof a=="string"){const o=function(u,h){return oc.throwArgumentError("invalid key-derivation function parameters",u,h)};if(a.toLowerCase()==="scrypt"){const u=Xr(Ze(t,"crypto/kdfparams/salt")),h=parseInt(Ze(t,"crypto/kdfparams/n")),m=parseInt(Ze(t,"crypto/kdfparams/r")),E=parseInt(Ze(t,"crypto/kdfparams/p"));(!h||!m||!E)&&o("kdf",a),h&h-1&&o("N",h);const B=parseInt(Ze(t,"crypto/kdfparams/dklen"));return B!==32&&o("dklen",B),n(i,u,h,m,E,64,s)}else if(a.toLowerCase()==="pbkdf2"){const u=Xr(Ze(t,"crypto/kdfparams/salt"));let h=null;const m=Ze(t,"crypto/kdfparams/prf");m==="hmac-sha256"?h="sha256":m==="hmac-sha512"?h="sha512":o("prf",m);const E=parseInt(Ze(t,"crypto/kdfparams/c")),B=parseInt(Ze(t,"crypto/kdfparams/dklen"));return B!==32&&o("dklen",B),r(i,u,E,B,h)}}return oc.throwArgumentError("unsupported key-derivation function","kdf",a)}function Ep(t,e){const r=JSON.parse(t),n=qf(r,e,$f,ic().syncScrypt);return zf(r,n)}function Sp(t,e,r){return bp(this,void 0,void 0,function*(){const n=JSON.parse(t),s=yield qf(n,e,vp,ic().scrypt,r);return zf(n,s)})}function Ap(t,e,r,n){try{if(ze(t.address)!==Ir(t.privateKey))throw new Error("address/privateKey mismatch");if(Kf(t)){const Z=t.mnemonic;if(Ht.fromMnemonic(Z.phrase,null,Z.locale).derivePath(Z.path||Qs).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(Z){return Promise.reject(Z)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const s=oe(t.privateKey),i=ac(e);let a=null,o=null,u=null;if(Kf(t)){const Z=t.mnemonic;a=oe(rc(Z.phrase,Z.locale||"en")),o=Z.path||Qs,u=Z.locale||"en"}let h=r.client;h||(h="ethers.js");let m=null;r.salt?m=oe(r.salt):m=ei(32);let E=null;if(r.iv){if(E=oe(r.iv),E.length!==16)throw new Error("invalid iv")}else E=ei(16);let B=null;if(r.uuid){if(B=oe(r.uuid),B.length!==16)throw new Error("invalid uuid")}else B=ei(16);let M=1<<17,O=8,$=1;return r.scrypt&&(r.scrypt.N&&(M=r.scrypt.N),r.scrypt.r&&(O=r.scrypt.r),r.scrypt.p&&($=r.scrypt.p)),ic().scrypt(i,m,M,O,$,64,n).then(Z=>{Z=oe(Z);const ce=Z.slice(0,16),ye=Z.slice(16,32),pe=Z.slice(32,64),Ue=new(tr()).Counter(E),Ie=new(tr()).ModeOfOperation.ctr(ce,Ue),tt=oe(Ie.encrypt(s)),at=rt(vt([ye,tt])),Oe={address:t.address.substring(2).toLowerCase(),id:gp(B),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:le(E).substring(2)},ciphertext:le(tt).substring(2),kdf:"scrypt",kdfparams:{salt:le(m).substring(2),n:M,dklen:32,p:$,r:O},mac:at.substring(2)}};if(a){const We=ei(16),mt=new(tr()).Counter(We),He=new(tr()).ModeOfOperation.ctr(pe,mt),or=oe(He.encrypt(a)),me=new Date,Ke=me.getUTCFullYear()+"-"+ti(me.getUTCMonth()+1,2)+"-"+ti(me.getUTCDate(),2)+"T"+ti(me.getUTCHours(),2)+"-"+ti(me.getUTCMinutes(),2)+"-"+ti(me.getUTCSeconds(),2)+".0Z";Oe["x-ethers"]={client:h,gethFilename:"UTC--"+Ke+"--"+Oe.address,mnemonicCounter:le(We).substring(2),mnemonicCiphertext:le(or).substring(2),path:o,locale:u,version:"0.1"}}return JSON.stringify(Oe)})}const _p=new se(Hf);class Tp extends Bn{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function jf(t,e){const r=JSON.parse(t);e=ac(e);const n=ze(Ze(r,"ethaddr")),s=Xr(Ze(r,"encseed"));(!s||s.length%16!==0)&&_p.throwArgumentError("invalid encseed","json",t);const i=oe(ec(e,e,2e3,32,"sha256")).slice(0,16),a=s.slice(0,16),o=s.slice(16),u=new(tr()).ModeOfOperation.cbc(i,a),h=tr().padding.pkcs7.strip(oe(u.decrypt(o)));let m="";for(let M=0;M<h.length;M++)m+=String.fromCharCode(h[M]);const E=Vt(m),B=rt(E);return new Tp({_isCrowdsaleAccount:!0,address:n,privateKey:B})}function cc(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function uc(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function K1(t){if(cc(t))try{return getAddress(JSON.parse(t).ethaddr)}catch{return null}if(uc(t))try{return getAddress(JSON.parse(t).address)}catch{return null}return null}function Rp(t,e,r){if(cc(t)){r&&r(0);const n=jf(t,e);return r&&r(1),Promise.resolve(n)}return uc(t)?Sp(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Pp(t,e){if(cc(t))return jf(t,e);if(uc(t))return Ep(t,e);throw new Error("invalid JSON wallet")}const kp="wallet/5.7.0";var Gf=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{h(n.next(m))}catch(E){a(E)}}function u(m){try{h(n.throw(m))}catch(E){a(E)}}function h(m){m.done?i(m.value):s(m.value).then(o,u)}h((n=n.apply(t,e||[])).next())})};const Dn=new se(kp);function Cp(t){return t!=null&&Xe(t.privateKey,32)&&t.address!=null}function Ip(t){const e=t.mnemonic;return e&&e.phrase}class Br extends Ws{constructor(e,r){if(super(),Cp(e)){const n=new Un(e.privateKey);if(ne(this,"_signingKey",()=>n),ne(this,"address",Ir(this.publicKey)),this.address!==ze(e.address)&&Dn.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Ip(e)){const s=e.mnemonic;ne(this,"_mnemonic",()=>({phrase:s.phrase,path:s.path||Qs,locale:s.locale||"en"}));const i=this.mnemonic,a=Ht.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);Ir(a.privateKey)!==this.address&&Dn.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ne(this,"_mnemonic",()=>null)}else{if(Un.isSigningKey(e))e.curve!=="secp256k1"&&Dn.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ne(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Un(e);ne(this,"_signingKey",()=>n)}ne(this,"_mnemonic",()=>null),ne(this,"address",Ir(this.publicKey))}r&&!aa.isProvider(r)&&Dn.throwArgumentError("invalid provider","provider",r),ne(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Br(this,e)}signTransaction(e){return lr(e).then(r=>{r.from!=null&&(ze(r.from)!==this.address&&Dn.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(rt(Af(r)));return Af(r,n)})}signMessage(e){return Gf(this,void 0,void 0,function*(){return Tu(this._signingKey().signDigest(Xi(e)))})}_signTypedData(e,r,n){return Gf(this,void 0,void 0,function*(){const s=yield At.resolveNames(e,r,n,i=>(this.provider==null&&Dn.throwError("cannot resolve ENS names without a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:i}),this.provider.resolveName(i)));return Tu(this._signingKey().signDigest(At.hash(s.domain,r,s.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),Ap(this,e,r,n)}static createRandom(e){let r=ei(16);e||(e={}),e.extraEntropy&&(r=oe(jr(rt(vt([r,e.extraEntropy])),0,16)));const n=nc(r,e.locale);return Br.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Rp(e,r,n).then(s=>new Br(s))}static fromEncryptedJsonSync(e,r){return new Br(Pp(e,r))}static fromMnemonic(e,r,n){return r||(r=Qs),new Br(Ht.fromMnemonic(e,null,n).derivePath(r))}}function Bp(t,e){return sa(Xi(t),e)}function Wf(t,e,r,n){return sa(At.hash(t,e,r),n)}var Vf=l(55872).Buffer;class Up{constructor(e){k(this,"signer");k(this,"publicKey");k(this,"ownerLength",Le[Re.ETHEREUM].pubLength);k(this,"signatureLength",Le[Re.ETHEREUM].sigLength);k(this,"signatureType",Re.ETHEREUM);this.signer=e.getSigner()}async setPublicKey(){const e="sign this message to connect to Bundlr.Network",r=await this.signer.signMessage(e),n=await Xi(e),s=ff(oe(n),r);this.publicKey=Vf.from(oe(s))}async sign(e){this.publicKey||await this.setPublicKey();const r=await this.signer.signMessage(e);return Vf.from(r.slice(2),"hex")}static verify(e,r,n){const s=Ir(e);return Bp(r,n)===s}}var z1=null,ri=l(31511);class fc extends Ls{get publicKey(){return ri.decode(this.pk)}get key(){return ri.decode(this._key)}constructor(e){const r=ri.decode(e);super(ri.encode(r.subarray(0,32)),ri.encode(r.subarray(32,64)))}}var fa=l(85323),Ct=l(55872),Op=l(41389);function dc(t){return t=Jf(t),Op("keccak256").update(t).digest()}function Jf(t){if(!Ct.Buffer.isBuffer(t))if(Array.isArray(t))t=Ct.Buffer.from(t);else if(typeof t=="string")Xf(t)?t=Ct.Buffer.from(lc(Zf(t)),"hex"):t=Ct.Buffer.from(t);else if(typeof t=="number")t=Qf(t);else if(t==null)t=Ct.Buffer.allocUnsafe(0);else if(Os.isBN(t))t=t.toArrayLike(Ct.Buffer);else if(t.toArray)t=Ct.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Xf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function lc(t){if(typeof t!="string")throw new Error(`while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}function Zf(t){return typeof t!="string"?t:Yf(t)?t.slice(2):t}function Yf(t){if(typeof t!="string")throw new Error("value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.startsWith("0x")}function Qf(t){const e=ed(t);return Ct.Buffer.from(lc(e.slice(2)),"hex")}function ed(t){return`0x${t.toString(16)}`}typeof window<"u"&&(window.keccak256=dc);var hc=dc;const Np={intToBuffer:Qf,intToHex:ed,isHexPrefixed:Yf,stripHexPrefix:Zf,padToEven:lc,isHexString:Xf,toBuffer:Jf};var da=l(55872).Buffer;class td{constructor(e,r){k(this,"_key");k(this,"ownerLength",Le[Re.ETHEREUM].pubLength);k(this,"signatureLength",Le[Re.ETHEREUM].sigLength);k(this,"signatureType",Re.ETHEREUM);k(this,"pk");this._key=e,this.pk=r.toString("hex")}get publicKey(){throw new Error("You must implement `publicKey`")}get key(){return da.from(this._key,"hex")}static async verify(e,r,n){let s=e;typeof e=="string"&&(s=Ae.toBuffer(e));let i=!1;try{i=fa.ecdsaVerify(n,hc(da.from(r)),s)}catch{}return i}async sign(e){return fa.ecdsaSign(hc(da.from(e)),da.from(this.key)).signature}}var la=l(55872).Buffer;class ha extends td{get publicKey(){return la.from(this.pk,"hex")}constructor(e){e.startsWith("0x")&&(e=e.slice(2));const r=la.from(e,"hex"),n=fa.publicKeyCreate(r,!1);super(e,la.from(n))}async sign(e){return new Br(this._key).signMessage(e).then(n=>la.from(n.slice(2),"hex"))}static async verify(e,r,n){return fa.ecdsaVerify(n.length===65?n.slice(0,-1):n,oe(Xi(r)),typeof e=="string"?Ae.toBuffer(e):e)}}class Dp extends ha{}class pc extends fc{constructor(e){super(e.replace("ed25519:",""))}}var rd=l(55872).Buffer;class Mp extends Ls{get publicKey(){return rd.from(this.pk)}get key(){return rd.from(this._key)}constructor(e,r){super(e.subarray(0,32),r)}}var pa=l(55872).Buffer;class ya extends ef{constructor(r){super(r);k(this,"signatureType",4)}async sign(r){return super.sign(pa.from(pa.from(r).toString("hex")))}static async verify(r,n,s){return super.verify(r,pa.from(pa.from(n).toString("hex")),s)}}var xa=l(55872).Buffer;class Fp extends fc{constructor(r){super(r);k(this,"signatureType",4)}async sign(r){return super.sign(xa.from(xa.from(r).toString("hex")))}static async verify(r,n,s){return super.verify(r,xa.from(xa.from(n).toString("hex")),s)}}var nd=l(55872).Buffer;class Lp extends Ls{constructor(e,r){super(e,r)}get publicKey(){return nd.from(this.pk.slice(2),"hex")}get key(){return nd.from(this._key.slice(2),"hex")}}var Mn=l(55872).Buffer;class ga{constructor(e,r){k(this,"_publicKey");k(this,"ownerLength",Le[Re.INJECTEDAPTOS].pubLength);k(this,"signatureLength",Le[Re.INJECTEDAPTOS].sigLength);k(this,"signatureType",Re.INJECTEDAPTOS);k(this,"pem");k(this,"provider");this.provider=e,this._publicKey=r}get publicKey(){return this._publicKey}async sign(e){if(!this.provider.signMessage)throw new Error("Selected Wallet does not support message signing");const r=await this.provider.signMessage({message:Mn.from(e).toString("hex"),nonce:"bundlr"});return Mn.from(r.signature,"hex")}static async verify(e,r,n){const s=e;return(0,Ms.T)(Mn.from(n),Mn.from(`APTOS
message: ${Mn.from(r).toString("hex")}
nonce: bundlr`),Mn.from(s))}}var ba=l(55872).Buffer;class sd{constructor(e,r){k(this,"_publicKey");k(this,"ownerLength",Le[Re.MULTIAPTOS].pubLength);k(this,"signatureLength",Le[Re.MULTIAPTOS].sigLength);k(this,"signatureType",Re.MULTIAPTOS);k(this,"collectSignatures");k(this,"provider");this._publicKey=e,this.collectSignatures=r}get publicKey(){return this._publicKey}async sign(e){const{signatures:r,bitmap:n}=await this.collectSignatures(e),s=128,i=new Uint8Array([0,0,0,0]),a=new Set;n.forEach(h=>{if(h>=32)throw new Error(`Invalid bit value ${h}.`);if(a.has(h))throw new Error("Duplicated bits detected.");a.add(h);const m=Math.floor(h/8);let E=i[m];E|=s>>h%8,i[m]=E});const o=ba.alloc(this.signatureLength);let u=0;for(let h=0;h<32;h++)n.includes(h)&&o.set(r[u++],h*64);return o.set(i,this.signatureLength-4),o}static async verify(e,r,n){const i=Le[Re.MULTIAPTOS].sigLength-4,a=n.slice(0,i),o=n.slice(i);let u=!1;for(let h=0;h<32;h++){const m=Math.floor(h/8),E=h-m*8;if((o[m]&128>>E)!==0){const M=a.slice(h*64,(h+1)*64),O=e.slice(h*32,(h+1)*32);await(0,Ms.T)(ba.from(M),ba.from(r),ba.from(O))||(u=!0)}}return!u}}var id=l(55872).Buffer;class ad extends ha{constructor(r){super(r);k(this,"ownerLength",Le[Re.TYPEDETHEREUM].pubLength);k(this,"signatureLength",Le[Re.TYPEDETHEREUM].sigLength);k(this,"signatureType",Re.TYPEDETHEREUM);k(this,"address");k(this,"signer");this.address="0x"+hc(super.publicKey.slice(1)).slice(-20).toString("hex"),this.signer=new Br(r)}get publicKey(){return id.from(this.address)}async sign(r){const n=await this.signer._signTypedData(ma,wa,{address:this.address,"Transaction hash":r});return id.from(n.slice(2),"hex")}static async verify(r,n,s){const i=r.toString(),a=Wf(ma,wa,{address:i,"Transaction hash":n},s);return i.toLowerCase()===a.toLowerCase()}}const ma={name:"Bundlr",version:"1"},wa={Bundlr:[{name:"Transaction hash",type:"bytes"},{name:"address",type:"address"}]},$1="Bundlr(bytes Transaction hash, address address)",q1="EIP712Domain(string name,string version)";var od=l(55872).Buffer;class yc{constructor(e){k(this,"ownerLength",Le[Re.TYPEDETHEREUM].pubLength);k(this,"signatureLength",Le[Re.TYPEDETHEREUM].sigLength);k(this,"signatureType",Re.TYPEDETHEREUM);k(this,"address");k(this,"signer");k(this,"publicKey");this.signer=e.getSigner()}async ready(){this.address=(await this.signer.getAddress()).toString().toLowerCase(),this.publicKey=od.from(this.address)}async sign(e){const r=await this.signer._signTypedData(ma,wa,{address:this.address,"Transaction hash":e});return od.from(r.slice(2),"hex")}static verify(e,r,n){const s=e.toString(),i=Wf(ma,wa,{address:s,"Transaction hash":r},n);return s.toLowerCase()===i.toLowerCase()}}var j1=null;class Hp{constructor(e,r){k(this,"signer");k(this,"publicKey");k(this,"ownerLength",Le[Re.ARWEAVE].pubLength);k(this,"signatureLength",Le[Re.ARWEAVE].sigLength);k(this,"signatureType",Re.ARWEAVE);k(this,"arweave");this.signer=e,this.arweave=r}async setPublicKey(){const e=await this.signer.getActivePublicKey();this.publicKey=Ae.toBuffer(e)}async sign(e){this.publicKey||await this.setPublicKey();const r={name:"RSA-PSS",saltLength:32},n=await this.signer.signature(e,r);return new Uint8Array(Object.values(n).map(i=>+i))}static async verify(e,r,n){return await ct().verify(e,r,n)}}const xc={1:Ji,2:Ls,3:ha,4:ya,5:ga,6:sd,7:ad};async function Kp(t){return Pn([Ce("dataitem"),Ce("1"),Ce(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData])}var gc=Kp;function ni(t,e){const r=new Uint8Array(t);if(e<0)throw new Error("Array is unsigned, cannot represent -ve numbers");if(e>2**(t*8)-1)throw new Error(`Number ${e} is too large for an array of ${t} bytes`);for(let n=0;n<r.length;n++){const s=e&255;r[n]=s,e=(e-s)/256}return r}function bc(t){return ni(8,t)}function cd(t){return ni(2,t)}function zp(t){return ni(16,t)}function mc(t){return ni(32,t)}function et(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r];return e}var va=l(55872).Buffer;class wc{constructor(e=va.alloc(Ec),r=0){k(this,"buf");k(this,"pos");this.buf=e,this.pos=r}writeTags(e){if(!Array.isArray(e))throw new Error("input must be array");const r=e.length;let n;if(r)for(this.writeLong(r),n=0;n<r;n++){const s=e[n];if(typeof(s==null?void 0:s.name)!="string"||typeof(s==null?void 0:s.value)!="string")throw new Error(`Invalid tag format for ${s}, expected {name:string, value: string}`);this.writeString(s.name),this.writeString(s.value)}this.writeLong(0)}toBuffer(){const e=va.alloc(this.pos);if(this.pos>this.buf.length)throw new Error(`Too many tag bytes (${this.pos} > ${this.buf.length})`);return this.buf.copy(e,0,0,this.pos),e}writeLong(e){const r=this.buf;let n,s;if(e>=-1073741824&&e<1073741824){s=e>=0?e<<1:~e<<1|1;do r[this.pos]=s&127,s>>=7;while(s&&(r[this.pos++]|=128))}else{n=e>=0?e*2:-e*2-1;do r[this.pos]=n&127,n/=128;while(n>=1&&(r[this.pos++]|=128))}this.pos++,this.buf=r}writeString(e){const r=va.byteLength(e),n=this.buf;this.writeLong(r);let s=this.pos;if(this.pos+=r,!(this.pos>n.length)){if(r>64)this.buf.write(e,this.pos-r,r,"utf8");else{let i,a,o,u;for(i=0,a=r;i<a;i++)o=e.charCodeAt(i),o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):(o&64512)===55296&&((u=e.charCodeAt(i+1))&64512)===56320?(o=65536+((o&1023)<<10)+(u&1023),i++,n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}this.buf=n}}readLong(){let e=0,r=0;const n=this.buf;let s,i,a,o;do s=n[this.pos++],i=s&128,e|=(s&127)<<r,r+=7;while(i&&r<28);if(i){a=e,o=268435456;do s=n[this.pos++],a+=(s&127)*o,o*=128;while(s&128);return(a%2?-(a+1):a)/2}return e>>1^-(e&1)}skipLong(){const e=this.buf;for(;e[this.pos++]&128;);}readTags(){const e=[];let r;for(;r=this.readLong();)for(r<0&&(r=-r,this.skipLong());r--;){const n=this.readString(),s=this.readString();e.push({name:n,value:s})}return e}readString(){const e=this.readLong(),r=this.pos,n=this.buf;if(this.pos+=e,this.pos>n.length)throw new Error("TAP Position out of range");return this.buf.slice(r,r+e).toString()}}function ud(t){if((t==null?void 0:t.length)===0)return va.allocUnsafe(0);const e=new wc;return e.writeTags(t),e.toBuffer()}function Ea(t){return new wc(t).readTags()}const vc=80,Ec=4096;class Fn{constructor(e){k(this,"binary");k(this,"_id");this.binary=e}static isDataItem(e){return e.binary!==void 0}get signatureType(){const e=et(this.binary.subarray(0,2));if((Re==null?void 0:Re[e])!==void 0)return e;throw new Error("Unknown signature type: "+e)}async isValid(){return Fn.verify(this.binary)}get id(){return Ae.encode(this.rawId)}set id(e){this._id=Ae.toBuffer(e)}get rawId(){return(0,ur.createHash)("sha256").update(this.rawSignature).digest()}set rawId(e){this._id=e}get rawSignature(){return this.binary.subarray(2,2+this.signatureLength)}get signature(){return Ae.encode(this.rawSignature)}set rawOwner(e){if(e.byteLength!=this.ownerLength)throw new Error(`Expected raw owner (pubkey) to be ${this.ownerLength} bytes, got ${e.byteLength} bytes.`);this.binary.set(e,2+this.signatureLength)}get rawOwner(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}get signatureLength(){return Le[this.signatureType].sigLength}get owner(){return Ae.encode(this.rawOwner)}get ownerLength(){return Le[this.signatureType].pubLength}get rawTarget(){const e=this.getTargetStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Ct.Buffer.alloc(0)}get target(){return Ae.encode(this.rawTarget)}get rawAnchor(){const e=this.getAnchorStart();return this.binary[e]==1?this.binary.subarray(e+1,e+33):Ct.Buffer.alloc(0)}get anchor(){return this.rawAnchor.toString()}get rawTags(){const e=this.getTagsStart(),r=et(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+r)}get tags(){const e=this.getTagsStart();if(et(this.binary.subarray(e,e+8))==0)return[];const n=et(this.binary.subarray(e+8,e+16));return Ea(Ct.Buffer.from(this.binary.subarray(e+16,e+16+n)))}get tagsB64Url(){return this.tags.map(r=>({name:Ae.encode(r.name),value:Ae.encode(r.value)}))}getStartOfData(){const e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=et(r);return e+16+n}get rawData(){const e=this.getTagsStart(),r=this.binary.subarray(e+8,e+16),n=et(r),s=e+16+n;return this.binary.subarray(s,this.binary.length)}get data(){return Ae.encode(this.rawData)}getRaw(){return this.binary}async sign(e){return this._id=await Sc(this,e),this.rawId}async setSignature(e){this.binary.set(e,2),this._id=Ct.Buffer.from(await ct().hash(e))}isSigned(){var e;return(((e=this._id)==null?void 0:e.length)??0)>0}toJSON(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map(e=>({name:Ae.encode(e.name),value:Ae.encode(e.value)})),data:this.data}}static async verify(e){if(e.byteLength<vc)return!1;const r=new Fn(e),n=r.signatureType,s=r.getTagsStart(),i=et(e.subarray(s,s+8)),a=e.subarray(s+8,s+16),o=et(a);if(o>Ec)return!1;if(i>0)try{if(Ea(Ct.Buffer.from(e.subarray(s+16,s+16+o))).length!==i)return!1}catch{return!1}const u=xc[n],h=await gc(r);return await u.verify(r.rawOwner,h,r.rawSignature)}async getSignatureData(){return gc(this)}getTagsStart(){const e=this.getTargetStart(),r=this.binary[e]==1;let n=e+(r?33:1);const s=this.binary[n]==1;return n+=s?33:1,n}getTargetStart(){return 2+this.signatureLength+this.ownerLength}getAnchorStart(){let e=this.getTargetStart()+1;const r=this.binary[this.getTargetStart()]==1;return e+=r?32:0,e}}var Sa=Fn,$p=l(55872).Buffer;const rr=32;class fd{constructor(e){k(this,"length");k(this,"items");k(this,"binary");this.binary=e,this.length=this.getDataItemCount(),this.items=this.getItems()}getRaw(){return this.binary}get(e){if(typeof e=="number"){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}else return this.getById(e)}getSizes(){const e=[];for(let r=rr;r<rr+64*this.length;r+=64)e.push(et(this.binary.subarray(r,r+32)));return e}getIds(){const e=[];for(let r=rr;r<rr+64*this.length;r+=64){const n=this.binary.subarray(r+32,r+64);if(n.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");e.push(Ae.encode(n))}return e}getIdBy(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");const r=64+64*e;return Ae.encode(this.binary.subarray(r,r+32))}async toTransaction(e,r,n){const s=await r.createTransaction({data:this.binary,...e},n);return s.addTag("Bundle-Format","binary"),s.addTag("Bundle-Version","2.0.0"),s}async verify(){for(const e of this.items){const r=await e.isValid(),n=Ae((0,ur.createHash)("sha256").update(e.rawSignature).digest());if(!(r&&e.id===n))return!1}return!0}getOffset(e){let r=0;for(let n=rr;n<rr+64*this.length;n+=64){const s=et(this.binary.subarray(n,n+32));r+=s;const i=this.binary.subarray(n+32,n+64);if($p.compare(i,e)===0)return{startOffset:r,size:s}}return{startOffset:-1,size:-1}}getByIndex(e){let r=0;const n=this.getBundleStart();let s=0,i,a;for(let m=rr;m<rr+64*this.length;m+=64){if(i=et(this.binary.subarray(m,m+32)),s++===e){a=this.binary.subarray(m+32,m+64);break}r+=i}const o=n+r,u=this.binary.subarray(o,o+i),h=new Sa(u);return h.rawId=a,h}getById(e){const r=Ae.toBuffer(e),n=this.getOffset(r);if(n.startOffset===-1)throw new Error("Transaction not found");const i=this.getBundleStart()+n.startOffset;return new Sa(this.binary.subarray(i,i+n.size))}getDataItemCount(){return et(this.binary.subarray(0,32))}getBundleStart(){return 32+64*this.length}getItems(){const e=new Array(this.length);let r=0;const n=this.getBundleStart();let s=0;for(let i=rr;i<rr+64*this.length;i+=64){const a=et(this.binary.subarray(i,i+32)),o=this.binary.subarray(i+32,i+64);if(o.length===0)throw new Error("Invalid bundle, id specified in headers doesn't exist");const u=n+r,h=this.binary.subarray(u,u+a);r+=a;const m=new Sa(h);m.rawId=o,e[s]=m,s++}return e}}var dd=fd,Ln=l(55872).Buffer;function qp(t){return new dd(t)}async function ld(t,e){const r=new Uint8Array(64*t.length),n=await Promise.all(t.map(async(i,a)=>{const o=i.isSigned()?i.rawId:await Sc(i,e),u=new Uint8Array(64);return u.set(mc(i.getRaw().byteLength),0),u.set(o,32),r.set(u,64*a),i.getRaw()})).then(i=>Ln.concat(i)),s=Ln.concat([Ln.from(mc(t.length)),Ln.from(r),n]);return new dd(s)}async function hd(t,e){const r=await gc(t),n=await e.sign(r),s=await ct().hash(n);return{signature:Ln.from(n),id:Ln.from(s)}}async function Sc(t,e){const{signature:r,id:n}=await hd(t,e);return t.getRaw().set(r,2),n}var Aa=l(55872).Buffer;function Ac(t,e,r){var pe,Ue;const n=e.publicKey,s=r!=null&&r.target?Ae.toBuffer(r.target):null,i=1+((s==null?void 0:s.byteLength)??0),a=r!=null&&r.anchor?Aa.from(r.anchor):null,o=1+((a==null?void 0:a.byteLength)??0),u=(((pe=r==null?void 0:r.tags)==null?void 0:pe.length)??0)>0?ud(r==null?void 0:r.tags):null,h=16+(u?u.byteLength:0),m=Aa.from(t),E=m.byteLength,B=2+e.signatureLength+e.ownerLength+i+o+h+E,M=Aa.alloc(B);if(M.set(cd(e.signatureType),0),M.set(new Uint8Array(e.signatureLength).fill(0),2),n.byteLength!==e.ownerLength)throw new Error(`Owner must be ${e.ownerLength} bytes, but was incorrectly ${n.byteLength}`);M.set(n,2+e.signatureLength);const O=2+e.signatureLength+e.ownerLength;if(M[O]=s?1:0,s){if(s.byteLength!==32)throw new Error(`Target must be 32 bytes but was incorrectly ${s.byteLength}`);M.set(s,O+1)}const $=O+i;let Z=$+1;if(M[$]=a?1:0,a){if(Z+=a.byteLength,a.byteLength!==32)throw new Error("Anchor must be 32 bytes");M.set(a,$+1)}M.set(bc(((Ue=r==null?void 0:r.tags)==null?void 0:Ue.length)??0),Z);const ce=bc((u==null?void 0:u.byteLength)??0);M.set(ce,Z+8),u&&M.set(u,Z+16);const ye=Z+h;return M.set(m,ye),new Sa(M)}class jp{constructor(){k(this,"signatureType");k(this,"rawSignature");k(this,"signature");k(this,"signatureLength");k(this,"rawOwner");k(this,"owner");k(this,"ownerLength");k(this,"rawTarget");k(this,"target");k(this,"rawAnchor");k(this,"anchor");k(this,"rawTags");k(this,"tags");k(this,"rawData");k(this,"data")}static async verify(...e){throw new Error("You must implement `verify`")}}var Kt=l(55872).Buffer;async function pd(t){const e=yd(t);let r=(await e.next()).value;r=await gt(e,r,32);const n=et(r.subarray(0,32));r=r.subarray(32);const s=64*n;r=await gt(e,r,s);const i=new Array(n);for(let u=0;u<s;u+=64)i[u/64]=[et(r.subarray(u,u+32)),Ae(Kt.from(r.subarray(u+32,u+64)))];r=r.subarray(s);let a=32+s;const o=[];for(const[u,h]of i){r=await gt(e,r,vc),r=await gt(e,r,2);const m=et(r.subarray(0,2));r=r.subarray(2);const{sigLength:E,pubLength:B,sigName:M}=Le[m];r=await gt(e,r,E);const O=r.subarray(0,E);r=r.subarray(E),r=await gt(e,r,B);const $=r.subarray(0,B);r=r.subarray(B),r=await gt(e,r,1);const Z=r[0]===1;Z&&(r=await gt(e,r,33));const ce=Z?r.subarray(1,33):Kt.allocUnsafe(0);r=r.subarray(Z?33:1),r=await gt(e,r,1);const ye=r[0]===1;ye&&(r=await gt(e,r,33));const pe=ye?r.subarray(1,33):Kt.allocUnsafe(0);r=r.subarray(ye?33:1),r=await gt(e,r,8);const Ue=et(r.subarray(0,8));r=r.subarray(8),r=await gt(e,r,8);const Ie=et(r.subarray(0,8));r=r.subarray(8),r=await gt(e,r,Ie);const tt=r.subarray(0,Ie),at=Ue!==0&&Ie!==0?Ea(Kt.from(tt)):[];if(at.length!==Ue)throw new Error("Tags lengths don't match");r=r.subarray(Ie);const Oe=new Us.Transform;Oe._transform=function(me,Ke,yt){this.push(me),yt()};const We=Pn([Ce("dataitem"),Ce("1"),Ce(m.toString()),$,ce,pe,tt,Oe]),mt=2+E+B+(Z?33:1)+(ye?33:1)+16+Ie,He=u-mt;if(r.byteLength>He)Oe.write(r.subarray(0,He)),r=r.subarray(He);else{let me=r.byteLength;for(Oe.write(r);He>me;){if(r=(await e.next()).value,!r)throw new Error(`Not enough data bytes  expected: ${He} received: ${me}`);me+=r.byteLength,me>He?Oe.write(r.subarray(0,r.byteLength-(me-He))):Oe.write(r)}r=r.subarray(r.byteLength-(me-He))}if(Oe.end(),h!==Ae((0,ur.createHash)("sha256").update(O).digest()))throw new Error("ID doesn't match signature");if(!await xc[m].verify($,await We,O))throw new Error("Invalid signature");o.push({id:h,sigName:M,signature:Ae(Kt.from(O)),target:Ae(Kt.from(ce)),anchor:Ae(Kt.from(pe)),owner:Ae(Kt.from($)),tags:at,dataOffset:a+mt,dataSize:He}),a+=mt+He}return o}async function Gp(t,e,r,n){const s=Ac("",r,n),i=new Us.PassThrough,a=[Ce("dataitem"),Ce("1"),Ce(s.signatureType.toString()),s.rawOwner,s.rawTarget,s.rawAnchor,s.rawTags,t],o=await Pn(a),u=Kt.from(await r.sign(o));return s.setSignature(u),i.write(s.getRaw()),e.pipe(i)}async function gt(t,e,r){if(e.byteLength>=r)return e;const{done:n,value:s}=await t.next();if(n&&!s)throw new Error("Invalid buffer");return gt(t,Kt.concat([Kt.from(e),Kt.from(s)]),r)}async function*yd(t){for await(const e of t)yield e}var Wp=pd;const Vp={readBytes:gt,getReader:yd},Jp={...w,stream:x};globalThis.arbundles??(globalThis.arbundles=Jp);var G1=null;const W1=null;var Xp=l(55872).Buffer;class _a{constructor(e){k(this,"base");k(this,"wallet");k(this,"_address");k(this,"providerUrl");k(this,"providerInstance");k(this,"ticker");k(this,"name");k(this,"irys");k(this,"minConfirm",5);k(this,"isSlow",!1);k(this,"needsFee",!0);k(this,"inheritsRPC",!1);Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return Ae.encode(Xp.from(await ct().hash(await e.rawSignature())))}async price(){return xd(this.ticker)}}async function xd(t){const e=await Ao.get(`https://api.redstone.finance/prices?symbol=${t}&provider=redstone&limit=1`);return await ot.checkAndThrow(e,"Getting price data"),e.data[0].value}const Zp=yc;class Ta extends _a{constructor(r){super(r);k(this,"signer");k(this,"w3signer");k(this,"inheritsRPC",!0);this.base=["wei",1e18]}async getTx(r){const s=await this.providerInstance.getTransaction(r);if(!s)throw new Error("Tx doesn't exist");if(!s.to)throw new Error(`Unable to resolve transactions ${r} receiver`);return{from:s.from,to:s.to,blockHeight:s.blockNumber?new Ee.Z(s.blockNumber):void 0,amount:new Ee.Z(s.value.toHexString(),16),pending:!s.blockNumber,confirmed:s.confirmations>=this.minConfirm}}ownerToAddress(r){return r.toString().toLowerCase()}async sign(r){return(await this.getSigner()).sign(r)}getSigner(){return this.signer||(this.signer=new yc(this.wallet)),this.signer}async verify(r,n,s){return Zp.verify(r,n,s)}async getCurrentHeight(){const n=await this.providerInstance.send("eth_blockNumber",[]);return new Ee.Z(n,16)}async getFee(r,n){const s=this.providerInstance,i={to:n,from:this.address,value:"0x"+new Ee.Z(r).toString(16)},a=await s.estimateGas(i),o=await s.getGasPrice();return new Ee.Z(a.mul(o).toString())}async sendTx(r){const s=await this.w3signer.sendTransaction(r);return s?s.hash:void 0}async createTx(r,n,s){const i=xe.from(new Ee.Z(r).toFixed()),a=this.w3signer,o=await a.estimateGas({to:n,from:this.address,value:i.toHexString()});let u=await a.getGasPrice();return this.name==="matic"&&(u=xe.from(new Ee.Z(u.toString()).multipliedBy(10).decimalPlaces(0).toString())),{txId:void 0,tx:await a.populateTransaction({to:n,from:this.address,value:i.toHexString(),gasPrice:u,gasLimit:o})}}async getPublicKey(){return this.address}async ready(){var r,n;this.w3signer=await this.wallet.getSigner(),this._address=(await this.w3signer.getAddress()).toString().toLowerCase(),await this.getSigner().ready(),this.providerInstance=this.wallet,await((n=(r=this.providerInstance)==null?void 0:r._ready)==null?void 0:n.call(r))}}var Yp=l(61125),Qp=l(67265),si=l(7782),ii=l(11565),ey=l(48797),ty=l(3541),_c=l(55872).Buffer;class ry extends _a{constructor(r){super(r);k(this,"keyPair");k(this,"near");this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const r=new Qp.X,n=this.wallet.account();if(this.keyPair=await r.getKey(this.wallet._networkId,n.accountId),!this.keyPair){this.keyPair=Yp.KeyPair.fromRandom("ed25519");const s=this.keyPair.getPublicKey().toString();await r.setKey(this.wallet._networkId,n.accountId,this.keyPair),await n.addKey(s)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(r){const n=await this.providerInstance,[s,i]=r.split(":"),a=await n.txStatusReceipts(ii.decode(i),s),o=await n.block(a.transaction_outcome.block_hash),u=(await n.block({finality:"final"})).header.height;if(a.receipts_outcome[0].outcome.status.SuccessValue!=="")throw new Error("Transaction failed!");const h=a.receipts[0].receipt.Action.actions[0].Transfer.deposit??0;return{from:s,to:a.transaction.receiver_id,amount:new Ee.Z(h),blockHeight:new Ee.Z(o.header.height),pending:!1,confirmed:u-o.header.height>=this.minConfirm}}ownerToAddress(r){const n=typeof r=="string"?r:ii.encode(r);return _c.from(ii.decode(n.replace("ed25519:",""))).toString("hex")}async sign(r){return this.getSigner().sign(r)}getSigner(){return new pc(this.keyPair.secretKey)}async verify(r,n,s){return pc.verify(r,n,s)}async getCurrentHeight(){const r=await this.providerInstance.status();return new Ee.Z(r.sync_info.latest_block_height)}async getFee(r,n){const s=(await this.providerInstance.block({finality:"final"})).header.height,i=await this.providerInstance.gasPrice(s);return new Ee.Z(i.gas_price).multipliedBy(45e10)}async sendTx(r){const n=await this.providerInstance.sendTransaction(r);return`${this.address}:${n.transaction.hash}`}async createTx(r,n,s){if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const i=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),a=++i.nonce,o=_c.from(ii.decode(i.block_hash)),u=[si.actionCreators.transfer(new Os(new Ee.Z(r).toString()))],h=(0,si.createTransaction)(this.address,this.keyPair.getPublicKey(),n,a,u,o),m=(0,ey.serialize)(si.SCHEMA,h),E=new Uint8Array(ty.sha256.array(m)),B=this.keyPair.sign(E);return{tx:new si.SignedTransaction({transaction:h,signature:new si.Signature({keyType:h.publicKey.keyType,data:B.signature})}),txId:void 0}}async getPublicKey(){return _c.from(this.keyPair.getPublicKey().data)}}var ai=l(5615),ny=l(55872).Buffer;class sy extends _a{constructor(r){super(r);k(this,"signer");k(this,"minConfirm",1);this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new ai.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(r){const n=await this.getProvider(),s=await n.getTransaction(r,{commitment:"confirmed"});if(!s)throw new Error("Confirmed tx not found");const i=await n.getSlot("confirmed");if(!s.meta)throw new Error(`Unable to resolve transaction ${r}`);const a=new Ee.Z(s.meta.postBalances[1]).minus(new Ee.Z(s.meta.preBalances[1]));return{from:s.transaction.message.accountKeys[0].toBase58(),to:s.transaction.message.accountKeys[1].toBase58(),amount:a,blockHeight:new Ee.Z(s.slot),pending:!1,confirmed:i-s.slot>=1}}ownerToAddress(r){return typeof r=="string"&&(r=ny.from(r)),ii.encode(r)}async sign(r){return await(await this.getSigner()).sign(r)}getSigner(){return this.signer||(this.signer=new ya(this.wallet)),this.signer}verify(r,n,s){return ya.verify(r,n,s)}async getCurrentHeight(){return new Ee.Z((await(await this.getProvider()).getEpochInfo()).blockHeight??0)}async getFee(r,n){return new Ee.Z(5e3)}async sendTx(r){return await this.wallet.sendTransaction(r,await this.getProvider(),{skipPreflight:!0})}async createTx(r,n,s){const i=new ai.PublicKey(await this.getPublicKey()),a=await Er(async u=>{var h;try{return await(await this.getProvider()).getRecentBlockhash()}catch(m){throw(h=m.message)!=null&&h.includes("blockhash")?m:(u(m),new Error("Unreachable"))}},{retries:3,minTimeout:1e3}),o=new ai.Transaction({recentBlockhash:a.blockhash,feePayer:i});return o.add(ai.SystemProgram.transfer({fromPubkey:i,toPubkey:new ai.PublicKey(n),lamports:+new Ee.Z(r).toNumber()})),{tx:o,txId:void 0}}async getPublicKey(){if(!this.wallet.publicKey)throw new Error("Wallet.publicKey is undefined");return this.wallet.publicKey.toBuffer()}}const oi="abi/5.7.0",Tc=new se(oi);function iy(t){const e=[],r=function(n,s){if(Array.isArray(s))for(let i in s){const a=n.slice();a.push(i);try{r(a,s[i])}catch(o){e.push({path:a,error:o})}}};return r([],t),e}class hr{constructor(e,r,n,s){this.name=e,this.type=r,this.localName=n,this.dynamic=s}_throwError(e,r){Tc.throwArgumentError(e,this.localName,r)}}class Rc{constructor(e){ne(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Gr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(vt(e._data))}writeBytes(e){let r=oe(e);const n=r.length%this.wordSize;return n&&(r=vt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=oe(xe.from(e));return r.length>this.wordSize&&Tc.throwError("value out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=vt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Ra{constructor(e,r,n,s){ne(this,"_data",oe(e)),ne(this,"wordSize",r||32),ne(this,"_coerceFunc",n),ne(this,"allowLoose",s),this._offset=0}get data(){return le(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Ra.coerce(e,r)}_peekBytes(e,r,n){let s=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+s>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?s=r:Tc.throwError("data out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+s})),this._data.slice(this._offset,this._offset+s)}subReader(e){return new Ra(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return xe.from(this.readBytes(this.wordSize))}}class ay extends hr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=ze(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return ze(Et(e.readValue().toHexString(),20))}}class oy extends hr{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Hn=new se(oi);function gd(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let u={};n=e.map(h=>{const m=h.localName;return m||Hn.throwError("cannot encode object for signature with missing names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:r}),u[m]&&Hn.throwError("cannot encode object for signature with duplicate names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:r}),u[m]=!0,r[m]})}else Hn.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Hn.throwArgumentError("types/value length mismatch","tuple",r);let s=new Rc(t.wordSize),i=new Rc(t.wordSize),a=[];e.forEach((u,h)=>{let m=n[h];if(u.dynamic){let E=i.length;u.encode(i,m);let B=s.writeUpdatableValue();a.push(M=>{B(M+E)})}else u.encode(s,m)}),a.forEach(u=>{u(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function bd(t,e){let r=[],n=t.subReader(0);e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readValue(),u=n.subReader(o.toNumber());try{a=i.decode(u)}catch(h){if(h.code===se.errors.BUFFER_OVERRUN)throw h;a=h,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(o.code===se.errors.BUFFER_OVERRUN)throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}a!=null&&r.push(a)});const s=e.reduce((i,a)=>{const o=a.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});e.forEach((i,a)=>{let o=i.localName;if(!o||s[o]!==1||(o==="length"&&(o="_length"),r[o]!=null))return;const u=r[a];u instanceof Error?Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw u}}):r[o]=u});for(let i=0;i<r.length;i++){const a=r[i];a instanceof Error&&Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw a}})}return Object.freeze(r)}class cy extends hr{constructor(e,r,n){const s=e.type+"["+(r>=0?r:"")+"]",i=r===-1||e.dynamic;super("array",s,n,i),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Hn.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<r.length;i++)s.push(this.coder);return gd(e,s,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Hn.throwError("insufficient data length",se.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let s=0;s<r;s++)n.push(new oy(this.coder));return e.coerce(this.name,bd(e,n))}}class uy extends hr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class md extends hr{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=oe(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class fy extends md{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,le(super.decode(e)))}}class dy extends hr{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=oe(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,le(e.readBytes(this.size)))}}class ly extends hr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const hy=xe.from(-1),py=xe.from(0),yy=xe.from(1),V1=null,J1=null,xy=xe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),X1=null,Z1=null;class gy extends hr{constructor(e,r,n){const s=(r?"int":"uint")+e*8;super(s,s,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=xe.from(r),s=xy.mask(e.wordSize*8);if(this.signed){let i=s.mask(this.size*8-1);(n.gt(i)||n.lt(i.add(yy).mul(hy)))&&this._throwError("value out-of-bounds",r)}else(n.lt(py)||n.gt(s.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class by extends md{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Vt(r))}decode(e){return fh(super.decode(e))}}class Pa extends hr{constructor(e,r){let n=!1;const s=[];e.forEach(a=>{a.dynamic&&(n=!0),s.push(a.type)});const i="tuple("+s.join(",")+")";super("tuple",i,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,s)=>{const i=s.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,s)=>{let i=n.localName;!i||r[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,r){return gd(e,this.coders,r)}decode(e){return e.coerce(this.name,bd(e,this.coders))}}const Pe=new se(oi),Zr={};let wd={calldata:!0,memory:!0,storage:!0},my={calldata:!0,memory:!0};function ka(t,e){if(t==="bytes"||t==="string"){if(wd[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&my[e])return!0;return(wd[e]||e==="payable")&&Pe.throwArgumentError("invalid modifier","name",e),!1}function wy(t,e){let r=t;function n(o){Pe.throwArgumentError(`unexpected character at position ${o}`,"param",t)}t=t.replace(/\s/g," ");function s(o){let u={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(u.indexed=!1),u}let i={type:"",name:"",state:{allowType:!0}},a=i;for(let o=0;o<t.length;o++){let u=t[o];switch(u){case"(":a.state.allowType&&a.type===""?a.type="tuple":a.state.allowParams||n(o),a.state.allowType=!1,a.type=Kn(a.type),a.components=[s(a)],a=a.components[0];break;case")":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),ka(a.type,a.name)&&(a.name=""),a.type=Kn(a.type);let h=a;a=a.parent,a||n(o),delete h.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,a.name==="indexed"&&(e||n(o),a.indexed=!0,a.name=""),ka(a.type,a.name)&&(a.name=""),a.type=Kn(a.type);let m=s(a.parent);a.parent.components.push(m),delete a.parent,a=m;break;case" ":a.state.allowType&&a.type!==""&&(a.type=Kn(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&a.name!==""&&(a.name==="indexed"?(e||n(o),a.indexed&&n(o),a.indexed=!0,a.name=""):ka(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(o),a.type+=u,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(o),a.type+=u,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=u,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=u,delete a.state.allowArray):a.state.readArray?a.type+=u:n(o)}}return a.parent&&Pe.throwArgumentError("unexpected eof","param",t),delete i.state,a.name==="indexed"?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):ka(a.type,a.name)&&(a.name=""),i.type=Kn(i.type),i}function Ca(t,e){for(let r in e)ne(t,r,e[r])}const Be=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),vy=new RegExp(/^(.*)\[([0-9]*)\]$/);class st{constructor(e,r){e!==Zr&&Pe.throwError("use fromString",se.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ca(this,r);let n=this.type.match(vy);n?Ca(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:st.fromObject({type:n[1],components:this.components}),baseType:"array"}):Ca(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Be.sighash),Be[e]||Pe.throwArgumentError("invalid format type","format",e),e===Be.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Be.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Be.full?", ":",")+")"):r+=this.type,e!==Be.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Be.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?st.fromString(e,r):st.fromObject(e)}static fromObject(e){return st.isParamType(e)?e:new st(Zr,{name:e.name||null,type:Kn(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(st.fromObject):null})}static fromString(e,r){function n(s){return st.fromObject({name:s.name,type:s.type,indexed:s.indexed,components:s.components})}return n(wy(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function ci(t,e){return Sy(t).map(r=>st.fromString(r,e))}class pr{constructor(e,r){e!==Zr&&Pe.throwError("use a static from method",se.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ca(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return pr.isFragment(e)?e:typeof e=="string"?pr.fromString(e):pr.fromObject(e)}static fromObject(e){if(pr.isFragment(e))return e;switch(e.type){case"function":return sr.fromObject(e);case"event":return yr.fromObject(e);case"constructor":return nr.fromObject(e);case"error":return Ur.fromObject(e);case"fallback":case"receive":return null}return Pe.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?yr.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?sr.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?nr.fromString(e.trim()):e.split(" ")[0]==="error"?Ur.fromString(e.substring(5).trim()):Pe.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class yr extends pr{format(e){if(e||(e=Be.sighash),Be[e]||Pe.throwArgumentError("invalid format type","format",e),e===Be.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Be.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Be.full?", ":",")+") ",e!==Be.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?yr.fromString(e):yr.fromObject(e)}static fromObject(e){if(yr.isEventFragment(e))return e;e.type!=="event"&&Pe.throwArgumentError("invalid event object","value",e);const r={name:ui(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(st.fromObject):[],type:"event"};return new yr(Zr,r)}static fromString(e){let r=e.match(fi);r||Pe.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(s=>{switch(s.trim()){case"anonymous":n=!0;break;case"":break;default:Pe.warn("unknown modifier: "+s)}}),yr.fromObject({name:r[1].trim(),anonymous:n,inputs:ci(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function vd(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Pe.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Pe.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=xe.from(r[1]),r[0]):t}function Ed(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Sd(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Pe.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Pe.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Pe.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Pe.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Pe.throwArgumentError("unable to determine stateMutability","value",t),e}class nr extends pr{format(e){if(e||(e=Be.sighash),Be[e]||Pe.throwArgumentError("invalid format type","format",e),e===Be.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Be.sighash&&Pe.throwError("cannot format a constructor for sighash",se.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Be.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?nr.fromString(e):nr.fromObject(e)}static fromObject(e){if(nr.isConstructorFragment(e))return e;e.type!=="constructor"&&Pe.throwArgumentError("invalid constructor object","value",e);let r=Sd(e);r.constant&&Pe.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(st.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?xe.from(e.gas):null};return new nr(Zr,n)}static fromString(e){let r={type:"constructor"};e=vd(e,r);let n=e.match(fi);return(!n||n[1].trim()!=="constructor")&&Pe.throwArgumentError("invalid constructor string","value",e),r.inputs=ci(n[2].trim(),!1),Ed(n[3].trim(),r),nr.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class sr extends nr{format(e){if(e||(e=Be.sighash),Be[e]||Pe.throwArgumentError("invalid format type","format",e),e===Be.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Be.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Be.full?", ":",")+") ",e!==Be.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?sr.fromString(e):sr.fromObject(e)}static fromObject(e){if(sr.isFunctionFragment(e))return e;e.type!=="function"&&Pe.throwArgumentError("invalid function object","value",e);let r=Sd(e);const n={type:e.type,name:ui(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(st.fromObject):[],outputs:e.outputs?e.outputs.map(st.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?xe.from(e.gas):null};return new sr(Zr,n)}static fromString(e){let r={type:"function"};e=vd(e,r);let n=e.split(" returns ");n.length>2&&Pe.throwArgumentError("invalid function string","value",e);let s=n[0].match(fi);if(s||Pe.throwArgumentError("invalid function signature","value",e),r.name=s[1].trim(),r.name&&ui(r.name),r.inputs=ci(s[2],!1),Ed(s[3].trim(),r),n.length>1){let i=n[1].match(fi);(i[1].trim()!=""||i[3].trim()!="")&&Pe.throwArgumentError("unexpected tokens","value",e),r.outputs=ci(i[2],!1)}else r.outputs=[];return sr.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Ad(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Pe.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Ur extends pr{format(e){if(e||(e=Be.sighash),Be[e]||Pe.throwArgumentError("invalid format type","format",e),e===Be.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Be.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Be.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Ur.fromString(e):Ur.fromObject(e)}static fromObject(e){if(Ur.isErrorFragment(e))return e;e.type!=="error"&&Pe.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ui(e.name),inputs:e.inputs?e.inputs.map(st.fromObject):[]};return Ad(new Ur(Zr,r))}static fromString(e){let r={type:"error"},n=e.match(fi);return n||Pe.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ui(r.name),r.inputs=ci(n[2],!1),Ad(Ur.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Kn(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Ey=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ui(t){return(!t||!t.match(Ey))&&Pe.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const fi=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Sy(t){t=t.trim();let e=[],r="",n=0;for(let s=0;s<t.length;s++){let i=t[s];i===","&&n===0?(e.push(r),r=""):(r+=i,i==="("?n++:i===")"&&(n--,n===-1&&Pe.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Ia=new se(oi),Ay=new RegExp(/^bytes([0-9]*)$/),_y=new RegExp(/^(u?int)([0-9]*)$/);class Ty{constructor(e){ne(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new ay(e.name);case"bool":return new uy(e.name);case"string":return new by(e.name);case"bytes":return new fy(e.name);case"array":return new cy(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Pa((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new ly(e.name)}let r=e.type.match(_y);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Ia.throwArgumentError("invalid "+r[1]+" bit length","param",e),new gy(n/8,r[1]==="int",e.name)}if(r=e.type.match(Ay),r){let n=parseInt(r[1]);return(n===0||n>32)&&Ia.throwArgumentError("invalid bytes length","param",e),new dy(n,e.name)}return Ia.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Ra(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new Rc(this._getWordSize())}getDefaultValue(e){const r=e.map(s=>this._getCoder(st.from(s)));return new Pa(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Ia.throwError("types/values length mismatch",se.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(a=>this._getCoder(st.from(a))),s=new Pa(n,"_"),i=this._getWriter();return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(a=>this._getCoder(st.from(a)));return new Pa(s,"_").decode(this._getReader(oe(r),n))}}const Ry=new Ty,qe=new se(oi);class Py extends Bn{}class ky extends Bn{}class Cy extends Bn{}class Pc extends Bn{static isIndexed(e){return!!(e&&e._isIndexed)}}const Iy={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function _d(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Td{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ne(this,"fragments",r.map(n=>pr.from(n)).filter(n=>n!=null)),ne(this,"_abiCoder",qs(new.target,"getAbiCoder")()),ne(this,"functions",{}),ne(this,"errors",{}),ne(this,"events",{}),ne(this,"structs",{}),this.fragments.forEach(n=>{let s=null;switch(n.type){case"constructor":if(this.deploy){qe.warn("duplicate definition - constructor");return}ne(this,"deploy",n);return;case"function":s=this.functions;break;case"event":s=this.events;break;case"error":s=this.errors;break;default:return}let i=n.format();if(s[i]){qe.warn("duplicate definition - "+i);return}s[i]=n}),this.deploy||ne(this,"deploy",nr.from({payable:!1,type:"constructor"})),ne(this,"_isInterface",!0)}format(e){e||(e=Be.full),e===Be.sighash&&qe.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Be.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Ry}static getAddress(e){return ze(e)}static getSighash(e){return jr(Jr(e.format()),0,4)}static getEventTopic(e){return Jr(e.format())}getFunction(e){if(Xe(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];qe.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.functions).filter(i=>i.split("(")[0]===n);return s.length===0?qe.throwArgumentError("no matching function","name",n):s.length>1&&qe.throwArgumentError("multiple matching functions","name",n),this.functions[s[0]]}const r=this.functions[sr.fromString(e).format()];return r||qe.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Xe(e)){const n=e.toLowerCase();for(const s in this.events)if(n===this.getEventTopic(s))return this.events[s];qe.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.events).filter(i=>i.split("(")[0]===n);return s.length===0?qe.throwArgumentError("no matching event","name",n):s.length>1&&qe.throwArgumentError("multiple matching events","name",n),this.events[s[0]]}const r=this.events[yr.fromString(e).format()];return r||qe.throwArgumentError("no matching event","signature",e),r}getError(e){if(Xe(e)){const n=qs(this.constructor,"getSighash");for(const s in this.errors){const i=this.errors[s];if(e===n(i))return this.errors[s]}qe.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.errors).filter(i=>i.split("(")[0]===n);return s.length===0?qe.throwArgumentError("no matching error","name",n):s.length>1&&qe.throwArgumentError("multiple matching errors","name",n),this.errors[s[0]]}const r=this.errors[sr.fromString(e).format()];return r||qe.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return qs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),qs(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=oe(r);return le(n.slice(0,4))!==this.getSighash(e)&&qe.throwArgumentError(`data signature does not match error ${e.name}.`,"data",le(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),le(vt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=oe(r);return le(n.slice(0,4))!==this.getSighash(e)&&qe.throwArgumentError(`data signature does not match function ${e.name}.`,"data",le(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),le(vt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=oe(r),s=null,i="",a=null,o=null,u=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const h=le(n.slice(0,4)),m=Iy[h];if(m)a=this._abiCoder.decode(m.inputs,n.slice(4)),o=m.name,u=m.signature,m.reason&&(s=a[0]),o==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(a[0])}`:o==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${a[0]}`);else try{const E=this.getError(h);a=this._abiCoder.decode(E.inputs,n.slice(4)),o=E.name,u=E.format()}catch{}break}}return qe.throwError("call revert exception"+i,se.errors.CALL_EXCEPTION,{method:e.format(),data:le(r),errorArgs:a,errorName:o,errorSignature:u,reason:s})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),le(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&qe.throwError("too many arguments for "+e.format(),se.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const s=(i,a)=>i.type==="string"?Jr(a):i.type==="bytes"?rt(le(a)):(i.type==="bool"&&typeof a=="boolean"&&(a=a?"0x01":"0x00"),i.type.match(/^u?int/)&&(a=xe.from(a).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[a]),Et(le(a),32));for(r.forEach((i,a)=>{let o=e.inputs[a];if(!o.indexed){i!=null&&qe.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?qe.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?n.push(i.map(u=>s(o,u))):n.push(s(o,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],s=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&qe.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((a,o)=>{const u=r[o];if(a.indexed)if(a.type==="string")n.push(Jr(u));else if(a.type==="bytes")n.push(rt(u));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([a.type],[u]))}else s.push(a),i.push(u)}),{data:this._abiCoder.encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let B=this.getEventTopic(e);(!Xe(n[0],32)||n[0].toLowerCase()!==B)&&qe.throwError("fragment/topic mismatch",se.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:B,value:n[0]}),n=n.slice(1)}let s=[],i=[],a=[];e.inputs.forEach((B,M)=>{B.indexed?B.type==="string"||B.type==="bytes"||B.baseType==="tuple"||B.baseType==="array"?(s.push(st.fromObject({type:"bytes32",name:B.name})),a.push(!0)):(s.push(B),a.push(!1)):(i.push(B),a.push(!1))});let o=n!=null?this._abiCoder.decode(s,vt(n)):null,u=this._abiCoder.decode(i,r,!0),h=[],m=0,E=0;e.inputs.forEach((B,M)=>{if(B.indexed)if(o==null)h[M]=new Pc({_isIndexed:!0,hash:null});else if(a[M])h[M]=new Pc({_isIndexed:!0,hash:o[E++]});else try{h[M]=o[E++]}catch(O){h[M]=O}else try{h[M]=u[m++]}catch(O){h[M]=O}if(B.name&&h[B.name]==null){const O=h[M];O instanceof Error?Object.defineProperty(h,B.name,{enumerable:!0,get:()=>{throw _d(`property ${JSON.stringify(B.name)}`,O)}}):h[B.name]=O}});for(let B=0;B<h.length;B++){const M=h[B];M instanceof Error&&Object.defineProperty(h,B,{enumerable:!0,get:()=>{throw _d(`index ${B}`,M)}})}return Object.freeze(h)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new ky({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:xe.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Py({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=le(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Cy({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const By="contracts/5.7.0";var Or=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(m){try{h(n.next(m))}catch(E){a(E)}}function u(m){try{h(n.throw(m))}catch(E){a(E)}}function h(m){m.done?i(m.value):s(m.value).then(o,u)}h((n=n.apply(t,e||[])).next())})};const Me=new se(By),Uy={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Ba(t,e){return Or(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Me.throwArgumentError("invalid address or ENS name","name",r);try{return ze(r)}catch{}t||Me.throwError("a provider or signer is needed to resolve ENS names",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Me.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function di(t,e,r){return Or(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,s)=>di(t,Array.isArray(e)?e[s]:e[n.name],n))):r.type==="address"?yield Ba(t,e):r.type==="tuple"?yield di(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>di(t,n,r.arrayChildren))):Promise.reject(Me.makeError("invalid value for array",se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Ua(t,e,r){return Or(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=kr(r.pop())),Me.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=lr({override:Ba(t.signer,n.from),signer:t.signer.getAddress()}).then(h=>Or(this,void 0,void 0,function*(){return ze(h.signer)!==h.override&&Me.throwError("Contract with a Signer cannot override from",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),h.override})):n.from=t.signer.getAddress():n.from&&(n.from=Ba(t.provider,n.from));const s=yield lr({args:di(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:lr(n)||{}}),i=t.interface.encodeFunctionData(e,s.args),a={data:i,to:s.address},o=s.overrides;if(o.nonce!=null&&(a.nonce=xe.from(o.nonce).toNumber()),o.gasLimit!=null&&(a.gasLimit=xe.from(o.gasLimit)),o.gasPrice!=null&&(a.gasPrice=xe.from(o.gasPrice)),o.maxFeePerGas!=null&&(a.maxFeePerGas=xe.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(a.maxPriorityFeePerGas=xe.from(o.maxPriorityFeePerGas)),o.from!=null&&(a.from=o.from),o.type!=null&&(a.type=o.type),o.accessList!=null&&(a.accessList=ia(o.accessList)),a.gasLimit==null&&e.gas!=null){let h=21e3;const m=oe(i);for(let E=0;E<m.length;E++)h+=4,m[E]&&(h+=64);a.gasLimit=xe.from(e.gas).add(h)}if(o.value){const h=xe.from(o.value);!h.isZero()&&!e.payable&&Me.throwError("non-payable method cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),a.value=h}o.customData&&(a.customData=kr(o.customData)),o.ccipReadEnabled&&(a.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter(h=>n[h]!=null);return u.length&&Me.throwError(`cannot override ${u.map(h=>JSON.stringify(h)).join(",")}`,se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),a})}function Oy(t,e){return function(...r){return Ua(t,e,r)}}function Ny(t,e){const r=t.signer||t.provider;return function(...n){return Or(this,void 0,void 0,function*(){r||Me.throwError("estimate require a provider or signer",se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const s=yield Ua(t,e,n);return yield r.estimateGas(s)})}}function Rd(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(s=>(s.events=s.logs.map(i=>{let a=In(i),o=null;try{o=t.interface.parseLog(i)}catch{}return o&&(a.args=o.args,a.decode=(u,h)=>t.interface.decodeEventLog(o.eventFragment,u,h),a.event=o.name,a.eventSignature=o.signature),a.removeListener=()=>t.provider,a.getBlock=()=>t.provider.getBlock(s.blockHash),a.getTransaction=()=>t.provider.getTransaction(s.transactionHash),a.getTransactionReceipt=()=>Promise.resolve(s),a}),s))}function Pd(t,e,r){const n=t.signer||t.provider;return function(...s){return Or(this,void 0,void 0,function*(){let i;if(s.length===e.inputs.length+1&&typeof s[s.length-1]=="object"){const u=kr(s.pop());u.blockTag!=null&&(i=yield u.blockTag),delete u.blockTag,s.push(u)}t.deployTransaction!=null&&(yield t._deployed(i));const a=yield Ua(t,e,s),o=yield n.call(a,i);try{let u=t.interface.decodeFunctionResult(e,o);return r&&e.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===se.errors.CALL_EXCEPTION&&(u.address=t.address,u.args=s,u.transaction=a),u}})}}function Dy(t,e){return function(...r){return Or(this,void 0,void 0,function*(){t.signer||Me.throwError("sending a transaction requires a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Ua(t,e,r),s=yield t.signer.sendTransaction(n);return Rd(t,s),s})}}function kd(t,e,r){return e.constant?Pd(t,e,r):Dy(t,e)}function Cd(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class li{constructor(e,r){ne(this,"tag",e),ne(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const s=e.slice();return setTimeout(()=>{n.listener.apply(this,s)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class My extends li{constructor(){super("error",null)}}class Id extends li{constructor(e,r,n,s){const i={address:e};let a=r.getEventTopic(n);s?(a!==s[0]&&Me.throwArgumentError("topic mismatch","topics",s),i.topics=s.slice()):i.topics=[a],super(Cd(i),i),ne(this,"address",e),ne(this,"interface",r),ne(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=iy(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Bd extends li{constructor(e,r){super("*",{address:e}),ne(this,"address",e),ne(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,s)=>this.interface.decodeEventLog(r.eventFragment,n,s),e.args=r.args}catch{}}}class Fy{constructor(e,r,n){ne(this,"interface",qs(new.target,"getInterface")(r)),n==null?(ne(this,"provider",null),ne(this,"signer",null)):Ws.isSigner(n)?(ne(this,"provider",n.provider||null),ne(this,"signer",n)):aa.isProvider(n)?(ne(this,"provider",n),ne(this,"signer",null)):Me.throwArgumentError("invalid signer or provider","signerOrProvider",n),ne(this,"callStatic",{}),ne(this,"estimateGas",{}),ne(this,"functions",{}),ne(this,"populateTransaction",{}),ne(this,"filters",{});{const a={};Object.keys(this.interface.events).forEach(o=>{const u=this.interface.events[o];ne(this.filters,o,(...h)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,h)})),a[u.name]||(a[u.name]=[]),a[u.name].push(o)}),Object.keys(a).forEach(o=>{const u=a[o];u.length===1?ne(this.filters,o,this.filters[u[0]]):Me.warn(`Duplicate definition of ${o} (${u.join(", ")})`)})}if(ne(this,"_runningEvents",{}),ne(this,"_wrappedEmits",{}),e==null&&Me.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ne(this,"address",e),this.provider)ne(this,"resolvedAddress",Ba(this.provider,e));else try{ne(this,"resolvedAddress",Promise.resolve(ze(e)))}catch{Me.throwError("provider is required to use ENS name as contract address",se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(a=>{});const s={},i={};Object.keys(this.interface.functions).forEach(a=>{const o=this.interface.functions[a];if(i[a]){Me.warn(`Duplicate ABI entry for ${JSON.stringify(a)}`);return}i[a]=!0;{const u=o.name;s[`%${u}`]||(s[`%${u}`]=[]),s[`%${u}`].push(a)}this[a]==null&&ne(this,a,kd(this,o,!0)),this.functions[a]==null&&ne(this.functions,a,kd(this,o,!1)),this.callStatic[a]==null&&ne(this.callStatic,a,Pd(this,o,!0)),this.populateTransaction[a]==null&&ne(this.populateTransaction,a,Oy(this,o)),this.estimateGas[a]==null&&ne(this.estimateGas,a,Ny(this,o))}),Object.keys(s).forEach(a=>{const o=s[a];if(o.length>1)return;a=a.substring(1);const u=o[0];try{this[a]==null&&ne(this,a,this[u])}catch{}this.functions[a]==null&&ne(this.functions,a,this.functions[u]),this.callStatic[a]==null&&ne(this.callStatic,a,this.callStatic[u]),this.populateTransaction[a]==null&&ne(this.populateTransaction,a,this.populateTransaction[u]),this.estimateGas[a]==null&&ne(this.estimateGas,a,this.estimateGas[u])})}static getContractAddress(e){return Uh(e)}static getInterface(e){return Td.isInterface(e)?e:new Td(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Me.throwError("contract not deployed",se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Me.throwError("sending a transactions require a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=kr(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Me.throwError("cannot override "+n,se.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Zo(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ne(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Pc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new My);if(e==="event")return this._normalizeRunningEvent(new li("event",null));if(e==="*")return this._normalizeRunningEvent(new Bd(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Id(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const s=this.interface.getEvent(n);return this._normalizeRunningEvent(new Id(this.address,this.interface,s,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new li(Cd(r),r))}return this._normalizeRunningEvent(new Bd(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const s=In(r);return s.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},s.getBlock=()=>this.provider.getBlock(r.blockHash),s.getTransaction=()=>this.provider.getTransaction(r.transactionHash),s.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(s),s}_addEventListener(e,r,n){if(this.provider||Me.throwError("events require a provider or a signer with a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const s=i=>{let a=this._wrapEvent(e,i,r);if(a.decodeError==null)try{const o=e.getEmit(a);this.emit(e.filter,...o)}catch(o){a.decodeError=o.error}e.filter!=null&&this.emit("event",a),a.decodeError!=null&&this.emit("error",a.decodeError,a)};this._wrappedEmits[e.tag]=s,e.filter!=null&&this.provider.on(e.filter,s)}}queryFilter(e,r,n){const s=this._getRunningEvent(e),i=kr(s.filter);return typeof r=="string"&&Xe(r,32)?(n!=null&&Me.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=r):(i.fromBlock=r??0,i.toBlock=n??"latest"),this.provider.getLogs(i).then(a=>a.map(o=>this._wrapEvent(s,o,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),s=n.run(r)>0;return this._checkRunningEvents(n),s}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(s=>{r.push(s)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const s=this._runningEvents[n];s.removeAllListeners(),this._checkRunningEvents(s)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class kc extends Fy{}class Y1{constructor(e,r,n){let s=null;typeof r=="string"?s=r:isBytes(r)?s=hexlify(r):r&&typeof r.object=="string"?s=r.object:s="!",s.substring(0,2)!=="0x"&&(s="0x"+s),(!isHexString(s)||s.length%2)&&Me.throwArgumentError("invalid bytecode","bytecode",r),n&&!Signer.isSigner(n)&&Me.throwArgumentError("invalid signer","signer",n),defineReadOnly(this,"bytecode",s),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(e)),defineReadOnly(this,"signer",n||null)}getDeployTransaction(...e){let r={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){r=shallowCopy(e.pop());for(const n in r)if(!Uy[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{r[n]!=null&&Me.throwError("cannot override "+n,Logger.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.value&&!BigNumber.from(r.value).isZero()&&!this.interface.deploy.payable&&Me.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),Me.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=hexlify(concat([this.bytecode,this.interface.encodeDeploy(e)])),r}deploy(...e){return Or(this,void 0,void 0,function*(){let r={};e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),Me.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield di(this.signer,e,this.interface.deploy.inputs);n.push(r);const s=this.getDeployTransaction(...n),i=yield this.signer.sendTransaction(s),a=getStatic(this.constructor,"getContractAddress")(i),o=getStatic(this.constructor,"getContract")(a,this.interface,this.signer);return Rd(o,i),defineReadOnly(o,"deployTransaction",i),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,r){e==null&&Me.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let s=null;return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,r)}static getInterface(e){return kc.getInterface(e)}static getContractAddress(e){return getContractAddress(e)}static getContract(e,r,n){return new kc(e,r,n)}}class Ly extends Ta{constructor(r){super(r);k(this,"contractInstance");k(this,"contractAddress");this.contractAddress=r.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new kc(this.contractAddress,Hy,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(r){const n=await this.providerInstance.getTransaction(r);if(!n)throw new Error("Tx doesn't exist");if(n.data.length!==138||n.data.slice(2,10)!=="a9059cbb")throw new Error("Tx isn't a ERC20 transfer");const s=`0x${n.data.slice(34,74)}`,i=new Ee.Z(n.data.slice(74),16);return{from:n.from,to:s,blockHeight:n.blockNumber?new Ee.Z(n.blockNumber):void 0,amount:i,pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm}}async getFee(r,n){const s="0x"+new Ee.Z(r).toString(16),i=await this.getContract(),a=await this.providerInstance.getGasPrice(),o=await i.estimateGas.transfer(n,s),u=new Ee.Z(a.mul(o).toString()),[h]=await this.getGas(),m=h.multipliedBy(u),E=new Ee.Z(await this.price());return new Ee.Z(m).dividedToIntegerBy(E)}async createTx(r,n,s){const i=await this.getContract(),a="0x"+new Ee.Z(r).toString(16),o=await i.populateTransaction.transfer(n,a);if(o.gasPrice=await this.providerInstance.getGasPrice(),o.gasLimit=await i.estimateGas.transfer(n,a),o.chainId=(await this.providerInstance.getNetwork()).chainId,!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");return o.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:o}}async getGas(){return[new Ee.Z(await xd("ETH")),1e18]}}const Hy=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var Oa=l(4790),Ky=l(98316);const Q1={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};const e2=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),zy=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Cc=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),t2=(t,e)=>t<<32-e|t>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const $y=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ud(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=$y[t[r]];return e}function Od(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,s=t.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}const qy=async()=>{};async function n2(t,e,r){let n=Date.now();for(let s=0;s<t;s++){r(s);const i=Date.now()-n;i>=0&&i<e||(await qy(),n+=i)}}function jy(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function hi(t){if(typeof t=="string"&&(t=jy(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function s2(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,s)=>n+s.length,0),r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}class Ic{clone(){return this._cloneInto()}}const Gy=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function i2(t,e){if(e!==void 0&&(typeof e!="object"||!Gy(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function Na(t){const e=n=>t().update(hi(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Wy(t){const e=(n,s)=>t(s).update(hi(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function a2(t=32){if(crypto.web)return crypto.web.getRandomValues(new Uint8Array(t));if(crypto.node)return new Uint8Array(crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}function Bc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Vy(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Nd(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Jy(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bc(t.outputLen),Bc(t.blockLen)}function Xy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Zy(t,e){Nd(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var It={number:Bc,bool:Vy,bytes:Nd,hash:Jy,exists:Xy,output:Zy};const Da=BigInt(2**32-1),Uc=BigInt(32);function Dd(t,e=!1){return e?{h:Number(t&Da),l:Number(t>>Uc&Da)}:{h:Number(t>>Uc&Da)|0,l:Number(t&Da)|0}}function Yy(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=Dd(t[s],e);[r[s],n[s]]=[i,a]}return[r,n]}const Qy=(t,e)=>BigInt(t>>>0)<<Uc|BigInt(e>>>0),ex=(t,e,r)=>t>>>r,tx=(t,e,r)=>t<<32-r|e>>>r,rx=(t,e,r)=>t>>>r|e<<32-r,nx=(t,e,r)=>t<<32-r|e>>>r,sx=(t,e,r)=>t<<64-r|e>>>r-32,ix=(t,e,r)=>t>>>r-32|e<<64-r,ax=(t,e)=>e,ox=(t,e)=>t,cx=(t,e,r)=>t<<r|e>>>32-r,ux=(t,e,r)=>e<<r|t>>>32-r,fx=(t,e,r)=>e<<r-32|t>>>64-r,dx=(t,e,r)=>t<<r-32|e>>>64-r;function lx(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}var we={fromBig:Dd,split:Yy,toBig:Qy,shrSH:ex,shrSL:tx,rotrSH:rx,rotrSL:nx,rotrBH:sx,rotrBL:ix,rotr32H:ax,rotr32L:ox,rotlSH:cx,rotlSL:ux,rotlBH:fx,rotlBL:dx,add:lx,add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,add5H:(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,add5L:(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0)};const[Md,Fd,Ld]=[[],[],[]],hx=BigInt(0),pi=BigInt(1),px=BigInt(2),yx=BigInt(7),xx=BigInt(256),gx=BigInt(113);for(let t=0,e=pi,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Md.push(2*(5*n+r)),Fd.push((t+1)*(t+2)/2%64);let s=hx;for(let i=0;i<7;i++)e=(e<<pi^(e>>yx)*gx)%xx,e&px&&(s^=pi<<(pi<<BigInt(i))-pi);Ld.push(s)}const[bx,mx]=we.split(Ld,!0),Hd=(t,e,r)=>r>32?we.rotlBH(t,e,r):we.rotlSH(t,e,r),Kd=(t,e,r)=>r>32?we.rotlBL(t,e,r):we.rotlSL(t,e,r);function wx(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,u=(a+2)%10,h=r[u],m=r[u+1],E=Hd(h,m,1)^r[o],B=Kd(h,m,1)^r[o+1];for(let M=0;M<50;M+=10)t[a+M]^=E,t[a+M+1]^=B}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=Fd[a],u=Hd(s,i,o),h=Kd(s,i,o),m=Md[a];s=t[m],i=t[m+1],t[m]=u,t[m+1]=h}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=bx[n],t[1]^=mx[n]}r.fill(0)}class Ma extends Ic{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,It.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zy(this.state)}keccak(){wx(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){It.exists(this);const{blockLen:r,state:n}=this;e=hi(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);for(let o=0;o<a;o++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){It.exists(this,!1),It.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return It.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(It.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new Ma(r,n,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Nr=(t,e,r)=>Na(()=>new Ma(e,t,r)),y2=Nr(6,144,224/8),zn=Nr(6,136,256/8),x2=Nr(6,104,384/8),g2=Nr(6,72,512/8),b2=Nr(1,144,224/8),m2=Nr(1,136,256/8),w2=Nr(1,104,384/8),v2=Nr(1,72,512/8),zd=(t,e,r)=>Wy((n={})=>new Ma(e,t,n.dkLen===void 0?r:n.dkLen,!0)),E2=zd(31,168,128/8),S2=zd(31,136,256/8);class $d extends Ic{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,It.hash(e);const n=hi(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return It.exists(this),this.iHash.update(e),this}digestInto(e){It.exists(this),It.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Oc=(t,e,r)=>new $d(t,e).update(r).digest();Oc.create=(t,e)=>new $d(t,e);function vx(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),u=n?4:0,h=n?0:4;t.setUint32(e+u,a,n),t.setUint32(e+h,o,n)}class Ex extends Ic{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Cc(this.buffer)}update(e){It.exists(this);const{view:r,buffer:n,blockLen:s}=this;e=hi(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const u=Cc(e);for(;s<=i-a;a+=s)this.process(u,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){It.exists(this),It.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let u=a;u<s;u++)r[u]=0;vx(n,s-8,BigInt(this.length*8),i),this.process(n,0);const o=Cc(e);this.get().forEach((u,h)=>o.setUint32(4*h,u,i))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%r&&e.buffer.set(n),e}}const[Sx,Ax]=we.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Dr=new Uint32Array(80),Mr=new Uint32Array(80);class Nc extends Ex{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:a,Dh:o,Dl:u,Eh:h,El:m,Fh:E,Fl:B,Gh:M,Gl:O,Hh:$,Hl:Z}=this;return[e,r,n,s,i,a,o,u,h,m,E,B,M,O,$,Z]}set(e,r,n,s,i,a,o,u,h,m,E,B,M,O,$,Z){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=u|0,this.Eh=h|0,this.El=m|0,this.Fh=E|0,this.Fl=B|0,this.Gh=M|0,this.Gl=O|0,this.Hh=$|0,this.Hl=Z|0}process(e,r){for(let pe=0;pe<16;pe++,r+=4)Dr[pe]=e.getUint32(r),Mr[pe]=e.getUint32(r+=4);for(let pe=16;pe<80;pe++){const Ue=Dr[pe-15]|0,Ie=Mr[pe-15]|0,tt=we.rotrSH(Ue,Ie,1)^we.rotrSH(Ue,Ie,8)^we.shrSH(Ue,Ie,7),at=we.rotrSL(Ue,Ie,1)^we.rotrSL(Ue,Ie,8)^we.shrSL(Ue,Ie,7),Oe=Dr[pe-2]|0,We=Mr[pe-2]|0,mt=we.rotrSH(Oe,We,19)^we.rotrBH(Oe,We,61)^we.shrSH(Oe,We,6),He=we.rotrSL(Oe,We,19)^we.rotrBL(Oe,We,61)^we.shrSL(Oe,We,6),or=we.add4L(at,He,Mr[pe-7],Mr[pe-16]),me=we.add4H(or,tt,mt,Dr[pe-7],Dr[pe-16]);Dr[pe]=me|0,Mr[pe]=or|0}let{Ah:n,Al:s,Bh:i,Bl:a,Ch:o,Cl:u,Dh:h,Dl:m,Eh:E,El:B,Fh:M,Fl:O,Gh:$,Gl:Z,Hh:ce,Hl:ye}=this;for(let pe=0;pe<80;pe++){const Ue=we.rotrSH(E,B,14)^we.rotrSH(E,B,18)^we.rotrBH(E,B,41),Ie=we.rotrSL(E,B,14)^we.rotrSL(E,B,18)^we.rotrBL(E,B,41),tt=E&M^~E&$,at=B&O^~B&Z,Oe=we.add5L(ye,Ie,at,Ax[pe],Mr[pe]),We=we.add5H(Oe,ce,Ue,tt,Sx[pe],Dr[pe]),mt=Oe|0,He=we.rotrSH(n,s,28)^we.rotrBH(n,s,34)^we.rotrBH(n,s,39),or=we.rotrSL(n,s,28)^we.rotrBL(n,s,34)^we.rotrBL(n,s,39),me=n&i^n&o^i&o,Ke=s&a^s&u^a&u;ce=$|0,ye=Z|0,$=M|0,Z=O|0,M=E|0,O=B|0,{h:E,l:B}=we.add(h|0,m|0,We|0,mt|0),h=o|0,m=u|0,o=i|0,u=a|0,i=n|0,a=s|0;const yt=we.add3L(mt,or,Ke);n=we.add3H(yt,We,He,me),s=yt|0}({h:n,l:s}=we.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:a}=we.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l:u}=we.add(this.Ch|0,this.Cl|0,o|0,u|0),{h,l:m}=we.add(this.Dh|0,this.Dl|0,h|0,m|0),{h:E,l:B}=we.add(this.Eh|0,this.El|0,E|0,B|0),{h:M,l:O}=we.add(this.Fh|0,this.Fl|0,M|0,O|0),{h:$,l:Z}=we.add(this.Gh|0,this.Gl|0,$|0,Z|0),{h:ce,l:ye}=we.add(this.Hh|0,this.Hl|0,ce|0,ye|0),this.set(n,s,i,a,o,u,h,m,E,B,M,O,$,Z,ce,ye)}roundClean(){Dr.fill(0),Mr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _x extends Nc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Tx extends Nc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const qd=Na(()=>new Nc),A2=Na(()=>new _x),_2=Na(()=>new Tx);var yi=l(67702),jd=l(36243),Gd=Object.defineProperty,Rx=Object.getOwnPropertyDescriptor,Fa=(t,e)=>{for(var r in e)Gd(t,r,{get:e[r],enumerable:!0})},Ne=(t,e,r,n)=>{for(var s=n>1?void 0:n?Rx(e,r):e,i=t.length-1,a;i>=0;i--)(a=t[i])&&(s=(n?a(e,r,s):a(s))||s);return n&&s&&Gd(e,r,s),s},Px=/^m(\/[0-9]+')+$/,Wd=t=>t.replace("'",""),kx="ed25519 seed",Cx=2147483648,Ix=t=>{const r=Oc.create(qd,kx).update(Od(t)).digest(),n=r.slice(0,32),s=r.slice(32);return{key:n,chainCode:s}},Bx=({key:t,chainCode:e},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const s=new Uint8Array(n),i=new Uint8Array([0]),a=new Uint8Array([...i,...t,...s]),o=Oc.create(qd,e).update(a).digest(),u=o.slice(0,32),h=o.slice(32);return{key:u,chainCode:h}},Ux=t=>Px.test(t)?!t.split("/").slice(1).map(Wd).some(Number.isNaN):!1,Ox=(t,e,r=Cx)=>{if(!Ux(t))throw new Error("Invalid derivation path");const{key:n,chainCode:s}=Ix(e);return t.split("/").slice(1).map(Wd).map(a=>parseInt(a,10)).reduce((a,o)=>Bx(a,o+r),{key:n,chainCode:s})};async function Nx(t){return new Promise(e=>{setTimeout(e,t)})}var Vd="/v1";function Dx(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(Vd)||(e=`${e}${Vd}`),e}var Jd=2e5,Xd=20,Zd=20,Dc="0x1::aptos_coin::AptosCoin";function La(t){let e,r,n;return typeof t=="object"?(e=t.hashFunction,r=t.ttlMs,n=t.tags):e=t,(s,i,a)=>{if(a.value!=null)a.value=Yd(a.value,e,r,n);else if(a.get!=null)a.get=Yd(a.get,e,r,n);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function Mx(t,e){return La({ttlMs:t,hashFunction:e})}var Ha=new Map;function Fx(t){const e=new Set;for(const r of t){const n=Ha.get(r);if(n)for(const s of n)e.has(s)||(s.clear(),e.add(s))}return e.size}function Yd(t,e,r=0,n){const s=Symbol("__memoized_map__");return function(...i){let a;const o=this;o.hasOwnProperty(s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const u=o[s];if(Array.isArray(n))for(const h of n)Ha.has(h)?Ha.get(h).push(u):Ha.set(h,[u]);if(e||i.length>0||r>0){let h;e===!0?h=i.map(B=>B.toString()).join("!"):e?h=e.apply(o,i):h=i[0];const m=`${h}__timestamp`;let E=!1;if(r>0)if(!u.has(m))E=!0;else{const B=u.get(m);E=Date.now()-B>r}u.has(h)&&!E?a=u.get(h):(a=t.apply(o,i),u.set(h,a),r>0&&u.set(m,Date.now()))}else{const h=o;u.has(h)?a=u.get(h):(a=t.apply(o,i),u.set(h,a))}return a}}var he=class{static fromBuffer(t){return he.fromUint8Array(t)}static fromUint8Array(t){return new he(Ud(t))}static ensure(t){return typeof t=="string"?new he(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(Od(this.noPrefix()))}};async function Qd(t,e,r,n){var s;const i=[];let a;for(;;){const o=await t(he.ensure(e).hex(),(s=n==null?void 0:n.ledgerVersion)==null?void 0:s.toString(),a,r);if(a=o.__headers["x-aptos-cursor"],delete o.__headers,i.push(...o),a==null)break}return i}var Lx={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},Hx={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Kx=(t=>(t.MAINNET="mainnet",t.TESTNET="testnet",t.DEVNET="devnet",t))(Kx||{}),De={};Fa(De,{AccountAddress:()=>Ge,AccountAuthenticator:()=>wi,AccountAuthenticatorEd25519:()=>Kc,AccountAuthenticatorMultiEd25519:()=>zc,ArgumentABI:()=>Ai,AuthenticationKey:()=>on,ChainId:()=>Xa,ChangeSet:()=>ng,Ed25519PublicKey:()=>qt,Ed25519Signature:()=>ir,EntryFunction:()=>sn,EntryFunctionABI:()=>Zn,Identifier:()=>bt,Module:()=>il,ModuleId:()=>an,MultiAgentRawTransaction:()=>Wa,MultiEd25519PublicKey:()=>gi,MultiEd25519Signature:()=>$a,MultiSig:()=>jc,MultiSigTransactionPayload:()=>qc,RawTransaction:()=>Xn,RawTransactionWithData:()=>al,RotationProofChallenge:()=>ig,Script:()=>Ga,ScriptABI:()=>ao,SignedTransaction:()=>vi,StructTag:()=>nn,Transaction:()=>ol,TransactionArgument:()=>Zt,TransactionArgumentAddress:()=>no,TransactionArgumentBool:()=>io,TransactionArgumentU128:()=>to,TransactionArgumentU16:()=>Ya,TransactionArgumentU256:()=>ro,TransactionArgumentU32:()=>Qa,TransactionArgumentU64:()=>eo,TransactionArgumentU8:()=>Za,TransactionArgumentU8Vector:()=>so,TransactionAuthenticator:()=>mi,TransactionAuthenticatorEd25519:()=>qa,TransactionAuthenticatorMultiAgent:()=>Hc,TransactionAuthenticatorMultiEd25519:()=>ja,TransactionPayload:()=>Ei,TransactionPayloadEntryFunction:()=>Ja,TransactionPayloadMultisig:()=>Gc,TransactionPayloadScript:()=>Va,TransactionScriptABI:()=>oo,TypeArgumentABI:()=>Si,TypeTag:()=>ft,TypeTagAddress:()=>Fr,TypeTagBool:()=>Qr,TypeTagParser:()=>Jn,TypeTagParserError:()=>sl,TypeTagSigner:()=>$c,TypeTagStruct:()=>rn,TypeTagU128:()=>tn,TypeTagU16:()=>jn,TypeTagU256:()=>Wn,TypeTagU32:()=>Gn,TypeTagU64:()=>en,TypeTagU8:()=>gr,TypeTagVector:()=>Vn,UserTransaction:()=>Wc,WriteSet:()=>sg,stringStructTag:()=>tl});var zx={};Fa(zx,{Deserializer:()=>Mc,Serializer:()=>je,bcsSerializeBool:()=>Zx,bcsSerializeBytes:()=>qn,bcsSerializeFixedBytes:()=>Qx,bcsSerializeStr:()=>Yx,bcsSerializeU128:()=>Xx,bcsSerializeU16:()=>Vx,bcsSerializeU32:()=>Jx,bcsSerializeU8:()=>Fc,bcsSerializeUint64:()=>Wx,bcsToBytes:()=>xr,deserializeVector:()=>zt,serializeVector:()=>Bt,serializeVectorWithFunc:()=>Gx});var $x=2**8-1,qx=2**16-1,xi=2**32-1,$n=BigInt(2**64)-BigInt(1),el=BigInt(2**128)-BigInt(1),jx=BigInt(2**256)-BigInt(1),je=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,r){this.ensureBufferWillHandleSize(e);const n=new DataView(this.buffer,this.offset);t.apply(n,[0,r,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if(typeof t!="boolean")throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(xi),r=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(r))}serializeU128(t){const e=BigInt(t.toString())&$n,r=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(r)}serializeU256(t){const e=BigInt(t.toString())&el,r=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(r)}serializeU32AsUleb128(t){let e=t;const r=[];for(;e>>>7;)r.push(e&127|128),e>>>=7;r.push(e),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};Ne([Yr(0,$x)],je.prototype,"serializeU8",1),Ne([Yr(0,qx)],je.prototype,"serializeU16",1),Ne([Yr(0,xi)],je.prototype,"serializeU32",1),Ne([Yr(BigInt(0),$n)],je.prototype,"serializeU64",1),Ne([Yr(BigInt(0),el)],je.prototype,"serializeU128",1),Ne([Yr(BigInt(0),jx)],je.prototype,"serializeU256",1),Ne([Yr(0,xi)],je.prototype,"serializeU32AsUleb128",1);function Yr(t,e,r){return(n,s,i)=>{const a=i.value;return i.value=function(u){const h=BigInt(u.toString());if(h>BigInt(e.toString())||h<BigInt(t.toString()))throw new Error(r||"Value is out of range");a.apply(this,[u])},i}}var Mc=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<xi;){const r=this.deserializeU8();if(t|=BigInt(r&127)<<BigInt(e),!(r&128))break;e+=7}if(t>xi)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function Bt(t,e){e.serializeU32AsUleb128(t.length),t.forEach(r=>{r.serialize(e)})}function Gx(t,e){const r=new je;r.serializeU32AsUleb128(t.length);const n=r[e];return t.forEach(s=>{n.call(r,s)}),r.getBytes()}function zt(t,e){const r=t.deserializeUleb128AsU32(),n=[];for(let s=0;s<r;s+=1)n.push(e.deserialize(t));return n}function xr(t){const e=new je;return t.serialize(e),e.getBytes()}function Wx(t){const e=new je;return e.serializeU64(t),e.getBytes()}function Fc(t){const e=new je;return e.serializeU8(t),e.getBytes()}function Vx(t){const e=new je;return e.serializeU16(t),e.getBytes()}function Jx(t){const e=new je;return e.serializeU32(t),e.getBytes()}function Xx(t){const e=new je;return e.serializeU128(t),e.getBytes()}function Zx(t){const e=new je;return e.serializeBool(t),e.getBytes()}function Yx(t){const e=new je;return e.serializeStr(t),e.getBytes()}function qn(t){const e=new je;return e.serializeBytes(t),e.getBytes()}function Qx(t){const e=new je;return e.serializeFixedBytes(t),e.getBytes()}var $t=class{constructor(t){if(t.length!==$t.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let e=he.ensure(t);e.noPrefix().length%2!==0&&(e=new he(`0${e.noPrefix()}`));const r=e.toUint8Array();if(r.length>$t.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===$t.LENGTH)return new $t(r);const n=new Uint8Array($t.LENGTH);return n.set(r,$t.LENGTH-r.length),new $t(n)}static isValid(t){if(t==="")return!1;let e=he.ensure(t);return e.noPrefix().length%2!==0&&(e=new he(`0${e.noPrefix()}`)),e.toUint8Array().length<=$t.LENGTH}toHexString(){return he.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new $t(t.deserializeFixedBytes($t.LENGTH))}},Ge=$t;Ge.LENGTH=32,Ge.CORE_CODE_ADDRESS=$t.fromHex("0x1");var Ka=class{constructor(t){if(t.length!==Ka.LENGTH)throw new Error(`Ed25519PublicKey length should be ${Ka.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new Ka(e)}},qt=Ka;qt.LENGTH=32;var za=class{constructor(t){if(this.value=t,t.length!==za.LENGTH)throw new Error(`Ed25519Signature length should be ${za.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new za(e)}},ir=za;ir.LENGTH=64;var Lc=32,gi=class{constructor(t,e){if(this.public_keys=t,this.threshold=e,e>Lc)throw new Error(`"threshold" cannot be larger than ${Lc}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*qt.LENGTH+1);return this.public_keys.forEach((e,r)=>{t.set(e.value,r*qt.LENGTH)}),t[this.public_keys.length*qt.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e[e.length-1],n=[];for(let s=0;s<e.length-1;s+=qt.LENGTH){const i=s;n.push(new qt(e.subarray(i,i+qt.LENGTH)))}return new gi(n,r)}},bi=class{constructor(t,e){if(this.signatures=t,this.bitmap=e,e.length!==bi.BITMAP_LEN)throw new Error(`"bitmap" length should be ${bi.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*ir.LENGTH+bi.BITMAP_LEN);return this.signatures.forEach((e,r)=>{t.set(e.value,r*ir.LENGTH)}),t.set(this.bitmap,this.signatures.length*ir.LENGTH),t}static createBitmap(t){const r=new Uint8Array([0,0,0,0]),n=new Set;return t.forEach(s=>{if(s>=Lc)throw new Error(`Invalid bit value ${s}.`);if(n.has(s))throw new Error("Duplicated bits detected.");n.add(s);const i=Math.floor(s/8);let a=r[i];a|=128>>s%8,r[i]=a}),r}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),r=e.subarray(e.length-4),n=[];for(let s=0;s<e.length-r.length;s+=ir.LENGTH){const i=s;n.push(new ir(e.subarray(i,i+ir.LENGTH)))}return new bi(n,r)}},$a=bi;$a.BITMAP_LEN=4;var mi=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return qa.load(t);case 1:return ja.load(t);case 2:return Hc.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},qa=class extends mi{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=qt.deserialize(t),r=ir.deserialize(t);return new qa(e,r)}},ja=class extends mi{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=gi.deserialize(t),r=$a.deserialize(t);return new ja(e,r)}},Hc=class extends mi{constructor(t,e,r){super(),this.sender=t,this.secondary_signer_addresses=e,this.secondary_signers=r}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),Bt(this.secondary_signer_addresses,t),Bt(this.secondary_signers,t)}static load(t){const e=wi.deserialize(t),r=zt(t,Ge),n=zt(t,wi);return new Hc(e,r,n)}},wi=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Kc.load(t);case 1:return zc.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},Kc=class extends wi{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=qt.deserialize(t),r=ir.deserialize(t);return new Kc(e,r)}},zc=class extends wi{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=gi.deserialize(t),r=$a.deserialize(t);return new zc(e,r)}},bt=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const e=t.deserializeStr();return new bt(e)}},ft=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Qr.load(t);case 1:return gr.load(t);case 2:return en.load(t);case 3:return tn.load(t);case 4:return Fr.load(t);case 5:return $c.load(t);case 6:return Vn.load(t);case 7:return rn.load(t);case 8:return jn.load(t);case 9:return Gn.load(t);case 10:return Wn.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Qr=class extends ft{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new Qr}},gr=class extends ft{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new gr}},jn=class extends ft{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new jn}},Gn=class extends ft{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Gn}},en=class extends ft{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new en}},tn=class extends ft{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new tn}},Wn=class extends ft{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Wn}},Fr=class extends ft{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new Fr}},$c=class extends ft{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new $c}},Vn=class extends ft{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const e=ft.deserialize(t);return new Vn(e)}},rn=class extends ft{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const e=nn.deserialize(t);return new rn(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===Ge.fromHex("0x1").toHexString()}},nn=class{constructor(t,e,r,n){this.address=t,this.module_name=e,this.name=r,this.type_args=n}static fromString(t){const e=new Jn(t).parseTypeTag();return new nn(e.value.address,e.value.module_name,e.value.name,e.value.type_args)}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),Bt(this.type_args,t)}static deserialize(t){const e=Ge.deserialize(t),r=bt.deserialize(t),n=bt.deserialize(t),s=zt(t,ft);return new nn(e,r,n,s)}},tl=new nn(Ge.fromHex("0x1"),new bt("string"),new bt("String"),[]);function Lr(t){throw new sl(t)}function rl(t){return!!t.match(/\s/)}function nl(t){return!!t.match(/[_A-Za-z0-9]/g)}function eg(t){return!!t.match(/T\d+/g)}function tg(t,e){const r=t[e];if(r===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];Lr("Unrecognized token.")}else{if(r==="<")return[["LT","<"],1];if(r===">")return[["GT",">"],1];if(r===",")return[["COMMA",","],1];if(rl(r)){let n="";for(let s=e;s<t.length;s+=1){const i=t[s];if(rl(i))n=`${n}${i}`;else break}return[["SPACE",n],n.length]}else if(nl(r)){let n="";for(let s=e;s<t.length;s+=1){const i=t[s];if(nl(i))n=`${n}${i}`;else break}return eg(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}function rg(t){let e=0;const r=[];for(;e<t.length;){const[n,s]=tg(t,e);n[0]!=="SPACE"&&r.push(n),e+=s}return r}var Jn=class{constructor(t,e){this.typeTags=[],this.tokens=rg(t),this.typeTags=e||[]}consume(t){const e=this.tokens.shift();(!e||e[1]!==t)&&Lr("Invalid type tag.")}parseCommaList(t,e){const r=[];for(this.tokens.length<=0&&Lr("Invalid type tag.");this.tokens[0][1]!==t&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&e)));)this.tokens.length<=0&&Lr("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&Lr("Invalid type tag.");const[t,e]=this.tokens.shift();if(e==="u8")return new gr;if(e==="u16")return new jn;if(e==="u32")return new Gn;if(e==="u64")return new en;if(e==="u128")return new tn;if(e==="u256")return new Wn;if(e==="bool")return new Qr;if(e==="address")return new Fr;if(e==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new Vn(r)}if(e==="string")return new nn(Ge.fromHex("0x1"),new bt("string"),new bt("String"),[]);if(t==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const r=e;this.consume("::");const[n,s]=this.tokens.shift();n!=="IDENT"&&Lr("Invalid type tag."),this.consume("::");const[i,a]=this.tokens.shift();if(i!=="IDENT"&&Lr("Invalid type tag."),s==="object"&&a==="Object")return this.tokens.splice(0,3),new Fr;let o=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const u=new nn(Ge.fromHex(r),new bt(s),new bt(a),o);return new rn(u)}if(t==="GENERIC"){this.typeTags.length===0&&Lr("Can't convert generic type since no typeTags were specified.");const r=parseInt(e.substring(1),10);return new Jn(this.typeTags[r]).parseTypeTag()}throw new Error("Invalid type tag.")}},sl=class extends Error{constructor(t){super(t),this.name="TypeTagParserError"}},Xn=class{constructor(t,e,r,n,s,i,a){this.sender=t,this.sequence_number=e,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=s,this.expiration_timestamp_secs=i,this.chain_id=a}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const e=Ge.deserialize(t),r=t.deserializeU64(),n=Ei.deserialize(t),s=t.deserializeU64(),i=t.deserializeU64(),a=t.deserializeU64(),o=Xa.deserialize(t);return new Xn(e,r,n,s,i,a,o)}},Ga=class{constructor(t,e,r){this.code=t,this.ty_args=e,this.args=r}serialize(t){t.serializeBytes(this.code),Bt(this.ty_args,t),Bt(this.args,t)}static deserialize(t){const e=t.deserializeBytes(),r=zt(t,ft),n=zt(t,Zt);return new Ga(e,r,n)}},sn=class{constructor(t,e,r,n){this.module_name=t,this.function_name=e,this.ty_args=r,this.args=n}static natural(t,e,r,n){return new sn(an.fromStr(t),new bt(e),r,n)}static natual(t,e,r,n){return sn.natural(t,e,r,n)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),Bt(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{t.serializeBytes(e)})}static deserialize(t){const e=an.deserialize(t),r=bt.deserialize(t),n=zt(t,ft),s=t.deserializeUleb128AsU32(),i=[];for(let o=0;o<s;o+=1)i.push(t.deserializeBytes());const a=i;return new sn(e,r,n,a)}},qc=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new qc(sn.deserialize(t))}},jc=class{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const e=Ge.deserialize(t),r=t.deserializeBool();let n;return r&&(n=qc.deserialize(t)),new jc(e,n)}},il=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const e=t.deserializeBytes();return new il(e)}},an=class{constructor(t,e){this.address=t,this.name=e}static fromStr(t){const e=t.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new an(Ge.fromHex(new he(e[0])),new bt(e[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const e=Ge.deserialize(t),r=bt.deserialize(t);return new an(e,r)}},ng=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},sg=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},vi=class{constructor(t,e){this.raw_txn=t,this.authenticator=e}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const e=Xn.deserialize(t),r=mi.deserialize(t);return new vi(e,r)}},al=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Wa.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},Wa=class extends al{constructor(t,e){super(),this.raw_txn=t,this.secondary_signer_addresses=e}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),Bt(this.secondary_signer_addresses,t)}static load(t){const e=Xn.deserialize(t),r=zt(t,Ge);return new Wa(e,r)}},Ei=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Va.load(t);case 2:return Ja.load(t);case 3:return Gc.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Va=class extends Ei{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const e=Ga.deserialize(t);return new Va(e)}},Ja=class extends Ei{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const e=sn.deserialize(t);return new Ja(e)}},Gc=class extends Ei{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=jc.deserialize(t);return new Gc(e)}},Xa=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const e=t.deserializeU8();return new Xa(e)}},Zt=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Za.load(t);case 1:return eo.load(t);case 2:return to.load(t);case 3:return no.load(t);case 4:return so.load(t);case 5:return io.load(t);case 6:return Ya.load(t);case 7:return Qa.load(t);case 8:return ro.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},Za=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const e=t.deserializeU8();return new Za(e)}},Ya=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const e=t.deserializeU16();return new Ya(e)}},Qa=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const e=t.deserializeU32();return new Qa(e)}},eo=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const e=t.deserializeU64();return new eo(e)}},to=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const e=t.deserializeU128();return new to(e)}},ro=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const e=t.deserializeU256();return new ro(e)}},no=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=Ge.deserialize(t);return new no(e)}},so=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const e=t.deserializeBytes();return new so(e)}},io=class extends Zt{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const e=t.deserializeBool();return new io(e)}},ol=class{getHashSalt(){const t=zn.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Wc.load(t);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},Wc=class extends ol{constructor(t){super(),this.value=t}hash(){const t=zn.create();return t.update(this.getHashSalt()),t.update(xr(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new Wc(vi.deserialize(t))}},Si=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const e=t.deserializeStr();return new Si(e)}},Ai=class{constructor(t,e){this.name=t,this.type_tag=e}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const e=t.deserializeStr(),r=ft.deserialize(t);return new Ai(e,r)}},ao=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return oo.load(t);case 1:return Zn.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},oo=class extends ao{constructor(t,e,r,n,s){super(),this.name=t,this.doc=e,this.code=r,this.ty_args=n,this.args=s}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),Bt(this.ty_args,t),Bt(this.args,t)}static load(t){const e=t.deserializeStr(),r=t.deserializeStr(),n=t.deserializeBytes(),s=zt(t,Si),i=zt(t,Ai);return new oo(e,r,n,s,i)}},Zn=class extends ao{constructor(t,e,r,n,s){super(),this.name=t,this.module_name=e,this.doc=r,this.ty_args=n,this.args=s}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),Bt(this.ty_args,t),Bt(this.args,t)}static load(t){const e=t.deserializeStr(),r=an.deserialize(t),n=t.deserializeStr(),s=zt(t,Si),i=zt(t,Ai);return new Zn(e,r,n,s,i)}},Yn=class{constructor(t){if(t.length!==Yn.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const e=t.toBytes(),r=new Uint8Array(e.length+1);r.set(e),r.set([Yn.MULTI_ED25519_SCHEME],e.length);const n=zn.create();return n.update(r),new Yn(n.digest())}static fromEd25519PublicKey(t){const e=t.value,r=new Uint8Array(e.length+1);r.set(e),r.set([Yn.ED25519_SCHEME],e.length);const n=zn.create();return n.update(r),new Yn(n.digest())}derivedAddress(){return he.fromUint8Array(this.bytes)}},on=Yn;on.LENGTH=32,on.MULTI_ED25519_SCHEME=1,on.ED25519_SCHEME=0,on.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var ig=class{constructor(t,e,r,n,s,i,a){this.accountAddress=t,this.moduleName=e,this.structName=r,this.sequenceNumber=n,this.originator=s,this.currentAuthKey=i,this.newPublicKey=a}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},co=class{static fromAptosAccountObject(t){return new co(he.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(t){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t)}static fromDerivePath(t,e){if(!co.isValidPath(t))throw new Error("Invalid derivation path");const r=e.trim().split(/\s+/).map(s=>s.toLowerCase()).join(" "),{key:n}=Ox(t,Ud(Ky.Z1(r)));return new co(n)}constructor(t,e){t?this.signingKey=Oa.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=Oa.sign.keyPair(),this.accountAddress=he.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new qt(this.signingKey.publicKey);return on.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,e){const r=xr(Ge.fromHex(t)),n=new Uint8Array([...r,...e,on.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=zn.create();return s.update(n),he.fromUint8Array(s.digest())}pubKey(){return he.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const e=Oa.sign.detached(t,this.signingKey.secretKey);return he.fromUint8Array(e)}signHexString(t){const e=he.ensure(t).toUint8Array();return this.signBuffer(e)}verifySignature(t,e){const r=he.ensure(t).toUint8Array(),n=he.ensure(e).toUint8Array();return Oa.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:he.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},uo=co;Ne([La()],uo.prototype,"authKey",1);function cl(t){return t instanceof uo?t.address():he.ensure(t)}var ag=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,og=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,cg=`
    query getAccountCoinsData($owner_address: String, $offset: Int, $limit: Int) {
  current_coin_balances(
    where: {owner_address: {_eq: $owner_address}}
    offset: $offset
    limit: $limit
  ) {
    amount
    coin_type
    coin_info {
      name
      decimals
      symbol
    }
  }
}
    `,ug=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${ag}
${og}`,fg=`
    query getAccountTokensCount($owner_address: String) {
  current_token_ownerships_aggregate(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
  ) {
    aggregate {
      count
    }
  }
}
    `,dg=`
    query getAccountTransactionsCount($address: String) {
  move_resources_aggregate(
    where: {address: {_eq: $address}}
    distinct_on: transaction_version
  ) {
    aggregate {
      count
    }
  }
}
    `,lg=`
    query getAccountTransactionsData($address: String, $limit: Int, $offset: Int) {
  move_resources(
    where: {address: {_eq: $address}}
    order_by: {transaction_version: desc}
    distinct_on: transaction_version
    limit: $limit
    offset: $offset
  ) {
    transaction_version
  }
}
    `,hg=`
    query getCurrentDelegatorBalancesCount($poolAddress: String) {
  current_delegator_balances_aggregate(
    where: {pool_type: {_eq: "active_shares"}, pool_address: {_eq: $poolAddress}, amount: {_gt: "0"}}
    distinct_on: delegator_address
  ) {
    aggregate {
      count
    }
  }
}
    `,pg=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,yg=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,xg=`
    query getTokenActivities($idHash: String!, $offset: Int, $limit: Int) {
  token_activities(
    where: {token_data_id_hash: {_eq: $idHash}}
    order_by: {transaction_version: desc}
    offset: $offset
    limit: $limit
  ) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,gg=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_aggregate(where: {token_data_id_hash: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,bg=`
    query getTokenData($token_id: String) {
  current_token_datas(where: {token_data_id_hash: {_eq: $token_id}}) {
    token_data_id_hash
    name
    collection_name
    creator_address
    default_properties
    largest_property_version
    maximum
    metadata_uri
    payee_address
    royalty_points_denominator
    royalty_points_numerator
    supply
  }
}
    `,mg=`
    query getTokenOwnersData($token_id: String, $property_version: numeric) {
  current_token_ownerships(
    where: {token_data_id_hash: {_eq: $token_id}, property_version: {_eq: $property_version}}
  ) {
    owner_address
  }
}
    `,wg=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,vg=`
    query getUserTransactions($limit: Int, $start_version: bigint, $offset: Int) {
  user_transactions(
    limit: $limit
    order_by: {version: desc}
    where: {version: {_lte: $start_version}}
    offset: $offset
  ) {
    version
  }
}
    `,ar=class{constructor(t){this.endpoint=t}static validateAddress(t){if(t.length<66)throw new Error("Address needs to be 66 chars long.")}async queryIndexer(t){const{data:e}=await yi.post(this.endpoint,t);if(e.errors)throw new Error(`Indexer data error ${JSON.stringify(e.errors,null," ")}`);return e.data}async getIndexerLedgerInfo(){const t={query:yg};return this.queryIndexer(t)}async getAccountNFTs(t,e){const r=he.ensure(t).hex();ar.validateAddress(r);const n={query:ug,variables:{address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(t,e){const r={query:xg,variables:{idHash:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(r)}async getAccountCoinsData(t,e){const r=he.ensure(t).hex();ar.validateAddress(r);const n={query:cg,variables:{owner_address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getAccountTokensCount(t){const e=he.ensure(t).hex();ar.validateAddress(e);const r={query:fg,variables:{owner_address:e}};return this.queryIndexer(r)}async getAccountTransactionsCount(t){const e=he.ensure(t).hex();ar.validateAddress(e);const r={query:dg,variables:{address:e}};return this.queryIndexer(r)}async getAccountTransactionsData(t,e){const r=he.ensure(t).hex();ar.validateAddress(r);const n={query:lg,variables:{address:r,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getDelegatedStakingActivities(t,e){const r=he.ensure(t).hex(),n=he.ensure(e).hex();ar.validateAddress(r),ar.validateAddress(n);const s={query:pg,variables:{delegatorAddress:r,poolAddress:n}};return this.queryIndexer(s)}async getTokenActivitiesCount(t){const e={query:gg,variables:{token_id:t}};return this.queryIndexer(e)}async getTokenData(t){const e={query:bg,variables:{token_id:t}};return this.queryIndexer(e)}async getTokenOwnersData(t,e){const r={query:mg,variables:{token_id:t,property_version:e}};return this.queryIndexer(r)}async getTopUserTransactions(t){const e={query:wg,variables:{limit:t}};return this.queryIndexer(e)}async getUserTransactions(t,e){const r={query:vg,variables:{start_version:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(r)}async getCurrentDelegatorBalancesCount(t){const e=he.ensure(t).hex();ar.validateAddress(e);const r={query:hg,variables:{poolAddress:e}};return this.queryIndexer(r)}},Eg={};Fa(Eg,{$AccountData:()=>Mg,$AccountSignature:()=>Fg,$AccountSignature_Ed25519Signature:()=>Lg,$AccountSignature_MultiEd25519Signature:()=>Hg,$Address:()=>Kg,$AptosError:()=>zg,$AptosErrorCode:()=>$g,$Block:()=>qg,$BlockMetadataTransaction:()=>jg,$DecodedTableData:()=>Gg,$DeleteModule:()=>Vg,$DeleteResource:()=>Jg,$DeleteTableItem:()=>Xg,$DeletedTableData:()=>Wg,$DirectWriteSet:()=>Zg,$Ed25519Signature:()=>Yg,$EncodeSubmissionRequest:()=>Qg,$EntryFunctionId:()=>eb,$EntryFunctionPayload:()=>tb,$Event:()=>rb,$EventGuid:()=>nb,$GasEstimation:()=>sb,$GenesisPayload:()=>ib,$GenesisPayload_WriteSetPayload:()=>ab,$GenesisTransaction:()=>ob,$HashValue:()=>cb,$HealthCheckSuccess:()=>ub,$HexEncodedBytes:()=>fb,$IdentifierWrapper:()=>db,$IndexResponse:()=>lb,$ModuleBundlePayload:()=>hb,$MoveAbility:()=>pb,$MoveFunction:()=>yb,$MoveFunctionGenericTypeParam:()=>xb,$MoveFunctionVisibility:()=>gb,$MoveModule:()=>bb,$MoveModuleBytecode:()=>mb,$MoveModuleId:()=>wb,$MoveResource:()=>vb,$MoveScriptBytecode:()=>Eb,$MoveStruct:()=>Sb,$MoveStructField:()=>Ab,$MoveStructGenericTypeParam:()=>_b,$MoveStructTag:()=>Tb,$MoveStructValue:()=>Rb,$MoveType:()=>Pb,$MoveValue:()=>kb,$MultiAgentSignature:()=>Cb,$MultiEd25519Signature:()=>Ib,$MultisigPayload:()=>Bb,$MultisigTransactionPayload:()=>Ub,$PendingTransaction:()=>Ob,$RawTableItemRequest:()=>Nb,$RoleType:()=>Db,$ScriptPayload:()=>Mb,$ScriptWriteSet:()=>Fb,$StateCheckpointTransaction:()=>Lb,$StateKeyWrapper:()=>Hb,$SubmitTransactionRequest:()=>Kb,$TableItemRequest:()=>zb,$Transaction:()=>$b,$TransactionPayload:()=>Jb,$TransactionPayload_EntryFunctionPayload:()=>Xb,$TransactionPayload_ModuleBundlePayload:()=>Zb,$TransactionPayload_MultisigPayload:()=>Yb,$TransactionPayload_ScriptPayload:()=>Qb,$TransactionSignature:()=>rm,$TransactionSignature_Ed25519Signature:()=>nm,$TransactionSignature_MultiAgentSignature:()=>sm,$TransactionSignature_MultiEd25519Signature:()=>im,$Transaction_BlockMetadataTransaction:()=>qb,$Transaction_GenesisTransaction:()=>jb,$Transaction_PendingTransaction:()=>Gb,$Transaction_StateCheckpointTransaction:()=>Wb,$Transaction_UserTransaction:()=>Vb,$TransactionsBatchSingleSubmissionFailure:()=>em,$TransactionsBatchSubmissionResult:()=>tm,$U128:()=>am,$U256:()=>om,$U64:()=>cm,$UserTransaction:()=>um,$VersionedEvent:()=>fm,$ViewRequest:()=>dm,$WriteModule:()=>lm,$WriteResource:()=>hm,$WriteSet:()=>pm,$WriteSetChange:()=>gm,$WriteSetChange_DeleteModule:()=>bm,$WriteSetChange_DeleteResource:()=>mm,$WriteSetChange_DeleteTableItem:()=>wm,$WriteSetChange_WriteModule:()=>vm,$WriteSetChange_WriteResource:()=>Em,$WriteSetChange_WriteTableItem:()=>Sm,$WriteSetPayload:()=>Am,$WriteSet_DirectWriteSet:()=>ym,$WriteSet_ScriptWriteSet:()=>xm,$WriteTableItem:()=>_m,AccountsService:()=>xl,ApiError:()=>_i,AptosErrorCode:()=>Al,AptosGeneratedClient:()=>Sl,BaseHttpRequest:()=>ul,BlocksService:()=>gl,CancelError:()=>fl,CancelablePromise:()=>dl,EventsService:()=>bl,GeneralService:()=>ml,MoveFunctionVisibility:()=>_l,OpenAPI:()=>Dg,RoleType:()=>Tl,TablesService:()=>wl,TransactionsService:()=>vl,ViewService:()=>El});var ul=class{constructor(t){this.config=t}},_i=class extends Error{constructor(t,e,r){super(r),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}},fl=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},dl=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r;const n=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(o=this._resolve)==null||o.call(this,a))},s=a=>{var o;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(o=this._reject)==null||o.call(this,a))},i=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(i,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(i,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(i,"isCancelled",{get:()=>this._isCancelled}),t(n,s,i)})}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(t=this._reject)==null||t.call(this,new fl("Request aborted"))}}get isCancelled(){return this._isCancelled}},ll=class{constructor(t=new Map){this.jar=t}setCookie(t,e){var r;const n=t.origin.toLowerCase();this.jar.has(n)||this.jar.set(n,[]);const s=ll.parse(e);this.jar.set(n,[...((r=this.jar.get(n))==null?void 0:r.filter(i=>i.name!==s.name))||[],s])}getCookies(t){var e;const r=t.origin.toLowerCase();return this.jar.get(r)?((e=this.jar.get(r))==null?void 0:e.filter(n=>!n.expires||n.expires>new Date))||[]:[]}static parse(t){if(typeof t!="string")throw new Error("argument str must be a string");const e=t.split(";").map(n=>n.trim());let r;if(e.length>0){const[n,s]=e[0].split("=");if(!n||!s)throw new Error("Invalid cookie");r={name:n,value:s}}else throw new Error("Invalid cookie");return e.slice(1).forEach(n=>{const[s,i]=n.split("=");if(!s.trim())throw new Error("Invalid cookie");const a=s.toLowerCase(),o=(i==null?void 0:i.charAt(0))==="'"||(i==null?void 0:i.charAt(0))==='"'?i==null?void 0:i.slice(1,-1):i;if(a==="expires"&&(r.expires=new Date(o)),a==="path"&&(r.path=o),a==="samesite"){if(o!=="Lax"&&o!=="None"&&o!=="Strict")throw new Error("Invalid cookie SameSite value");r.sameSite=o}a==="secure"&&(r.secure=!0)}),r}},hl=new ll;yi.interceptors.response.use(t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach(e=>{hl.setCookie(new URL(t.config.url),e)}),t)),yi.interceptors.request.use(function(t){const e=hl.getCookies(new URL(t.url));return(e==null?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map(r=>`${r.name}=${r.value}`).join("; ")),t});var Vc=t=>t!=null,fo=t=>typeof t=="string",Jc=t=>fo(t)&&t!=="",pl=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),Sg=t=>t instanceof jd,Ag=t=>t>=200&&t<300,_g=t=>btoa(t),Tg=t=>{const e=[],r=(s,i)=>{e.push(`${encodeURIComponent(s)}=${encodeURIComponent(String(i))}`)},n=(s,i)=>{Vc(i)&&(Array.isArray(i)?i.forEach(a=>{n(s,a)}):typeof i=="object"?Object.entries(i).forEach(([a,o])=>{n(`${s}[${a}]`,o)}):r(s,i))};return Object.entries(t).forEach(([s,i])=>{n(s,i)}),e.length>0?`?${e.join("&")}`:""},Rg=(t,e)=>{const r=t.ENCODE_PATH||encodeURI,n=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(i,a)=>{var o;return(o=e.path)!=null&&o.hasOwnProperty(a)?r(String(e.path[a])):i}),s=`${t.BASE}${n}`;return e.query?`${s}${Tg(e.query)}`:s},Pg=t=>{if(t.formData){const e=new jd,r=(n,s)=>{fo(s)||pl(s)?e.append(n,s):e.append(n,JSON.stringify(s))};return Object.entries(t.formData).filter(([n,s])=>Vc(s)).forEach(([n,s])=>{Array.isArray(s)?s.forEach(i=>r(n,i)):r(n,s)}),e}},lo=async(t,e)=>typeof e=="function"?e(t):e,kg=async(t,e,r)=>{const n=await lo(e,t.TOKEN),s=await lo(e,t.USERNAME),i=await lo(e,t.PASSWORD),a=await lo(e,t.HEADERS),o=typeof(r==null?void 0:r.getHeaders)=="function"&&(r==null?void 0:r.getHeaders())||{},u=Object.entries({Accept:"application/json",...a,...e.headers,...o}).filter(([h,m])=>Vc(m)).reduce((h,[m,E])=>({...h,[m]:String(E)}),{});if(Jc(n)&&(u.Authorization=`Bearer ${n}`),Jc(s)&&Jc(i)){const h=_g(`${s}:${i}`);u.Authorization=`Basic ${h}`}return e.body&&(e.mediaType?u["Content-Type"]=e.mediaType:pl(e.body)?u["Content-Type"]=e.body.type||"application/octet-stream":fo(e.body)?u["Content-Type"]="text/plain":Sg(e.body)||(u["Content-Type"]="application/json")),u},Cg=t=>{if(t.body)return t.body},Ig=async(t,e,r,n,s,i,a)=>{const o=yi.CancelToken.source(),u={url:r,headers:i,data:n??s,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:o.token};Object.keys(t.HEADERS||{}).filter(m=>m.toLowerCase()==="accept").map(m=>t.HEADERS[m]).includes("application/x-bcs")&&(u.responseType="arraybuffer"),a(()=>o.cancel("The user aborted a request."));try{return await yi.request(u)}catch(m){const E=m;if(E.response)return E.response;throw m}},Bg=(t,e)=>{if(e){const r=t.headers[e];if(fo(r))return r}},Ug=t=>{if(t.status!==204)return t.data},Og=(t,e)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(n)throw new _i(t,e,n);if(!e.ok)throw new _i(t,e,"Generic Error")},Ng=(t,e)=>new dl(async(r,n,s)=>{try{const i=Rg(t,e),a=Pg(e),o=Cg(e),u=await kg(t,e,a);if(!s.isCancelled){const h=await Ig(t,e,i,o,a,u,s),m=Ug(h),E=Bg(h,e.responseHeader),B={url:i,ok:Ag(h.status),status:h.status,statusText:h.statusText,body:E??m};Og(e,B);const M=B.body;try{M.__headers=h.headers}catch{}r(M)}}catch(i){n(i)}}),yl=class extends ul{constructor(t){super(t)}request(t){return Ng(this.config,t)}},xl=class{constructor(t){this.httpRequest=t}getAccount(t,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:e}})}getAccountResources(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountModules(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:e,start:r,limit:n}})}getAccountResource(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:e},query:{ledger_version:r}})}getAccountModule(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:e},query:{ledger_version:r}})}},gl=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:e}})}getBlockByVersion(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:e}})}},bl=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,e,r,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:e},query:{start:r,limit:n}})}getEventsByEventHandle(t,e,r,n,s){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:e,field_name:r},query:{start:n,limit:s}})}},ml=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},wl=class{constructor(t){this.httpRequest=t}getTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}getRawTableItem(t,e,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:r},body:e,mediaType:"application/json"})}},vl=class{constructor(t){this.httpRequest=t}getTransactions(t,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:e}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,e,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:e,limit:r}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,e,r,n){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:n},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},El=class{constructor(t){this.httpRequest=t}view(t,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:t,mediaType:"application/json"})}},Sl=class{constructor(t,e=yl){var r,n,s,i;this.request=new e({BASE:(r=t==null?void 0:t.BASE)!=null?r:"/v1",VERSION:(n=t==null?void 0:t.VERSION)!=null?n:"1.2.0",WITH_CREDENTIALS:(s=t==null?void 0:t.WITH_CREDENTIALS)!=null?s:!1,CREDENTIALS:(i=t==null?void 0:t.CREDENTIALS)!=null?i:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH}),this.accounts=new xl(this.request),this.blocks=new gl(this.request),this.events=new bl(this.request),this.general=new ml(this.request),this.tables=new wl(this.request),this.transactions=new vl(this.request),this.view=new El(this.request)}},Dg={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Al=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(Al||{}),_l=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(_l||{}),Tl=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(Tl||{}),Mg={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},Fg={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},Lg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Hg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Kg={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},zg={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},$g={type:"Enum"},qg={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},jg={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Gg={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},Wg={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},Vg={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},Jg={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},Xg={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Zg={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Yg={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},Qg={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},eb={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},tb={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},rb={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},nb={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},sb={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},ib={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},ab={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},ob={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},cb={type:"string"},ub={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},fb={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},db={type:"string"},lb={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},hb={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},pb={type:"string"},yb={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},is_view:{type:"boolean",description:"Whether the function is a view function or not",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},xb={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},gb={type:"Enum"},bb={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},mb={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},wb={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},vb={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},Eb={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},Sb={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},Ab={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},_b={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Tb={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},Rb={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},Pb={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},kb={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},Cb={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},Ib={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},Bb={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},Ub={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},Ob={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},Nb={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},Db={type:"Enum"},Mb={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Fb={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},Lb={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Hb={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Kb={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},zb={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},$b={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},qb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},jb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},Gb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},Wb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},Vb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},Jb={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Xb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Zb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Yb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Qb={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},em={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},tm={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},rm={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},nm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},sm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},im={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},am={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},om={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},cm={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},um={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},fm={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},dm={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},lm={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},hm={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},pm={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},ym={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},xm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},gm={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},bm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},mm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},wm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},vm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},Em={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},Sm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},Am={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},_m={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}};function ho(t,e,r){if(!(e!=null&&e.includes(typeof t)))throw new Error(r||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function Rl(t){if(ho(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function Qn(t){if(ho(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function es(t){return ho(t,["number","bigint","string"]),BigInt(t)}function po(t,e,r){if(e instanceof Qr){r.serializeBool(Rl(t));return}if(e instanceof gr){r.serializeU8(Qn(t));return}if(e instanceof jn){r.serializeU16(Qn(t));return}if(e instanceof Gn){r.serializeU32(Qn(t));return}if(e instanceof en){r.serializeU64(es(t));return}if(e instanceof tn){r.serializeU128(es(t));return}if(e instanceof Wn){r.serializeU256(es(t));return}if(e instanceof Fr){let n;if(typeof t=="string"||t instanceof he)n=Ge.fromHex(t);else if(t instanceof Ge)n=t;else throw new Error("Invalid account address.");n.serialize(r);return}if(e instanceof Vn){if(e.value instanceof gr){if(t instanceof Uint8Array){r.serializeBytes(t);return}if(typeof t=="string"){r.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");r.serializeU32AsUleb128(t.length),t.forEach(n=>po(n,e.value,r));return}if(e instanceof rn){const{address:n,module_name:s,name:i}=e.value;if(`${he.fromUint8Array(n.address).toShortString()}::${s.value}::${i.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");ho(t,["string"]),r.serializeStr(t);return}throw new Error("Unsupported arg type.")}function Tm(t,e){if(e instanceof Qr)return new io(Rl(t));if(e instanceof gr)return new Za(Qn(t));if(e instanceof jn)return new Ya(Qn(t));if(e instanceof Gn)return new Qa(Qn(t));if(e instanceof en)return new eo(es(t));if(e instanceof tn)return new to(es(t));if(e instanceof Wn)return new ro(es(t));if(e instanceof Fr){let r;if(typeof t=="string"||t instanceof he)r=Ge.fromHex(t);else if(t instanceof Ge)r=t;else throw new Error("Invalid account address.");return new no(r)}if(e instanceof Vn&&e.value instanceof gr){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new so(t)}throw new Error("Unknown type for TransactionArgument.")}var Rm="APTOS::RawTransaction",Pm="APTOS::RawTransactionWithData",ts=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,r)}static getSigningMessage(t){const e=zn.create();if(t instanceof Xn)e.update(Rm);else if(t instanceof Wa)e.update(Pm);else throw new Error("Unknown transaction type.");const r=e.digest(),n=xr(t),s=new Uint8Array(r.length+n.length);return s.set(r),s.set(n,r.length),s}},yo=class extends ts{constructor(t,e,r){super(t,r),this.publicKey=e}rawToSigned(t){const e=ts.getSigningMessage(t),r=this.signingFunction(e),n=new qa(new qt(this.publicKey),r);return new vi(t,n)}sign(t){return xr(this.rawToSigned(t))}},km=class extends ts{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=ts.getSigningMessage(t),r=this.signingFunction(e),n=new ja(this.publicKey,r);return new vi(t,n)}sign(t){return xr(this.rawToSigned(t))}},Xc=class{constructor(t,e){this.abiMap=new Map,t.forEach(r=>{const n=new Mc(r),s=ao.deserialize(n);let i;if(s instanceof Zn){const a=s,{address:o,name:u}=a.module_name;i=`${he.fromUint8Array(o.address).toShortString()}::${u.value}::${a.name}`}else i=s.name;if(this.abiMap.has(i))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(i,s)}),this.builderConfig={maxGasAmount:BigInt(Jd),expSecFromNow:Xd,...e}}static toBCSArgs(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((r,n)=>{const s=new je;return po(r,t[n].type_tag,s),s.getBytes()})}static toTransactionArguments(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((r,n)=>Tm(r,t[n].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,e,r){const n=e.map(a=>new Jn(a).parseTypeTag());let s;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const i=this.abiMap.get(t);if(i instanceof Zn){const a=i,o=Xc.toBCSArgs(a.args,r);s=new Ja(new sn(a.module_name,new bt(a.name),n,o))}else if(i instanceof oo){const a=i,o=Xc.toTransactionArguments(a.args,r);s=new Va(new Ga(a.code,n,o))}else throw new Error("Unknown ABI format.");return s}build(t,e,r){const{sender:n,sequenceNumber:s,gasUnitPrice:i,maxGasAmount:a,expSecFromNow:o,chainId:u}=this.builderConfig;if(!i)throw new Error("No gasUnitPrice provided.");const h=n instanceof Ge?n:Ge.fromHex(n),m=BigInt(Math.floor(Date.now()/1e3)+Number(o)),E=this.buildTransactionPayload(t,e,r);if(E)return new Xn(h,BigInt(s),E,BigInt(a),BigInt(i),m,new Xa(Number(u)));throw new Error("Invalid ABI.")}},it=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const r=(await this.aptosClient.getAccountModules(t)).map(s=>s.abi).flatMap(s=>s.exposed_functions.filter(i=>i.is_entry).map(i=>({fullName:`${s.address}::${s.name}::${i.name}`,...i}))),n=new Map;return r.forEach(s=>{n.set(s.fullName,s)}),n}async build(t,e,r){if(t=(pe=>pe.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[i,a]=t.split("::"),o=await this.fetchABI(i);if(!o.has(t))throw new Error(`${t} doesn't exist.`);const u=o.get(t),m=u.params.filter(pe=>pe!=="signer"&&pe!=="&signer").map((pe,Ue)=>new Ai(`var${Ue}`,new Jn(pe,e).parseTypeTag())),E=new Zn(u.name,an.fromStr(`${i}::${a}`),"",u.generic_type_params.map((pe,Ue)=>new Si(`${Ue}`)),m),{sender:B,...M}=this.builderConfig,O=B instanceof Ge?he.fromUint8Array(B.address):B,[{sequence_number:$},Z,{gas_estimate:ce}]=await Promise.all([M!=null&&M.sequenceNumber?Promise.resolve({sequence_number:M==null?void 0:M.sequenceNumber}):this.aptosClient.getAccount(O),M!=null&&M.chainId?Promise.resolve(M==null?void 0:M.chainId):this.aptosClient.getChainId(),M!=null&&M.gasUnitPrice?Promise.resolve({gas_estimate:M==null?void 0:M.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Xc([xr(E)],{sender:B,sequenceNumber:$,chainId:Z,gasUnitPrice:BigInt(ce),...M}).build(t,e,r)}};Ne([Mx(10*60*1e3)],it.prototype,"fetchABI",1);var Ti=class{constructor(t,e,r=!1){if(!t)throw new Error("Node URL cannot be empty.");const n=e==null?{}:{...e};r?this.nodeUrl=t:this.nodeUrl=Dx(t),n.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?n.WITH_CREDENTIALS=!1:n.WITH_CREDENTIALS=!0,this.client=new Sl(n)}async getAccount(t){return this.client.accounts.getAccount(he.ensure(t).hex())}async getAccountTransactions(t,e){var r;return this.client.transactions.getAccountTransactions(he.ensure(t).hex(),(r=e==null?void 0:e.start)==null?void 0:r.toString(),e==null?void 0:e.limit)}async getAccountModules(t,e){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await Qd(r,t,1e3,e)}async getAccountModule(t,e,r){var n;return this.client.accounts.getAccountModule(he.ensure(t).hex(),e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}async getAccountResources(t,e){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await Qd(r,t,9999,e)}async getAccountResource(t,e,r){var n;return this.client.accounts.getAccountResource(he.ensure(t).hex(),e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}static generateBCSTransaction(t,e){return new yo(n=>{const s=t.signBuffer(n);return new De.Ed25519Signature(s.toUint8Array())},t.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(t,e){return new yo(n=>{const s=new Uint8Array(64);return new De.Ed25519Signature(s)},t.pubKey().toUint8Array()).sign(e)}async generateTransaction(t,e,r){const n={sender:t};if(r!=null&&r.sequence_number&&(n.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(n.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(n.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const i=Number.parseInt(r.expiration_timestamp_secs,10);n.expSecFromNow=i-Math.floor(Date.now()/1e3)}return new it(this,n).build(e.function,e.type_arguments,e.arguments)}async signTransaction(t,e){return Promise.resolve(Ti.generateBCSTransaction(t,e))}async getEventsByCreationNumber(t,e,r){var n;return this.client.events.getEventsByCreationNumber(he.ensure(t).hex(),e.toString(),(n=r==null?void 0:r.start)==null?void 0:n.toString(),r==null?void 0:r.limit)}async getEventsByEventHandle(t,e,r,n){var s;return this.client.events.getEventsByEventHandle(he.ensure(t).hex(),e,r,(s=n==null?void 0:n.start)==null?void 0:s.toString(),n==null?void 0:n.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,e,r){let n;return t instanceof uo?n=Ti.generateBCSSimulation(t,e):t instanceof gi?n=new km(()=>{const{threshold:i}=t,a=[],o=[];for(let h=0;h<i;h+=1)a.push(h),o.push(new De.Ed25519Signature(new Uint8Array(64)));const u=De.MultiEd25519Signature.createBitmap(a);return new De.MultiEd25519Signature(o,u)},t).sign(e):n=new yo(()=>{const i=new Uint8Array(64);return new De.Ed25519Signature(i)},t.toBytes()).sign(e),this.submitBCSSimulation(n,r)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,e){var r,n,s;const i={estimate_gas_unit_price:(r=e==null?void 0:e.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(n=e==null?void 0:e.estimateMaxGasAmount)!=null?n:!1,estimate_prioritized_gas_unit_price:(s=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?s:!1};return this.client.request.request({url:"/transactions/simulate",query:i,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var e;return this.client.transactions.getTransactions((e=t==null?void 0:t.start)==null?void 0:e.toString(),t==null?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return(await this.client.transactions.getTransactionByHash(t)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(t,e){var r,n;const s=(r=e==null?void 0:e.timeoutSecs)!=null?r:Zd,i=(n=e==null?void 0:e.checkSuccess)!=null?n:!1;let a=!0,o=0,u;for(;a&&!(o>=s);){try{if(u=await this.client.transactions.getTransactionByHash(t),a=u.type==="pending_transaction",!a)break}catch(h){const m=h instanceof _i,E=m&&h.status!==404&&h.status>=400&&h.status<500;if(!m||E)throw h}await Nx(1e3),o+=1}if(u===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new Im(`Waiting for transaction ${t} timed out after ${s} seconds`,u);if(!i)return u;if(!(u!=null&&u.success))throw new Bm(`Transaction ${t} committed to the blockchain but execution failed`,u);return u}async waitForTransaction(t,e){await this.waitForTransactionWithResult(t,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,e,r){var n;return await this.client.tables.getTableItem(t,e,(n=r==null?void 0:r.ledgerVersion)==null?void 0:n.toString())}async generateRawTransaction(t,e,r){const[{sequence_number:n},s,{gas_estimate:i}]=await Promise.all([this.getAccount(t),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:o,expireTimestamp:u}={maxGasAmount:BigInt(Jd),gasUnitPrice:BigInt(i),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+Xd),...r};return new De.RawTransaction(De.AccountAddress.fromHex(t),BigInt(n),e,a,o,u,new De.ChainId(s))}async generateSignSubmitTransaction(t,e,r){const n=await this.generateRawTransaction(t.address(),e,r),s=Ti.generateBCSTransaction(t,n);return(await this.submitSignedBCSTransaction(s)).hash}async publishPackage(t,e,r,n){const s=new je;Bt(r,s);const i=new De.TransactionPayloadEntryFunction(De.EntryFunction.natural("0x1::code","publish_package_txn",[],[qn(e),s.getBytes()]));return this.generateSignSubmitTransaction(t,i,n)}async generateSignSubmitWaitForTransaction(t,e,r){const n=await this.generateSignSubmitTransaction(t,e,r);return this.waitForTransactionWithResult(n,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const e=`0x1::coin::CoinStore<${Dc}>`,[{gas_estimate:r},n]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),s=n.find(a=>a.type===e);return BigInt(s.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(t,e,r){const{sequence_number:n,authentication_key:s}=await this.getAccount(t.address()),i=new uo(e),a=new De.RotationProofChallenge(De.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(n),De.AccountAddress.fromHex(t.address()),new De.AccountAddress(new he(s).toUint8Array()),i.pubKey().toUint8Array()),o=he.fromUint8Array(xr(a)),u=t.signHexString(o),h=i.signHexString(o),m=new De.TransactionPayloadEntryFunction(De.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[Fc(0),qn(t.pubKey().toUint8Array()),Fc(0),qn(i.pubKey().toUint8Array()),qn(u.toUint8Array()),qn(h.toUint8Array())])),E=await this.generateRawTransaction(t.address(),m,r),B=Ti.generateBCSTransaction(t,E);return this.submitSignedBCSTransaction(B)}async lookupOriginalAddress(t){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=e.data,n=await this.getTableItem(r,{key_type:"address",value_type:"address",key:he.ensure(t).hex()});return new he(n)}async getBlockByHeight(t,e){return this.client.blocks.getBlockByHeight(t,e)}async getBlockByVersion(t,e){return this.client.blocks.getBlockByVersion(t,e)}async view(t,e){return this.client.view.view(t,e)}clearCache(t){Fx(t)}},_e=Ti;Ne([Qe],_e.prototype,"getAccount",1),Ne([Qe],_e.prototype,"getAccountTransactions",1),Ne([Qe],_e.prototype,"getAccountModules",1),Ne([Qe],_e.prototype,"getAccountModule",1),Ne([Qe],_e.prototype,"getAccountResources",1),Ne([Qe],_e.prototype,"getAccountResource",1),Ne([Qe],_e.prototype,"getEventsByCreationNumber",1),Ne([Qe],_e.prototype,"getEventsByEventHandle",1),Ne([Qe],_e.prototype,"submitSignedBCSTransaction",1),Ne([Qe],_e.prototype,"submitBCSSimulation",1),Ne([Qe],_e.prototype,"getTransactions",1),Ne([Qe],_e.prototype,"getTransactionByHash",1),Ne([Qe],_e.prototype,"getTransactionByVersion",1),Ne([Qe],_e.prototype,"getLedgerInfo",1),Ne([La()],_e.prototype,"getChainId",1),Ne([Qe],_e.prototype,"getTableItem",1),Ne([Qe,La({ttlMs:5*60*1e3,tags:["gas_estimates"]})],_e.prototype,"estimateGasPrice",1),Ne([Qe],_e.prototype,"estimateMaxGasAmount",1),Ne([Qe],_e.prototype,"getBlockByHeight",1),Ne([Qe],_e.prototype,"getBlockByVersion",1),Ne([Qe],_e.prototype,"view",1);var Cm=class extends Error{constructor(t,e,r,n){super(e),this.status=t,this.message=e,this.errorCode=r,this.vmErrorCode=n}},Im=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},Bm=class extends Error{constructor(t,e){super(t),this.transaction=e}};function Qe(t,e,r){const n=r.value;return r.value=async function(...i){var a,o;try{return await n.apply(this,[...i])}catch(u){throw u instanceof _i?new Cm(u.status,JSON.stringify({message:u.message,...u.body}),(a=u.body)==null?void 0:a.error_code,(o=u.body)==null?void 0:o.vm_error_code):u}},r}var Pl=class{constructor(t,e,r=!1){let n=null,s=null;if(typeof t=="object"&&Um(t)?(n=t.fullnodeUrl,s=t.indexerUrl,this.network="CUSTOM"):(n=Hx[t],s=Lx[t],this.network=t),!n||!s)throw new Error("network is not provided");this.aptosClient=new _e(n,e,r),this.indexerClient=new ar(s)}};function kl(t,e,r){Object.getOwnPropertyNames(e.prototype).forEach(n=>{const s=Object.getOwnPropertyDescriptor(e.prototype,n);s&&(s.value=function(...i){return this[r][n](...i)},Object.defineProperty(t.prototype,n,s))})}kl(Pl,_e,"aptosClient"),kl(Pl,ar,"indexerClient");function Um(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"&&t.indexerUrl!==void 0&&typeof t.indexerUrl=="string"}var Cl=class{constructor(t,e){this.type=t,this.value=e}},Zc=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function Yc(t){let e;return t==="string"||t==="String"?e=new rn(tl):e=new Jn(t).parseTypeTag(),e}function Qc(t,e){if(t.length!==e.length)throw new Error("Length of property values and types not match");const r=new Array;return e.forEach((n,s)=>{try{const i=Yc(n),a=new je;po(t[s],i,a),r.push(a.getBytes())}catch{r.push(new TextEncoder().encode(t[s]))}}),r}function Il(t,e){if(!t||!e)throw new Error("value or type can not be empty");try{const r=Yc(e),n=new je;return po(t,r,n),n.getBytes()}catch{return new TextEncoder().encode(t)}}function Bl(t){const e=t.map.data,r=new Zc;return e.forEach(n=>{const{key:s}=n,i=n.value.value,a=n.value.type,o=Yc(a),u=Om(o,i),h=new Cl(a,u);r.setProperty(s,h)}),r}function Om(t,e){const r=new Mc(new he(e).toUint8Array());let n="";return t instanceof gr?n=r.deserializeU8().toString():t instanceof en?n=r.deserializeU64().toString():t instanceof tn?n=r.deserializeU128().toString():t instanceof Qr?n=r.deserializeBool()?"true":"false":t instanceof Fr?n=he.fromUint8Array(r.deserializeFixedBytes(32)).hex():t instanceof rn&&t.isStringTypeTag()?n=r.deserializeStr():n=e,n}var Nm={};Fa(Nm,{PropertyMap:()=>Zc,PropertyValue:()=>Cl,Token:()=>Ol,TokenData:()=>Ul});var Ul=class{constructor(t,e,r,n,s,i,a,o){this.collection=t,this.description=e,this.name=r,this.maximum=n,this.supply=s,this.uri=i,this.default_properties=Bl(a),this.mutability_config=o}},Ol=class{constructor(t,e,r){this.id=t,this.amount=e,this.token_properties=Bl(r)}},T2=class{constructor(t){this.aptosClient=t}async createCollection(t,e,r,n,s=$n,i){const o=await new it(this.aptosClient,{sender:t.address(),...i}).build("0x3::token::create_collection_script",[],[e,r,n,s,[!1,!1,!1]]),u=_e.generateBCSTransaction(t,o);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async createToken(t,e,r,n,s,i,a=$n,o=t.address(),u=0,h=0,m=[],E=[],B=[],M){const $=await new it(this.aptosClient,{sender:t.address(),...M}).build("0x3::token::create_token_script",[],[e,r,n,s,a,i,o,u,h,[!1,!1,!1,!1,!1],m,Qc(E,B),B]),Z=_e.generateBCSTransaction(t,$);return(await this.aptosClient.submitSignedBCSTransaction(Z)).hash}async createTokenWithMutabilityConfig(t,e,r,n,s,i,a=$n,o=t.address(),u=0,h=0,m=[],E=[],B=[],M=[!1,!1,!1,!1,!1],O){const Z=await new it(this.aptosClient,{sender:t.address(),...O}).build("0x3::token::create_token_script",[],[e,r,n,s,a,i,o,u,h,M,m,E,B]),ce=_e.generateBCSTransaction(t,Z);return(await this.aptosClient.submitSignedBCSTransaction(ce)).hash}async offerToken(t,e,r,n,s,i,a=0,o){const h=await new it(this.aptosClient,{sender:t.address(),...o}).build("0x3::token_transfers::offer_script",[],[e,r,n,s,a,i]),m=_e.generateBCSTransaction(t,h);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async claimToken(t,e,r,n,s,i=0,a){const u=await new it(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::claim_script",[],[e,r,n,s,i]),h=_e.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(h)).hash}async cancelTokenOffer(t,e,r,n,s,i=0,a){const u=await new it(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[e,r,n,s,i]),h=_e.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(h)).hash}async directTransferToken(t,e,r,n,s,i,a=0,o){const h=await new it(this.aptosClient,{sender:t.address(),...o}).build("0x3::token::direct_transfer_script",[],[r,n,s,a,i]),m=new De.MultiAgentRawTransaction(h,[De.AccountAddress.fromHex(e.address())]),E=new De.Ed25519Signature(t.signBuffer(ts.getSigningMessage(m)).toUint8Array()),B=new De.AccountAuthenticatorEd25519(new De.Ed25519PublicKey(t.signingKey.publicKey),E),M=new De.Ed25519Signature(e.signBuffer(ts.getSigningMessage(m)).toUint8Array()),O=new De.AccountAuthenticatorEd25519(new De.Ed25519PublicKey(e.signingKey.publicKey),M),$=new De.TransactionAuthenticatorMultiAgent(B,[De.AccountAddress.fromHex(e.address())],[O]),Z=xr(new De.SignedTransaction(h,$));return(await this.aptosClient.submitSignedBCSTransaction(Z)).hash}async optInTokenTransfer(t,e,r){const s=await new it(this.aptosClient,{sender:t.address(),...r}).build("0x3::token::opt_in_direct_transfer",[],[e]),i=_e.generateBCSTransaction(t,s);return(await this.aptosClient.submitSignedBCSTransaction(i)).hash}async transferWithOptIn(t,e,r,n,s,i,a,o){const h=await new it(this.aptosClient,{sender:t.address(),...o}).build("0x3::token::transfer_with_opt_in",[],[e,r,n,s,i,a]),m=_e.generateBCSTransaction(t,h);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async burnByCreator(t,e,r,n,s,i,a){const u=await new it(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn_by_creator",[],[e,r,n,s,i]),h=_e.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(h)).hash}async burnByOwner(t,e,r,n,s,i,a){const u=await new it(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn",[],[e,r,n,s,i]),h=_e.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(h)).hash}async mutateTokenProperties(t,e,r,n,s,i,a,o,u,h,m){const B=await new it(this.aptosClient,{sender:t.address(),...m}).build("0x3::token::mutate_token_properties",[],[e,r,n,s,i,a,o,u,h]),M=_e.generateBCSTransaction(t,B);return(await this.aptosClient.submitSignedBCSTransaction(M)).hash}async getCollectionData(t,e){const n=(await this.aptosClient.getAccountResources(t)).find(o=>o.type==="0x3::token::Collections"),{handle:s}=n.data.collection_data,i={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(s,i)}async getTokenData(t,e,r){const n=t instanceof he?t.hex():t,s=await this.aptosClient.getAccountResource(n,"0x3::token::Collections"),{handle:i}=s.data.token_data,o={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:n,collection:e,name:r}},u=await this.aptosClient.getTableItem(i,o);return new Ul(u.collection,u.description,u.name,u.maximum,u.supply,u.uri,u.default_properties,u.mutability_config)}async getToken(t,e,r,n="0"){const s={creator:t instanceof he?t.hex():t,collection:e,name:r};return this.getTokenForAccount(t,{token_data_id:s,property_version:n})}async getTokenForAccount(t,e){const r=await this.aptosClient.getAccountResource(t instanceof he?t.hex():t,"0x3::token::TokenStore"),{handle:n}=r.data.tokens,s={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const i=await this.aptosClient.getTableItem(n,s);return new Ol(i.id,i.amount,i.token_properties)}catch(i){return(i==null?void 0:i.status)===404?{id:e,amount:"0",token_properties:new Zc}:i}}},rs={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",VECTOR:"vector<u8>",STRING:"string"},R2=class{constructor(t){this.tokenType="0x4::token::Token",this.provider=t}async submitTransaction(t,e,r,n,s){const a=await new it(this.provider,{sender:t.address(),...s}).build(`0x4::aptos_token::${e}`,r,n),o=_e.generateBCSTransaction(t,a);return(await this.provider.submitSignedBCSTransaction(o)).hash}async createCollection(t,e,r,n,s=$n,i,a){var o,u,h,m,E,B,M,O,$,Z,ce;return this.submitTransaction(t,"create_collection",[],[e,s,r,n,(o=i==null?void 0:i.mutableDescription)!=null?o:!0,(u=i==null?void 0:i.mutableRoyalty)!=null?u:!0,(h=i==null?void 0:i.mutableURI)!=null?h:!0,(m=i==null?void 0:i.mutableTokenDescription)!=null?m:!0,(E=i==null?void 0:i.mutableTokenName)!=null?E:!0,(B=i==null?void 0:i.mutableTokenProperties)!=null?B:!0,(M=i==null?void 0:i.mutableTokenURI)!=null?M:!0,(O=i==null?void 0:i.tokensBurnableByCreator)!=null?O:!0,($=i==null?void 0:i.tokensFreezableByCreator)!=null?$:!0,(Z=i==null?void 0:i.royaltyNumerator)!=null?Z:0,(ce=i==null?void 0:i.royaltyDenominator)!=null?ce:0],a)}async mint(t,e,r,n,s,i=[],a=[],o=[],u){return this.submitTransaction(t,"mint",[],[e,r,n,s,i,a,Qc(o,a)],u)}async mintSoulBound(t,e,r,n,s,i,a=[],o=[],u=[],h){return this.submitTransaction(t,"mint_soul_bound",[],[e,r,n,s,a,o,Qc(u,o),i.address().hex()],h)}async burnToken(t,e,r,n){return this.submitTransaction(t,"burn",[r||this.tokenType],[he.ensure(e).hex()],n)}async freezeTokenTransafer(t,e,r,n){return this.submitTransaction(t,"freeze_transfer",[r||this.tokenType],[he.ensure(e).hex()],n)}async unfreezeTokenTransafer(t,e,r,n){return this.submitTransaction(t,"unfreeze_transfer",[r||this.tokenType],[he.ensure(e).hex()],n)}async setTokenDescription(t,e,r,n,s){return this.submitTransaction(t,"set_description",[n||this.tokenType],[he.ensure(e).hex(),r],s)}async setTokenName(t,e,r,n,s){return this.submitTransaction(t,"set_name",[n||this.tokenType],[he.ensure(e).hex(),r],s)}async setTokenURI(t,e,r,n,s){return this.submitTransaction(t,"set_uri",[n||this.tokenType],[he.ensure(e).hex(),r],s)}async addTokenProperty(t,e,r,n,s,i,a){return this.submitTransaction(t,"add_property",[i||this.tokenType],[he.ensure(e).hex(),r,rs[n],Il(s,rs[n])],a)}async removeTokenProperty(t,e,r,n,s){return this.submitTransaction(t,"remove_property",[n||this.tokenType],[he.ensure(e).hex(),r],s)}async updateTokenProperty(t,e,r,n,s,i,a){return this.submitTransaction(t,"update_property",[i||this.tokenType],[he.ensure(e).hex(),r,rs[n],Il(s,rs[n])],a)}async addTypedProperty(t,e,r,n,s,i,a){return this.submitTransaction(t,"add_typed_property",[i||this.tokenType,rs[n]],[he.ensure(e).hex(),r,s],a)}async updateTypedProperty(t,e,r,n,s,i,a){return this.submitTransaction(t,"update_typed_property",[i||this.tokenType,rs[n]],[he.ensure(e).hex(),r,s],a)}async transferTokenOwnership(t,e,r,n,s){const a=await new it(this.provider.aptosClient,{sender:t.address(),...s}).build("0x1::object::transfer",[n||this.tokenType],[he.ensure(e).hex(),he.ensure(r).hex()]),o=_e.generateBCSTransaction(t,a);return(await this.provider.aptosClient.submitSignedBCSTransaction(o)).hash}},P2=class{constructor(t){this.aptosClient=t}async transfer(t,e,r,n){var s;const i=(s=n==null?void 0:n.coinType)!=null?s:Dc,a=n!=null&&n.createReceiverIfMissing?"0x1::aptos_account::transfer_coins":"0x1::coin::transfer",o=cl(e),h=await new it(this.aptosClient,{sender:t.address(),...n}).build(a,[i],[o,r]),m=_e.generateBCSTransaction(t,h);return(await this.aptosClient.submitSignedBCSTransaction(m)).hash}async checkBalance(t,e){var r;const s=`0x1::coin::CoinStore<${(r=e==null?void 0:e.coinType)!=null?r:Dc}>`,i=cl(t),a=await this.aptosClient.getAccountResource(i,s);return BigInt(a.data.coin.value)}},k2=class extends null{constructor(t,e,r){var n,s,i;if(super(t,r),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new yl({BASE:e,VERSION:(n=r==null?void 0:r.VERSION)!=null?n:"0.1.0",WITH_CREDENTIALS:(s=r==null?void 0:r.WITH_CREDENTIALS)!=null?s:!1,CREDENTIALS:(i=r==null?void 0:r.CREDENTIALS)!=null?i:"include",TOKEN:r==null?void 0:r.TOKEN,USERNAME:r==null?void 0:r.USERNAME,PASSWORD:r==null?void 0:r.PASSWORD,HEADERS:r==null?void 0:r.HEADERS,ENCODE_PATH:r==null?void 0:r.ENCODE_PATH})}async fundAccount(t,e,r=Zd){const n=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:he.ensure(t).noPrefix(),amount:e}}),s=[];for(let i=0;i<n.length;i+=1){const a=n[i];s.push(this.waitForTransaction(a,{timeoutSecs:r}))}return await Promise.all(s),n}},Nl=l(55872).Buffer;class Dm extends _a{constructor(r){super(r);k(this,"signerInstance");k(this,"_publicKey");this.base=["aptom",1e8]}async getProvider(){return this.providerInstance??(this.providerInstance=new _e(this.providerUrl))}async getTx(r){const s=await(await this.getProvider()).waitForTransactionWithResult(r,{timeoutSecs:1,checkSuccess:!0}),i=s==null?void 0:s.payload;if(!s.success)throw new Error((s==null?void 0:s.vm_status)??"Unknown Aptos error");if(!((i==null?void 0:i.function)==="0x1::coin::transfer"&&(i==null?void 0:i.type_arguments[0])==="0x1::aptos_coin::AptosCoin"&&(s==null?void 0:s.vm_status)==="Executed successfully"))throw new Error(`Aptos tx ${r} failed validation`);const a=s.type==="pending_transaction";return{to:i.arguments[0],from:s.sender,amount:new Ee.Z(i.arguments[1]),pending:a,confirmed:!a}}ownerToAddress(r){const n=tf.sha3_256.create();return n.update(Nl.from(r)),n.update("\0"),`0x${n.hex()}`}async sign(r){return await this.getSigner().sign(r)}getSigner(){return this.signerInstance??(this.signerInstance=new ga(this.wallet,this._publicKey))}async verify(r,n,s){return await ga.verify(r,n,s)}async getCurrentHeight(){return new Ee.Z((await(await this.getProvider()).client.blocks.httpRequest.request({method:"GET",url:"/"})).block_height)}async getFee(r,n){const s=await this.getProvider();if(!this.address)throw new Error("Address is undefined - you might be missing a wallet, or have not run Irys.ready()");const a=await new it(s,{sender:this.address}).build("0x1::coin::transfer",["0x1::aptos_coin::AptosCoin"],[n??"0x149f7dc9c8e43c14ab46d3a6b62cfe84d67668f764277411f98732bf6718acf9",new Ee.Z(r).toNumber()]),u=new yo(E=>{const B=new Uint8Array(64);return new De.Ed25519Signature(B)},await this.getPublicKey()).sign(a),h={estimate_gas_unit_price:!0,estimate_max_gas_amount:!0},m=await s.client.request.request({url:"/transactions/simulate",query:h,method:"POST",body:u,mediaType:"application/x.aptos.signed_transaction+bcs"});return{gasUnitPrice:+m[0].gas_unit_price,maxGasAmount:+m[0].max_gas_amount}}async sendTx(r){return(await this.wallet.signAndSubmitTransaction(r)).hash}async createTx(r,n,s){return{txId:void 0,tx:{arguments:[n,new Ee.Z(r).toNumber()],function:"0x1::coin::transfer",type:"entry_function_payload",type_arguments:["0x1::aptos_coin::AptosCoin"]}}}async getPublicKey(){return this._publicKey??(this._publicKey=Nl.from((await this.wallet.account()).publicKey.toString().slice(2),"hex"))}async ready(){var n;this._publicKey=await this.getPublicKey(),this._address=this.ownerToAddress(this._publicKey);const r=await this.getProvider();this._address=await r.lookupOriginalAddress(this.address??"").then(s=>s.toString()).catch(s=>this._address),((n=this._address)==null?void 0:n.length)==66&&this._address.charAt(2)==="0"&&(this._address=this._address.slice(0,2)+this._address.slice(3))}}class Mm extends Ta{}class Fm extends Ta{async createTx(e,r,n){const s=this.w3signer,i={to:r,from:this.address,value:e.toString(),gasLimit:BigInt(0)},a=await this.provider.estimateGas(i);return i.gasLimit=a,{tx:await s.populateTransaction(i),txId:void 0}}async getTx(e){const n=await this.provider.getTransaction(e);if(!n)throw new Error("Tx doesn't exist");if(!n.to)throw new Error(`Unable to resolve transactions ${e} receiver`);return{from:n.from,to:n.to,blockHeight:n.blockNumber?new Ee.Z(n.blockNumber):void 0,amount:new Ee.Z(n.value.toString()),pending:!n.blockNumber,confirmed:await n.confirmations()>=this.minConfirm}}async ready(){const e=this.wallet;this.provider=e;const r=await e.getSigner();r._signTypedData=async(n,s,i)=>r.signTypedData(n,s,i),e.getSigner=()=>r,this.wallet=e,await super.ready()}}function Lm(t){switch(t.token){case"ethereum":return ns("ethereum",t.providerName,{irys:t.irys,name:"ethereum",ticker:"ETH",providerUrl:t.providerUrl??"https://cloudflare-eth.com/",wallet:t.wallet});case"matic":return ns("ethereum",t.providerName,{irys:t.irys,name:"matic",ticker:"MATIC",providerUrl:t.providerUrl??"https://polygon-rpc.com",wallet:t.wallet,minConfirm:1});case"arbitrum":return ns("ethereum",t.providerName,{irys:t.irys,name:"arbitrum",ticker:"ETH",providerUrl:t.providerUrl??"https://arb1.arbitrum.io/rpc",wallet:t.wallet});case"bnb":return ns("ethereum",t.providerName,{irys:t.irys,name:"bnb",ticker:"BNB",providerUrl:t.providerUrl??"https://bsc-dataseed.binance.org",wallet:t.wallet});case"avalanche":return ns("ethereum",t.providerName,{irys:t.irys,name:"avalanche",ticker:"AVAX",providerUrl:t.providerUrl??"https://api.avax.network/ext/bc/C/rpc",wallet:t.wallet});case"boba-eth":return ns("ethereum",t.providerName,{irys:t.irys,name:"boba-eth",ticker:"ETH",providerUrl:t.providerUrl??"https://mainnet.boba.network/",minConfirm:1,wallet:t.wallet});case"boba":{const e=new Ly({irys:t.irys,name:"boba",ticker:"BOBA",providerUrl:t.providerUrl??"https://mainnet.boba.network/",contractAddress:t.contractAddress??"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:t.wallet});return e.price=async()=>{var n;const r=await Ao.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await ot.checkAndThrow(r,"Getting price data"),!((n=r==null?void 0:r.data)!=null&&n.rate))throw new Error(`unable to get price for ${e.name}`);return+r.data.rate},e}case"solana":return new sy({irys:t.irys,name:"solana",ticker:"SOL",providerUrl:t.providerUrl??"https://api.mainnet-beta.solana.com/",wallet:t.wallet});case"near":return new ry({irys:t.irys,name:"near",ticker:"NEAR",providerUrl:t.providerUrl??"https://rpc.mainnet.near.org",wallet:t.wallet});case"aptos":return new Dm({irys:t.irys,name:"aptos",ticker:"APTOS",providerUrl:t.providerUrl??"https://fullnode.mainnet.aptoslabs.com/v1",wallet:t.wallet});default:throw new Error(`Unknown/Unsupported token ${t.token}`)}}function ns(t,e,r){switch(t){case"ethereum":switch(e){case"ethersv5":return new Mm(r);case"ethersv6":return new Fm(r);default:return new Ta(r)}}}class Hm{constructor(e){k(this,"irys");this.irys=e}async upload(e,r){return this.irys.uploadWithReceipt(e,r)}async uploadProof(e){return await this.irys.uploadWithReceipt("",{tags:Object.entries({dataProtocol:"Provenance-Confirmation",...e}).map(([r,n])=>({name:Dl[r],value:n}))})}async getAllProofs(e,r){var o,u;const n=Object.entries(e).map(([h,m])=>({name:Dl[h],values:[m]}));if(n.length===0)throw new Error("Getting a provenance proof requires at least one query element");const s=`
    query ($tags: [TagFilter!]) {
      transactions(tags: $tags) {
        edges {
          node {
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            tags {
              name
              value
            }
          }
        }
      }
    }
    `,i=[];let a=null;do{const h=await this.irys.api.post("/graphql",{query:s,variables:{tags:n,limit:(r==null?void 0:r.limit)??null,after:a}},void 0);a=(u=(o=h.data.data.transactions)==null?void 0:o.pageInfo)!=null&&u.hasNextPage?h.data.data.transactions.pageInfo.endCursor:null,i.push(...h.data.data.transactions.edges.map(m=>m.node))}while(a);return i}async getProof(e){const r=(await this.getAllProofs(e,{limit:1})).at(0);if(!r)throw new Error(`Unable to locate proof with fields ${JSON.stringify(e)}`);return r}}const Dl={dataProtocol:"Data-Protocol",hashingAlgo:"Hashing-Algo",dataHash:"Data-Hash",uploadedFor:"Uploaded-For",prompt:"Prompt",promptHash:"Prompt-Hash",model:"Model"};class Km{constructor(e){k(this,"irys");this.irys=e}async getById(e){const r=(await this.query({ids:[e],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with id ${e}`);return r}async getByOwner(e){const r=(await this.query({owners:[e],limit:1})).at(0);if(!r)throw new Error(`Unable to locate tx with owner ${e}`);return r}async getByTag(e,r){const n=(await this.query({tags:[{name:e,values:[r]}],limit:1})).at(0);if(!n)throw new Error(`Unable to locate tx with tag ${e}:${r}`);return n}async query(e){var i,a;const r=`
    query ($ids: [String!], $after: String, $currency: String, $owners: [String!], $limit: Int, $order: SortOrder, $hasTags: Boolean, $tags: [TagFilter!]) {
      transactions(ids: $ids, after: $after, currency: $currency, owners: $owners, limit: $limit, order: $order, hasTags: $hasTags, tags: $tags) {
        edges {
          cursor
          node {
            address
            currency
            id
            receipt {
              deadlineHeight
              signature
              timestamp
              version
            }
            signature
            tags {
              name
              value
            }
            timestamp
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
    `,n=[];let s=null;do{const o=await this.irys.api.post("/graphql",{query:r,variables:{...e,after:s??e.after}},void 0);s=(a=(i=o.data.data.transactions)==null?void 0:i.pageInfo)!=null&&a.hasNextPage?o.data.data.transactions.pageInfo.endCursor:null,n.push(...o.data.data.transactions.edges.map(u=>u.node))}while(s);return n}}var zm=l(14676),$m=l(72100);const qm=Symbol("not readable"),jm=Symbol("readable"),Gm=Symbol("ended"),Wm=Symbol("errored"),pt={notReadable:qm,readable:jm,ended:Gm,errored:Wm};class Vm{constructor(e,{size:r}={}){k(this,"_stream");k(this,"_error");k(this,"_state",pt.notReadable);k(this,"_size");k(this,"_rejections",new Set);this._stream=e,this._size=r;const n=["_handleStreamEnd","_handleStreamError"];for(const s of n)Object.defineProperty(this,s,{configurable:!0,writable:!0,value:this[s].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",()=>{this._state=pt.readable})}get closed(){return this._state===pt.ended}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case pt.notReadable:{let e,r;try{e=this._untilReadable(),r=this._untilEnd(),await Promise.race([e.promise,r.promise])}finally{e!=null&&e.close(),r!=null&&r.close()}return this.next()}case pt.ended:return this.close(),{done:!0,value:void 0};case pt.errored:throw this.close(),this._error;case pt.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return e!==null?{done:!1,value:e}:(this._state=pt.notReadable,await new Promise(r=>setTimeout(n=>n(!0),0,r)),this.next())}}}_untilReadable(){let e;const r=new Promise((s,i)=>{e=()=>{this._state=pt.readable,this._rejections.delete(i),s()},this._state,pt.readable,this._stream.once("readable",e),this._rejections.add(i)});return{close:()=>{e!=null&&this._stream.removeListener("readable",e)},promise:r}}_untilEnd(){let e;const r=new Promise((s,i)=>{e=()=>{this._state=pt.ended,this._rejections.delete(i),s()},this._stream.once("end",e),this._rejections.add(i)});return{close:()=>{e!=null&&this._stream.removeListener("end",e)},promise:r}}return(){return this._state=pt.ended,this.next()}throw(e){return this._error=e,this._state=pt.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=pt.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=pt.errored;for(const r of this._rejections)r(e)}_handleStreamEnd(){this._state=pt.ended}get state(){return this._state}}var ss=l(55872).Buffer;class Jm extends $m.EventEmitter{constructor(r,n){super({captureRejections:!0});k(this,"tokenConfig");k(this,"api");k(this,"uploadID");k(this,"token");k(this,"chunkSize");k(this,"batchSize");k(this,"paused",!1);k(this,"isResume",!1);k(this,"uploadOptions");k(this,"arbundles");this.tokenConfig=r,this.arbundles=this.tokenConfig.irys.arbundles,this.api=n,this.token=this.tokenConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(r){return r&&(this.uploadID=r,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(r){if(r<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=r,this}setBatchSize(r){if(r<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=r,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(r,n){return this.uploadOptions=n,this.arbundles.DataItem.isDataItem(r)?this.runUpload(r.getRaw()):this.runUpload(r)}async uploadData(r,n){return this.uploadOptions=n==null?void 0:n.upload,this.runUpload(r,{...n})}async runUpload(r,n){var or;let s=this.uploadID;const i=n===void 0,a={"x-chunking-version":"2"};let o;if(!s)o=await this.api.get(`/chunks/${this.token}/-1/-1`,{headers:a}),ot.checkAndThrow(o,"Getting upload token"),this.uploadID=s=o.data.id;else{if(o=await this.api.get(`/chunks/${this.token}/${s}/-1`,{headers:a}),o.status===404)throw new Error("Upload ID not found - your upload has probably expired.");if(ot.checkAndThrow(o,"Getting upload info"),this.chunkSize!=+o.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+o.data.size}).`)}const{max:u,min:h}=o.data;if(this.chunkSize<+h||this.chunkSize>+u)throw new Error(`Chunk size out of allowed range: ${h} - ${u}`);let m=0;const E=(me,Ke,yt)=>new Promise(cn=>{Er(async tu=>{await this.api.post(`/chunks/${this.token}/${s}/${Ke}`,me,{headers:{"Content-Type":"application/octet-stream",...a},maxBodyLength:1/0,maxContentLength:1/0}).then(Hr=>{if((Hr==null?void 0:Hr.status)>=300){const Wl={res:Hr,id:yt,offset:Ke,size:me.length};throw this.emit("chunkError",Wl),(Hr==null?void 0:Hr.status)===402&&tu(new Error("Not enough funds to send data")),Wl}this.emit("chunkUpload",{id:yt,offset:Ke,size:me.length,totalUploaded:m+=me.length}),cn({o:Ke,d:Hr})})})}),B=o.data.chunks??[],M=new Us.PassThrough;let O=ss.alloc(0),$=!1,Z=!0;M.on("end",()=>$=!0),M.on("error",me=>{throw new Error(`Error processing readable: ${me}`)});const ce=async me=>{for(;!$;){if(O.length>=me)return Ke=ss.from(O.slice(0,me)),O=O.slice(me),Ke;var Ke=M.read(me);if(Ke===null){await new Promise(yt=>setTimeout(cn=>cn(!0),0,yt));continue}if(Ke.length===me)return Ke;O=ss.concat([O,Ke])}for(;O.length>=me;)return Ke=ss.from(O.slice(0,me)),O=O.slice(me),Ke;return Z=!1,O};let ye,pe;if(!i){ye=this.arbundles.createData("",this.tokenConfig.getSigner(),{...n,anchor:(n==null?void 0:n.anchor)??ur.randomBytes(32).toString("base64").slice(0,32)});const me=ye.getRaw();pe=me.length,M.write(me),m-=me.length}if(ss.isBuffer(r))M.write(r),M.end();else if("pipe"in r)r.pipe(M);else throw new Error("Input data is not a buffer or a compatible stream (no .pipe method)");let Ue=0;const Ie=new Set;let tt=0,at,Oe,We;if(!i){Oe=new Us.PassThrough;const me=ye.getRaw().length;if(this.chunkSize<pe)throw new Error(`Configured chunk size is too small for transaction header! (${this.chunkSize} < ${pe})`);at=await ce(this.chunkSize),tt++,Ue+=at.length,Oe.write(at.slice(me));const Ke=[this.arbundles.stringToBuffer("dataitem"),this.arbundles.stringToBuffer("1"),this.arbundles.stringToBuffer(ye.signatureType.toString()),ye.rawOwner,ye.rawTarget,ye.rawAnchor,ye.rawTags,new Vm(Oe)];We=this.arbundles.deepHash(Ke)}let mt=B.pop();for(;Z;){if(this.paused&&await new Promise(yt=>this.on("resume",()=>yt(void 0))),mt&&+mt[0]-Ue<=this.chunkSize){const cn=mt[1],tu=await ce(cn);i||Oe.write(tu),Ue+=cn,mt=B.pop(),tt++,m+=cn;continue}const me=await ce(this.chunkSize);for(i||Oe.write(me);Ie.size>=this.batchSize;){const[yt]=await Promise.race(Ie);Ie.delete(yt)}const Ke=(async()=>await E(me,Ue,++tt))().then(yt=>[Ke,yt]);Ie.add(Ke),Ue+=me.length}if(Oe&&Oe.end(),await Promise.all(Ie),!i){const me=await We,Ke=ss.from(await this.tokenConfig.getSigner().sign(me));at.set(Ke,2),await E(at,0,0)}const He=await this.api.post(`/chunks/${this.token}/${s}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...a},timeout:((or=this.api.config)==null?void 0:or.timeout)??4e4*10});if(He.status===402)throw new Error("Not enough funds to send data");if(ot.checkAndThrow(He,"Finalising upload",[201]),He.status===201)throw new Error(He.data);return He.data.verify=ot.verifyReceipt.bind({},this.arbundles,He.data.data),this.emit("done",He),He}get completionPromise(){return new Promise(r=>this.on("done",r))}}var eu=l(55872).Buffer;const C2=t=>new Promise(e=>setTimeout(e,t)),Ml=5e7;class Xm{constructor(e,r,n,s,i){k(this,"api");k(this,"token");k(this,"tokenConfig");k(this,"utils");k(this,"contentTypeOverride");k(this,"forceUseChunking");k(this,"arbundles");k(this,"irysTransaction");this.api=e,this.token=n,this.tokenConfig=s,this.arbundles=this.tokenConfig.irys.arbundles,this.utils=r,this.irysTransaction=i}async uploadTransaction(e,r){let n;const s=this.arbundles.DataItem.isDataItem(e);if(this.forceUseChunking||s&&e.getRaw().length>=Ml||!s)n=await this.chunkedUploader.uploadTransaction(s?e.getRaw():e,r);else{const{url:i,timeout:a,headers:o}=this.api.getConfig(),u={"Content-Type":"application/octet-stream",...o};if(n=await this.api.post(new URL(`/tx/${this.token}`,i).toString(),e.getRaw(),{headers:u,timeout:a,maxBodyLength:1/0}),n.status===201)throw new Error(n.data)}switch(n.status){case 402:throw new Error("Not enough funds to send data");default:if(n.status>=400)throw new Error(`whilst uploading Irys transaction: ${n.status} ${n.statusText}`)}return n.data.verify=async()=>this.utils.verifyReceipt(n.data),n}async uploadData(e,r){if(typeof e=="string"&&(e=eu.from(e)),eu.isBuffer(e)&&e.length<=Ml){const n=this.arbundles.createData(e,this.tokenConfig.getSigner(),{...r,anchor:(r==null?void 0:r.anchor)??(0,ur.randomBytes)(32).toString("base64").slice(0,32)});return await n.sign(this.tokenConfig.getSigner()),(await this.uploadTransaction(n,{...r==null?void 0:r.upload})).data}return(await this.chunkedUploader.uploadData(e,r)).data}async concurrentUploader(e,r){const n=[],s=r!=null&&r.logFunction?r==null?void 0:r.logFunction:async o=>{},i=(r==null?void 0:r.concurrency)??5,a=await zm.PromisePool.for(e).withConcurrency(i>=1?i:5).handleError(async(o,u)=>{if(n.push(o),o.message==="Not enough funds to send data")throw o}).process(async(o,u,h)=>{await Er(async m=>{try{const E=await this.processItem(o,r==null?void 0:r.itemOptions);return u%i==0&&await s(`Processed ${u} Items`),r!=null&&r.resultProcessor?await r.resultProcessor({item:o,res:E,i:u}):{item:o,res:E,i:u}}catch(E){throw(E==null?void 0:E.message)==="Not enough funds to send data"&&m(E),E}},{retries:3,minTimeout:1e3,maxTimeout:1e4})});return{errors:n,results:a.results}}async processItem(e,r){return this.arbundles.DataItem.isDataItem(e)?this.uploadTransaction(e,{...r==null?void 0:r.upload}):this.uploadData(e,r)}async generateManifest(e){const{items:r,indexFile:n}=e,s={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(n){if(!r.has(n))throw new Error(`Unable to access item: ${n}`);s.index={path:n}}for(const[i,a]of r.entries())s.paths[i]={id:a};return s}get chunkedUploader(){return new Jm(this.tokenConfig,this.api)}set useChunking(e){typeof e=="boolean"&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}async uploadBundle(e,r){const n=(r==null?void 0:r.throwawayKey)??await this.arbundles.getCryptoDriver().generateJWK(),s=new Ji(n),i=e.map(m=>this.arbundles.DataItem.isDataItem(m)?m:this.arbundles.createData(m,s)),a=await this.arbundles.bundleAndSignData(i,s),o=this.arbundles.createData(a.getRaw(),this.tokenConfig.getSigner(),{tags:[{name:"Bundle-Format",value:"binary"},{name:"Bundle-Version",value:"2.0.0"}]});await o.sign(this.tokenConfig.getSigner());const u=await this.uploadTransaction(o,r),h=Ae(eu.from(await this.arbundles.getCryptoDriver().hash(Ae.toBuffer(Ae(s.publicKey)))));return{...u,txs:i,throwawayKey:n,throwawayKeyAddress:h}}}var Fl=l(55872).Buffer;class Ll extends Xm{constructor(r){super(r.api,r.utils,r.token,r.tokenConfig,r.IrysTransaction);k(this,"irys");this.irys=r}async uploadFile(r,n){const i=(n!=null&&n.tags?n.tags.some(({name:a})=>a.toLowerCase()==="content-type"):!1)?n==null?void 0:n.tags:[...(n==null?void 0:n.tags)??[],{name:"Content-Type",value:r.type}];return this.uploadData(Fl.from(await r.arrayBuffer()),{tags:i,...n})}async uploadFolder(r,n){const s=[],i=new Map,a=(n==null?void 0:n.throwawayKey)??await this.irys.arbundles.getCryptoDriver().generateJWK(),o=new Ji(a);for(const E of r){const B=E.webkitRelativePath?E.webkitRelativePath:E.name,O=(E.tags?E.tags.some(({name:Z})=>Z.toLowerCase()==="content-type"):!1)?E.tags:[...E.tags??[],{name:"Content-Type",value:E.type}],$=this.irys.arbundles.createData(Fl.from(await E.arrayBuffer()),o,{tags:O});await $.sign(o),s.push($),i.set(B,$.id)}const u=await this.generateManifest({items:i,indexFile:n==null?void 0:n.indexFileRelPath}),h=this.irys.arbundles.createData(JSON.stringify(u),n!=null&&n.seperateManifestTx?this.irys.tokenConfig.getSigner():o,{tags:[{name:"Type",value:"manifest"},{name:"Content-Type",value:"application/x.arweave-manifest+json"},...(n==null?void 0:n.manifestTags)??[]]});(n==null?void 0:n.seperateManifestTx)===!0?(await h.sign(this.irys.tokenConfig.getSigner()),await this.uploadTransaction(h,{...n})):(await h.sign(o),s.push(h));const m=await this.uploadBundle(s,{...n});return{...m.data,manifestId:h.id,manifest:u,throwawayKey:m.throwawayKey,throwawayKeyAddress:m.throwawayKeyAddress,txs:m.txs}}}class Zm extends To{constructor({url:r,token:n,wallet:s,config:i}){switch(r){case void 0:case"node1":r="https://node1.irys.xyz";break;case"node2":r="https://node2.irys.xyz";break;case"devnet":r="https://devnet.irys.xyz";break}const a=new URL(r);super({url:a,arbundles:g});k(this,"tokenConfig");k(this,"uploader");k(this,"uploadFolder");k(this,"uploadFile");if(this.api=new g0({url:a,timeout:(i==null?void 0:i.timeout)??1e5,headers:i==null?void 0:i.headers}),this.tokenConfig=Lm({irys:this,token:n.toLowerCase(),wallet:s==null?void 0:s.provider,providerUrl:(i==null?void 0:i.providerUrl)??(s==null?void 0:s.rpcUrl),contractAddress:i==null?void 0:i.contractAddress,providerName:s==null?void 0:s.name}),this.token=this.tokenConfig.name,a.host==="devnet.irys.network"&&!((i==null?void 0:i.providerUrl)??((s==null?void 0:s.rpcUrl)||this.tokenConfig.inheritsRPC)))throw new Error(`Using ${a.host} requires a dev/testnet RPC to be configured! see https://docs.irys.network/sdk/using-devnet`);this.utils=new ot(this.api,this.token,this.tokenConfig),this.uploader=new Ll(this),this.funder=new b0(this.utils),this.uploader=new Ll(this),this.provenance=new Hm(this),this.transactions=new Km(this),this.address="Please run `await Irys.ready()`",this.uploadFolder=this.uploader.uploadFolder.bind(this.uploader),this.uploadFile=this.uploader.uploadFile.bind(this.uploader)}}var Hl=Zm}}]);
}());