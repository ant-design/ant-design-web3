!(function(){var y1=Object.defineProperty;var rb=Zt=>{throw TypeError(Zt)};var v1=(Zt,ct,D)=>ct in Zt?y1(Zt,ct,{enumerable:!0,configurable:!0,writable:!0,value:D}):Zt[ct]=D;var Ve=(Zt,ct,D)=>v1(Zt,typeof ct!="symbol"?ct+"":ct,D),q0=(Zt,ct,D)=>ct.has(Zt)||rb("Cannot "+D);var I=(Zt,ct,D)=>(q0(Zt,ct,"read from private field"),D?D.call(Zt):ct.get(Zt)),Ze=(Zt,ct,D)=>ct.has(Zt)?rb("Cannot add the same private member more than once"):ct instanceof WeakSet?ct.add(Zt):ct.set(Zt,D),Q=(Zt,ct,D,x)=>(q0(Zt,ct,"write to private field"),x?x.call(Zt,D):ct.set(Zt,D),D),Ot=(Zt,ct,D)=>(q0(Zt,ct,"access private method"),D);var kd=(Zt,ct,D,x)=>({set _(ie){Q(Zt,ct,ie,D)},get _(){return I(Zt,ct,x)}});(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[5894],{88513:function(Zt,ct){"use strict";var D;D={value:!0},ct.yH=D=D=D=void 0;function x(M){if(Array.isArray(M)){const q=[];let ue=0;for(let _e=0;_e<M.length;_e++){const ee=x(M[_e]);q.push(ee),ue+=ee.length}return P(J(ue,192),...q)}const fe=Se(M);return fe.length===1&&fe[0]<128?fe:P(J(fe.length,128),fe)}D=x;function ie(M,fe,q){if(q>M.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return M.slice(fe,q)}function le(M){if(M[0]===0)throw new Error("invalid RLP: extra zeros");return L(O(M))}function J(M,fe){if(M<56)return Uint8Array.from([M+fe]);const q=ae(M),ue=q.length/2,_e=ae(fe+55+ue);return Uint8Array.from(be(_e+q))}function de(M,fe=!1){if(typeof M>"u"||M===null||M.length===0)return Uint8Array.from([]);const q=Se(M),ue=Te(q);if(fe)return ue;if(ue.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return ue.data}D=de;function Te(M){let fe,q,ue,_e,ee;const S=[],oe=M[0];if(oe<=127)return{data:M.slice(0,1),remainder:M.slice(1)};if(oe<=183){if(fe=oe-127,oe===128?ue=Uint8Array.from([]):ue=ie(M,1,fe),fe===2&&ue[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:ue,remainder:M.slice(fe)}}else if(oe<=191){if(q=oe-182,M.length-1<q)throw new Error("invalid RLP: not enough bytes for string length");if(fe=le(ie(M,1,q)),fe<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return ue=ie(M,q,fe+q),{data:ue,remainder:M.slice(fe+q)}}else if(oe<=247){for(fe=oe-191,_e=ie(M,1,fe);_e.length;)ee=Te(_e),S.push(ee.data),_e=ee.remainder;return{data:S,remainder:M.slice(fe)}}else{if(q=oe-246,fe=le(ie(M,1,q)),fe<56)throw new Error("invalid RLP: encoded list too short");const F=q+fe;if(F>M.length)throw new Error("invalid RLP: total length is larger than the data");for(_e=ie(M,q,F);_e.length;)ee=Te(_e),S.push(ee.data),_e=ee.remainder;return{data:S,remainder:M.slice(F)}}}const v=Array.from({length:256},(M,fe)=>fe.toString(16).padStart(2,"0"));function O(M){let fe="";for(let q=0;q<M.length;q++)fe+=v[M[q]];return fe}function L(M){const fe=Number.parseInt(M,16);if(Number.isNaN(fe))throw new Error("Invalid byte sequence");return fe}function be(M){if(typeof M!="string")throw new TypeError("hexToBytes: expected string, got "+typeof M);if(M.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const fe=new Uint8Array(M.length/2);for(let q=0;q<fe.length;q++){const ue=q*2;fe[q]=L(M.slice(ue,ue+2))}return fe}function P(...M){if(M.length===1)return M[0];const fe=M.reduce((ue,_e)=>ue+_e.length,0),q=new Uint8Array(fe);for(let ue=0,_e=0;ue<M.length;ue++){const ee=M[ue];q.set(ee,_e),_e+=ee.length}return q}function Ae(M){return new TextEncoder().encode(M)}function ae(M){if(M<0)throw new Error("Invalid integer as argument, must be unsigned!");const fe=M.toString(16);return fe.length%2?`0${fe}`:fe}function j(M){return M.length%2?`0${M}`:M}function $(M){return M.length>=2&&M[0]==="0"&&M[1]==="x"}function se(M){return typeof M!="string"?M:$(M)?M.slice(2):M}function Se(M){if(M instanceof Uint8Array)return M;if(typeof M=="string")return $(M)?be(j(se(M))):Ae(M);if(typeof M=="number"||typeof M=="bigint")return M?be(ae(M)):Uint8Array.from([]);if(M==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof M)}D={bytesToHex:O,concatBytes:P,hexToBytes:be,utf8ToBytes:Ae},ct.yH={encode:x,decode:de}},70090:function(Zt,ct){var D;(function(x){x(typeof DO_NOT_EXPORT_CRC>"u"?ct:D={})})(function(x){x.version="1.2.2";function ie(){for(var S=0,oe=new Array(256),F=0;F!=256;++F)S=F,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,oe[F]=S;return typeof Int32Array<"u"?new Int32Array(oe):oe}var le=ie();function J(S){var oe=0,F=0,re=0,Be=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(re=0;re!=256;++re)Be[re]=S[re];for(re=0;re!=256;++re)for(F=S[re],oe=256+re;oe<4096;oe+=256)F=Be[oe]=F>>>8^S[F&255];var Ye=[];for(re=1;re!=16;++re)Ye[re-1]=typeof Int32Array<"u"?Be.subarray(re*256,re*256+256):Be.slice(re*256,re*256+256);return Ye}var de=J(le),Te=de[0],v=de[1],O=de[2],L=de[3],be=de[4],P=de[5],Ae=de[6],ae=de[7],j=de[8],$=de[9],se=de[10],Se=de[11],M=de[12],fe=de[13],q=de[14];function ue(S,oe){for(var F=oe^-1,re=0,Be=S.length;re<Be;)F=F>>>8^le[(F^S.charCodeAt(re++))&255];return~F}function _e(S,oe){for(var F=oe^-1,re=S.length-15,Be=0;Be<re;)F=q[S[Be++]^F&255]^fe[S[Be++]^F>>8&255]^M[S[Be++]^F>>16&255]^Se[S[Be++]^F>>>24]^se[S[Be++]]^$[S[Be++]]^j[S[Be++]]^ae[S[Be++]]^Ae[S[Be++]]^P[S[Be++]]^be[S[Be++]]^L[S[Be++]]^O[S[Be++]]^v[S[Be++]]^Te[S[Be++]]^le[S[Be++]];for(re+=15;Be<re;)F=F>>>8^le[(F^S[Be++])&255];return~F}function ee(S,oe){for(var F=oe^-1,re=0,Be=S.length,Ye=0,pe=0;re<Be;)Ye=S.charCodeAt(re++),Ye<128?F=F>>>8^le[(F^Ye)&255]:Ye<2048?(F=F>>>8^le[(F^(192|Ye>>6&31))&255],F=F>>>8^le[(F^(128|Ye&63))&255]):Ye>=55296&&Ye<57344?(Ye=(Ye&1023)+64,pe=S.charCodeAt(re++)&1023,F=F>>>8^le[(F^(240|Ye>>8&7))&255],F=F>>>8^le[(F^(128|Ye>>2&63))&255],F=F>>>8^le[(F^(128|pe>>6&15|(Ye&3)<<4))&255],F=F>>>8^le[(F^(128|pe&63))&255]):(F=F>>>8^le[(F^(224|Ye>>12&15))&255],F=F>>>8^le[(F^(128|Ye>>6&63))&255],F=F>>>8^le[(F^(128|Ye&63))&255]);return~F}x.table=le,x.bstr=ue,x.buf=_e,x.str=ee})},64168:function(Zt,ct,D){var x=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof D.g<"u"&&D.g,ie=function(){function J(){this.fetch=!1,this.DOMException=x.DOMException}return J.prototype=x,new J}();(function(J){var de=function(Te){var v=typeof J<"u"&&J||typeof self<"u"&&self||typeof v<"u"&&v,O={searchParams:"URLSearchParams"in v,iterable:"Symbol"in v&&"iterator"in Symbol,blob:"FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in v,arrayBuffer:"ArrayBuffer"in v};function L(V){return V&&DataView.prototype.isPrototypeOf(V)}if(O.arrayBuffer)var be=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],P=ArrayBuffer.isView||function(V){return V&&be.indexOf(Object.prototype.toString.call(V))>-1};function Ae(V){if(typeof V!="string"&&(V=String(V)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(V)||V==="")throw new TypeError('Invalid character in header field name: "'+V+'"');return V.toLowerCase()}function ae(V){return typeof V!="string"&&(V=String(V)),V}function j(V){var U={next:function(){var X=V.shift();return{done:X===void 0,value:X}}};return O.iterable&&(U[Symbol.iterator]=function(){return U}),U}function $(V){this.map={},V instanceof $?V.forEach(function(U,X){this.append(X,U)},this):Array.isArray(V)?V.forEach(function(U){this.append(U[0],U[1])},this):V&&Object.getOwnPropertyNames(V).forEach(function(U){this.append(U,V[U])},this)}$.prototype.append=function(V,U){V=Ae(V),U=ae(U);var X=this.map[V];this.map[V]=X?X+", "+U:U},$.prototype.delete=function(V){delete this.map[Ae(V)]},$.prototype.get=function(V){return V=Ae(V),this.has(V)?this.map[V]:null},$.prototype.has=function(V){return this.map.hasOwnProperty(Ae(V))},$.prototype.set=function(V,U){this.map[Ae(V)]=ae(U)},$.prototype.forEach=function(V,U){for(var X in this.map)this.map.hasOwnProperty(X)&&V.call(U,this.map[X],X,this)},$.prototype.keys=function(){var V=[];return this.forEach(function(U,X){V.push(X)}),j(V)},$.prototype.values=function(){var V=[];return this.forEach(function(U){V.push(U)}),j(V)},$.prototype.entries=function(){var V=[];return this.forEach(function(U,X){V.push([X,U])}),j(V)},O.iterable&&($.prototype[Symbol.iterator]=$.prototype.entries);function se(V){if(V.bodyUsed)return Promise.reject(new TypeError("Already read"));V.bodyUsed=!0}function Se(V){return new Promise(function(U,X){V.onload=function(){U(V.result)},V.onerror=function(){X(V.error)}})}function M(V){var U=new FileReader,X=Se(U);return U.readAsArrayBuffer(V),X}function fe(V){var U=new FileReader,X=Se(U);return U.readAsText(V),X}function q(V){for(var U=new Uint8Array(V),X=new Array(U.length),me=0;me<U.length;me++)X[me]=String.fromCharCode(U[me]);return X.join("")}function ue(V){if(V.slice)return V.slice(0);var U=new Uint8Array(V.byteLength);return U.set(new Uint8Array(V)),U.buffer}function _e(){return this.bodyUsed=!1,this._initBody=function(V){this.bodyUsed=this.bodyUsed,this._bodyInit=V,V?typeof V=="string"?this._bodyText=V:O.blob&&Blob.prototype.isPrototypeOf(V)?this._bodyBlob=V:O.formData&&FormData.prototype.isPrototypeOf(V)?this._bodyFormData=V:O.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)?this._bodyText=V.toString():O.arrayBuffer&&O.blob&&L(V)?(this._bodyArrayBuffer=ue(V.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):O.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(V)||P(V))?this._bodyArrayBuffer=ue(V):this._bodyText=V=Object.prototype.toString.call(V):this._bodyText="",this.headers.get("content-type")||(typeof V=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):O.searchParams&&URLSearchParams.prototype.isPrototypeOf(V)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},O.blob&&(this.blob=function(){var V=se(this);if(V)return V;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var V=se(this);return V||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(M)}),this.text=function(){var V=se(this);if(V)return V;if(this._bodyBlob)return fe(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(q(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},O.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var ee=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(V){var U=V.toUpperCase();return ee.indexOf(U)>-1?U:V}function oe(V,U){if(!(this instanceof oe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');U=U||{};var X=U.body;if(V instanceof oe){if(V.bodyUsed)throw new TypeError("Already read");this.url=V.url,this.credentials=V.credentials,U.headers||(this.headers=new $(V.headers)),this.method=V.method,this.mode=V.mode,this.signal=V.signal,!X&&V._bodyInit!=null&&(X=V._bodyInit,V.bodyUsed=!0)}else this.url=String(V);if(this.credentials=U.credentials||this.credentials||"same-origin",(U.headers||!this.headers)&&(this.headers=new $(U.headers)),this.method=S(U.method||this.method||"GET"),this.mode=U.mode||this.mode||null,this.signal=U.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&X)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(X),(this.method==="GET"||this.method==="HEAD")&&(U.cache==="no-store"||U.cache==="no-cache")){var me=/([?&])_=[^&]*/;if(me.test(this.url))this.url=this.url.replace(me,"$1_="+new Date().getTime());else{var ke=/\?/;this.url+=(ke.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}oe.prototype.clone=function(){return new oe(this,{body:this._bodyInit})};function F(V){var U=new FormData;return V.trim().split("&").forEach(function(X){if(X){var me=X.split("="),ke=me.shift().replace(/\+/g," "),Ke=me.join("=").replace(/\+/g," ");U.append(decodeURIComponent(ke),decodeURIComponent(Ke))}}),U}function re(V){var U=new $,X=V.replace(/\r?\n[\t ]+/g," ");return X.split("\r").map(function(me){return me.indexOf(`
`)===0?me.substr(1,me.length):me}).forEach(function(me){var ke=me.split(":"),Ke=ke.shift().trim();if(Ke){var nt=ke.join(":").trim();U.append(Ke,nt)}}),U}_e.call(oe.prototype);function Be(V,U){if(!(this instanceof Be))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');U||(U={}),this.type="default",this.status=U.status===void 0?200:U.status,this.ok=this.status>=200&&this.status<300,this.statusText=U.statusText===void 0?"":""+U.statusText,this.headers=new $(U.headers),this.url=U.url||"",this._initBody(V)}_e.call(Be.prototype),Be.prototype.clone=function(){return new Be(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $(this.headers),url:this.url})},Be.error=function(){var V=new Be(null,{status:0,statusText:""});return V.type="error",V};var Ye=[301,302,303,307,308];Be.redirect=function(V,U){if(Ye.indexOf(U)===-1)throw new RangeError("Invalid status code");return new Be(null,{status:U,headers:{location:V}})},Te.DOMException=v.DOMException;try{new Te.DOMException}catch{Te.DOMException=function(U,X){this.message=U,this.name=X;var me=Error(U);this.stack=me.stack},Te.DOMException.prototype=Object.create(Error.prototype),Te.DOMException.prototype.constructor=Te.DOMException}function pe(V,U){return new Promise(function(X,me){var ke=new oe(V,U);if(ke.signal&&ke.signal.aborted)return me(new Te.DOMException("Aborted","AbortError"));var Ke=new XMLHttpRequest;function nt(){Ke.abort()}Ke.onload=function(){var De={status:Ke.status,statusText:Ke.statusText,headers:re(Ke.getAllResponseHeaders()||"")};De.url="responseURL"in Ke?Ke.responseURL:De.headers.get("X-Request-URL");var Fe="response"in Ke?Ke.response:Ke.responseText;setTimeout(function(){X(new Be(Fe,De))},0)},Ke.onerror=function(){setTimeout(function(){me(new TypeError("Network request failed"))},0)},Ke.ontimeout=function(){setTimeout(function(){me(new TypeError("Network request failed"))},0)},Ke.onabort=function(){setTimeout(function(){me(new Te.DOMException("Aborted","AbortError"))},0)};function ze(De){try{return De===""&&v.location.href?v.location.href:De}catch{return De}}Ke.open(ke.method,ze(ke.url),!0),ke.credentials==="include"?Ke.withCredentials=!0:ke.credentials==="omit"&&(Ke.withCredentials=!1),"responseType"in Ke&&(O.blob?Ke.responseType="blob":O.arrayBuffer&&ke.headers.get("Content-Type")&&ke.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Ke.responseType="arraybuffer")),U&&typeof U.headers=="object"&&!(U.headers instanceof $)?Object.getOwnPropertyNames(U.headers).forEach(function(De){Ke.setRequestHeader(De,ae(U.headers[De]))}):ke.headers.forEach(function(De,Fe){Ke.setRequestHeader(Fe,De)}),ke.signal&&(ke.signal.addEventListener("abort",nt),Ke.onreadystatechange=function(){Ke.readyState===4&&ke.signal.removeEventListener("abort",nt)}),Ke.send(typeof ke._bodyInit>"u"?null:ke._bodyInit)})}return pe.polyfill=!0,v.fetch||(v.fetch=pe,v.Headers=$,v.Request=oe,v.Response=Be),Te.Headers=$,Te.Request=oe,Te.Response=Be,Te.fetch=pe,Te}({})})(ie),ie.fetch.ponyfill=!0,delete ie.fetch.polyfill;var le=x.fetch?x:ie;ct=le.fetch,ct.default=le.fetch,ct.fetch=le.fetch,ct.Headers=le.Headers,ct.Request=le.Request,ct.Response=le.Response,Zt.exports=ct},22353:function(Zt,ct,D){var x=D(14224);(function(ie,le){"use strict";if(ie.setImmediate)return;var J=1,de={},Te=!1,v=ie.document,O;function L(q){typeof q!="function"&&(q=new Function(""+q));for(var ue=new Array(arguments.length-1),_e=0;_e<ue.length;_e++)ue[_e]=arguments[_e+1];var ee={callback:q,args:ue};return de[J]=ee,O(J),J++}function be(q){delete de[q]}function P(q){var ue=q.callback,_e=q.args;switch(_e.length){case 0:ue();break;case 1:ue(_e[0]);break;case 2:ue(_e[0],_e[1]);break;case 3:ue(_e[0],_e[1],_e[2]);break;default:ue.apply(le,_e);break}}function Ae(q){if(Te)setTimeout(Ae,0,q);else{var ue=de[q];if(ue){Te=!0;try{P(ue)}finally{be(q),Te=!1}}}}function ae(){O=function(q){x.nextTick(function(){Ae(q)})}}function j(){if(ie.postMessage&&!ie.importScripts){var q=!0,ue=ie.onmessage;return ie.onmessage=function(){q=!1},ie.postMessage("","*"),ie.onmessage=ue,q}}function $(){var q="setImmediate$"+Math.random()+"$",ue=function(_e){_e.source===ie&&typeof _e.data=="string"&&_e.data.indexOf(q)===0&&Ae(+_e.data.slice(q.length))};ie.addEventListener?ie.addEventListener("message",ue,!1):ie.attachEvent("onmessage",ue),O=function(_e){ie.postMessage(q+_e,"*")}}function se(){var q=new MessageChannel;q.port1.onmessage=function(ue){var _e=ue.data;Ae(_e)},O=function(ue){q.port2.postMessage(ue)}}function Se(){var q=v.documentElement;O=function(ue){var _e=v.createElement("script");_e.onreadystatechange=function(){Ae(ue),_e.onreadystatechange=null,q.removeChild(_e),_e=null},q.appendChild(_e)}}function M(){O=function(q){setTimeout(Ae,0,q)}}var fe=Object.getPrototypeOf&&Object.getPrototypeOf(ie);fe=fe&&fe.setTimeout?fe:ie,{}.toString.call(ie.process)==="[object process]"?ae():j()?$():ie.MessageChannel?se():v&&"onreadystatechange"in v.createElement("script")?Se():M(),fe.setImmediate=L,fe.clearImmediate=be})(typeof self>"u"?typeof D.g>"u"?this:D.g:self)},42545:function(Zt,ct,D){"use strict";var x=D(1735);function ie(Ae,ae){return Ae===ae&&(Ae!==0||1/Ae===1/ae)||Ae!==Ae&&ae!==ae}var le=typeof Object.is=="function"?Object.is:ie,J=x.useState,de=x.useEffect,Te=x.useLayoutEffect,v=x.useDebugValue;function O(Ae,ae){var j=ae(),$=J({inst:{value:j,getSnapshot:ae}}),se=$[0].inst,Se=$[1];return Te(function(){se.value=j,se.getSnapshot=ae,L(se)&&Se({inst:se})},[Ae,j,ae]),de(function(){return L(se)&&Se({inst:se}),Ae(function(){L(se)&&Se({inst:se})})},[Ae]),v(j),j}function L(Ae){var ae=Ae.getSnapshot;Ae=Ae.value;try{var j=ae();return!le(Ae,j)}catch{return!0}}function be(Ae,ae){return ae()}var P=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?be:O;ct.useSyncExternalStore=x.useSyncExternalStore!==void 0?x.useSyncExternalStore:P},14632:function(Zt,ct,D){"use strict";var x=D(1735),ie=D(68154);function le(be,P){return be===P&&(be!==0||1/be===1/P)||be!==be&&P!==P}var J=typeof Object.is=="function"?Object.is:le,de=ie.useSyncExternalStore,Te=x.useRef,v=x.useEffect,O=x.useMemo,L=x.useDebugValue;ct.useSyncExternalStoreWithSelector=function(be,P,Ae,ae,j){var $=Te(null);if($.current===null){var se={hasValue:!1,value:null};$.current=se}else se=$.current;$=O(function(){function M(ee){if(!fe){if(fe=!0,q=ee,ee=ae(ee),j!==void 0&&se.hasValue){var S=se.value;if(j(S,ee))return ue=S}return ue=ee}if(S=ue,J(q,ee))return S;var oe=ae(ee);return j!==void 0&&j(S,oe)?S:(q=ee,ue=oe)}var fe=!1,q,ue,_e=Ae===void 0?null:Ae;return[function(){return M(P())},_e===null?void 0:function(){return M(_e())}]},[P,Ae,ae,j]);var Se=de(be,$[0],$[1]);return v(function(){se.hasValue=!0,se.value=Se},[Se]),L(Se),Se}},68154:function(Zt,ct,D){"use strict";Zt.exports=D(42545)},91841:function(Zt,ct,D){"use strict";Zt.exports=D(14632)},26495:function(Zt,ct,D){"use strict";D.d(ct,{Q6:function(){return Gr}});var x="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const ie=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),le=4;function J(ge){let $e=0;function Qe(){return ge[$e++]<<8|ge[$e++]}let lt=Qe(),it=1,vt=[0,1];for(let Ur=1;Ur<lt;Ur++)vt.push(it+=Qe());let Et=Qe(),Dt=$e;$e+=Et;let Nn=0,or=0;function fn(){return Nn==0&&(or=or<<8|ge[$e++],Nn=8),or>>--Nn&1}const Hn=31,On=2**Hn,pr=On>>>1,Jr=pr>>1,Fr=On-1;let Kr=0;for(let Ur=0;Ur<Hn;Ur++)Kr=Kr<<1|fn();let Bs=[],Ti=0,Ps=On;for(;;){let Ur=Math.floor(((Kr-Ti+1)*it-1)/Ps),sn=0,hn=lt;for(;hn-sn>1;){let ai=sn+hn>>>1;Ur<vt[ai]?hn=ai:sn=ai}if(sn==0)break;Bs.push(sn);let ar=Ti+Math.floor(Ps*vt[sn]/it),oi=Ti+Math.floor(Ps*vt[sn+1]/it)-1;for(;!((ar^oi)&pr);)Kr=Kr<<1&Fr|fn(),ar=ar<<1&Fr,oi=oi<<1&Fr|1;for(;ar&~oi&Jr;)Kr=Kr&pr|Kr<<1&Fr>>>1|fn(),ar=ar<<1^pr,oi=(oi^pr)<<1|pr|1;Ti=ar,Ps=1+oi-ar}let Ms=lt-4;return Bs.map(Ur=>{switch(Ur-Ms){case 3:return Ms+65792+(ge[Dt++]<<16|ge[Dt++]<<8|ge[Dt++]);case 2:return Ms+256+(ge[Dt++]<<8|ge[Dt++]);case 1:return Ms+ge[Dt++];default:return Ur-1}})}function de(ge){let $e=0;return()=>ge[$e++]}function Te(ge){return de(J(v(ge)))}function v(ge){let $e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((it,vt)=>$e[it.charCodeAt(0)]=vt);let Qe=ge.length,lt=new Uint8Array(6*Qe>>3);for(let it=0,vt=0,Et=0,Dt=0;it<Qe;it++)Dt=Dt<<6|$e[ge.charCodeAt(it)],Et+=6,Et>=8&&(lt[vt++]=Dt>>(Et-=8));return lt}function O(ge){return ge&1?~ge>>1:ge>>1}function L(ge,$e){let Qe=Array(ge);for(let lt=0,it=0;lt<ge;lt++)Qe[lt]=it+=O($e());return Qe}function be(ge,$e=0){let Qe=[];for(;;){let lt=ge(),it=ge();if(!it)break;$e+=lt;for(let vt=0;vt<it;vt++)Qe.push($e+vt);$e+=it+1}return Qe}function P(ge){return ae(()=>{let $e=be(ge);if($e.length)return $e})}function Ae(ge){let $e=[];for(;;){let Qe=ge();if(Qe==0)break;$e.push($(Qe,ge))}for(;;){let Qe=ge()-1;if(Qe<0)break;$e.push(se(Qe,ge))}return $e.flat()}function ae(ge){let $e=[];for(;;){let Qe=ge($e.length);if(!Qe)break;$e.push(Qe)}return $e}function j(ge,$e,Qe){let lt=Array(ge).fill().map(()=>[]);for(let it=0;it<$e;it++)L(ge,Qe).forEach((vt,Et)=>lt[Et].push(vt));return lt}function $(ge,$e){let Qe=1+$e(),lt=$e(),it=ae($e);return j(it.length,1+ge,$e).flatMap((Et,Dt)=>{let[Nn,...or]=Et;return Array(it[Dt]).fill().map((fn,Hn)=>{let On=Hn*lt;return[Nn+Hn*Qe,or.map(pr=>pr+On)]})})}function se(ge,$e){let Qe=1+$e();return j(Qe,1+ge,$e).map(it=>[it[0],it.slice(1)])}function Se(ge){let $e=[],Qe=be(ge);return it(lt([]),[]),$e;function lt(vt){let Et=ge(),Dt=ae(()=>{let Nn=be(ge).map(or=>Qe[or]);if(Nn.length)return lt(Nn)});return{S:Et,B:Dt,Q:vt}}function it({S:vt,B:Et},Dt,Nn){if(!(vt&4&&Nn===Dt[Dt.length-1])){vt&2&&(Nn=Dt[Dt.length-1]),vt&1&&$e.push(Dt);for(let or of Et)for(let fn of or.Q)it(or,[...Dt,fn],Nn)}}}function M(ge){return ge.toString(16).toUpperCase().padStart(2,"0")}function fe(ge){return`{${M(ge)}}`}function q(ge){let $e=[];for(let Qe=0,lt=ge.length;Qe<lt;){let it=ge.codePointAt(Qe);Qe+=it<65536?1:2,$e.push(it)}return $e}function ue(ge){let Qe=ge.length;if(Qe<4096)return String.fromCodePoint(...ge);let lt=[];for(let it=0;it<Qe;)lt.push(String.fromCodePoint(...ge.slice(it,it+=4096)));return lt.join("")}function _e(ge,$e){let Qe=ge.length,lt=Qe-$e.length;for(let it=0;lt==0&&it<Qe;it++)lt=ge[it]-$e[it];return lt}var ee="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const S=44032,oe=4352,F=4449,re=4519,Be=19,Ye=21,pe=28,V=Ye*pe,U=Be*V,X=S+U,me=oe+Be,ke=F+Ye,Ke=re+pe;function nt(ge){return ge>>24&255}function ze(ge){return ge&16777215}let De,Fe,at,_t;function Pt(){let ge=Te(ee);De=new Map(P(ge).flatMap(($e,Qe)=>$e.map(lt=>[lt,Qe+1<<24]))),Fe=new Set(be(ge)),at=new Map,_t=new Map;for(let[$e,Qe]of Ae(ge)){if(!Fe.has($e)&&Qe.length==2){let[lt,it]=Qe,vt=_t.get(lt);vt||(vt=new Map,_t.set(lt,vt)),vt.set(it,$e)}at.set($e,Qe.reverse())}}function En(ge){return ge>=S&&ge<X}function wr(ge,$e){if(ge>=oe&&ge<me&&$e>=F&&$e<ke)return S+(ge-oe)*V+($e-F)*pe;if(En(ge)&&$e>re&&$e<Ke&&(ge-S)%pe==0)return ge+($e-re);{let Qe=_t.get(ge);return Qe&&(Qe=Qe.get($e),Qe)?Qe:-1}}function zt(ge){De||Pt();let $e=[],Qe=[],lt=!1;function it(vt){let Et=De.get(vt);Et&&(lt=!0,vt|=Et),$e.push(vt)}for(let vt of ge)for(;;){if(vt<128)$e.push(vt);else if(En(vt)){let Et=vt-S,Dt=Et/V|0,Nn=Et%V/pe|0,or=Et%pe;it(oe+Dt),it(F+Nn),or>0&&it(re+or)}else{let Et=at.get(vt);Et?Qe.push(...Et):it(vt)}if(!Qe.length)break;vt=Qe.pop()}if(lt&&$e.length>1){let vt=nt($e[0]);for(let Et=1;Et<$e.length;Et++){let Dt=nt($e[Et]);if(Dt==0||vt<=Dt){vt=Dt;continue}let Nn=Et-1;for(;;){let or=$e[Nn+1];if($e[Nn+1]=$e[Nn],$e[Nn]=or,!Nn||(vt=nt($e[--Nn]),vt<=Dt))break}vt=nt($e[Et])}}return $e}function tn(ge){let $e=[],Qe=[],lt=-1,it=0;for(let vt of ge){let Et=nt(vt),Dt=ze(vt);if(lt==-1)Et==0?lt=Dt:$e.push(Dt);else if(it>0&&it>=Et)Et==0?($e.push(lt,...Qe),Qe.length=0,lt=Dt):Qe.push(Dt),it=Et;else{let Nn=wr(lt,Dt);Nn>=0?lt=Nn:it==0&&Et==0?($e.push(lt),lt=Dt):(Qe.push(Dt),it=Et)}}return lt>=0&&$e.push(lt,...Qe),$e}function $n(ge){return zt(ge).map(ze)}function tr(ge){return tn(zt(ge))}const Gn=45,_r=46,Cr=".",nr=65039,_n=1,Oe=ge=>Array.from(ge);function Mt(ge,$e){return ge.P.has($e)||ge.Q.has($e)}class Ht extends Array{get is_emoji(){return!0}}let Kt,zr,xn,He,k,N,xe,Je,pt,ot,bt,kt;function In(){if(Kt)return;let ge=Te(x);const $e=()=>be(ge),Qe=()=>new Set($e()),lt=(fn,Hn)=>Hn.forEach(On=>fn.add(On));Kt=new Map(Ae(ge)),zr=Qe(),xn=$e(),He=new Set($e().map(fn=>xn[fn])),xn=new Set(xn),k=Qe(),N=Qe();let it=P(ge),vt=ge();const Et=()=>{let fn=new Set;return $e().forEach(Hn=>lt(fn,it[Hn])),lt(fn,$e()),fn};xe=ae(fn=>{let Hn=ae(ge).map(On=>On+96);if(Hn.length){let On=fn>=vt;Hn[0]-=32,Hn=ue(Hn),On&&(Hn=`Restricted[${Hn}]`);let pr=Et(),Jr=Et(),Fr=!ge();return{N:Hn,P:pr,Q:Jr,M:Fr,R:On}}}),Je=Qe(),pt=new Map;let Dt=$e().concat(Oe(Je)).sort((fn,Hn)=>fn-Hn);Dt.forEach((fn,Hn)=>{let On=ge(),pr=Dt[Hn]=On?Dt[Hn-On]:{V:[],M:new Map};pr.V.push(fn),Je.has(fn)||pt.set(fn,pr)});for(let{V:fn,M:Hn}of new Set(pt.values())){let On=[];for(let Jr of fn){let Fr=xe.filter(Bs=>Mt(Bs,Jr)),Kr=On.find(({G:Bs})=>Fr.some(Ti=>Bs.has(Ti)));Kr||(Kr={G:new Set,V:[]},On.push(Kr)),Kr.V.push(Jr),lt(Kr.G,Fr)}let pr=On.flatMap(Jr=>Oe(Jr.G));for(let{G:Jr,V:Fr}of On){let Kr=new Set(pr.filter(Bs=>!Jr.has(Bs)));for(let Bs of Fr)Hn.set(Bs,Kr)}}ot=new Set;let Nn=new Set;const or=fn=>ot.has(fn)?Nn.add(fn):ot.add(fn);for(let fn of xe){for(let Hn of fn.P)or(Hn);for(let Hn of fn.Q)or(Hn)}for(let fn of ot)!pt.has(fn)&&!Nn.has(fn)&&pt.set(fn,_n);lt(ot,$n(ot)),bt=Se(ge).map(fn=>Ht.from(fn)).sort(_e),kt=new Map;for(let fn of bt){let Hn=[kt];for(let On of fn){let pr=Hn.map(Jr=>{let Fr=Jr.get(On);return Fr||(Fr=new Map,Jr.set(On,Fr)),Fr});On===nr?Hn.push(...pr):Hn=pr}for(let On of Hn)On.V=fn}}function Qn(ge){return(as(ge)?"":`${ys(ir([ge]))} `)+fe(ge)}function ys(ge){return`"${ge}"\u200E`}function Os(ge){if(ge.length>=4&&ge[2]==Gn&&ge[3]==Gn)throw new Error(`invalid label extension: "${ue(ge.slice(0,4))}"`)}function ns(ge){for(let Qe=ge.lastIndexOf(95);Qe>0;)if(ge[--Qe]!==95)throw new Error("underscore allowed only at start")}function Zs(ge){let $e=ge[0],Qe=ie.get($e);if(Qe)throw ht(`leading ${Qe}`);let lt=ge.length,it=-1;for(let vt=1;vt<lt;vt++){$e=ge[vt];let Et=ie.get($e);if(Et){if(it==vt)throw ht(`${Qe} + ${Et}`);it=vt+1,Qe=Et}}if(it==lt)throw ht(`trailing ${Qe}`)}function ir(ge,$e=1/0,Qe=fe){let lt=[];hs(ge[0])&&lt.push("\u25CC"),ge.length>$e&&($e>>=1,ge=[...ge.slice(0,$e),8230,...ge.slice(-$e)]);let it=0,vt=ge.length;for(let Et=0;Et<vt;Et++){let Dt=ge[Et];as(Dt)&&(lt.push(ue(ge.slice(it,Et))),lt.push(Qe(Dt)),it=Et+1)}return lt.push(ue(ge.slice(it,vt))),lt.join("")}function hs(ge){return In(),xn.has(ge)}function as(ge){return In(),k.has(ge)}function Es(){return In(),bt.map(ge=>ge.slice())}function vs(ge,$e){In();let Qe=$e?$n:tr;return ge.split(Cr).map(lt=>ue(en(q(lt),Qe,Tt).flat())).join(Cr)}function Gr(ge){return W(ps(ge,tr,Tt))}function qs(ge){let $e=ps(ge,tr,Qe=>Qe);for(let{type:Qe,output:lt,error:it}of $e){if(it)break;Qe!=="Greek"&&ka(lt,958,926)}return W($e)}function ka(ge,$e,Qe){let lt=0;for(;;){let it=ge.indexOf($e,lt);if(it<0)break;ge[it]=Qe,lt=it+1}}function Js(ge,$e){return ps(ge,tr,$e?Qe=>Qe.slice():Tt)}function ps(ge,$e,Qe){if(!ge)return[];In();let lt=0;return ge.split(Cr).map(it=>{let vt=q(it),Et={input:vt,offset:lt};lt+=vt.length+1;try{let Dt=Et.tokens=en(vt,$e,Qe),Nn=Dt.length,or;if(!Nn)throw new Error("empty label");let fn=Et.output=Dt.flat();if(ns(fn),!(Et.emoji=Nn>1||Dt[0].is_emoji)&&fn.every(On=>On<128))Os(fn),or="ASCII";else{let On=Dt.flatMap(pr=>pr.is_emoji?[]:pr);if(!On.length)or="Emoji";else{if(xn.has(fn[0]))throw ht("leading combining mark");for(let Fr=1;Fr<Nn;Fr++){let Kr=Dt[Fr];if(!Kr.is_emoji&&xn.has(Kr[0]))throw ht(`emoji + combining mark: "${ue(Dt[Fr-1])} + ${ir([Kr[0]])}"`)}Zs(fn);let pr=Oe(new Set(On)),[Jr]=he(pr);Bt(Jr,On),mt(Jr,pr),or=Jr.N}}Et.type=or}catch(Dt){Et.error=Dt}return Et})}function mt(ge,$e){let Qe,lt=[];for(let it of $e){let vt=pt.get(it);if(vt===_n)return;if(vt){let Et=vt.M.get(it);if(Qe=Qe?Qe.filter(Dt=>Et.has(Dt)):Oe(Et),!Qe.length)return}else lt.push(it)}if(Qe){for(let it of Qe)if(lt.every(vt=>Mt(it,vt)))throw new Error(`whole-script confusable: ${ge.N}/${it.N}`)}}function he(ge){let $e=xe;for(let Qe of ge){let lt=$e.filter(it=>Mt(it,Qe));if(!lt.length)throw xe.some(it=>Mt(it,Qe))?rt($e[0],Qe):te(Qe);if($e=lt,lt.length==1)break}return $e}function W(ge){return ge.map(({input:$e,error:Qe,output:lt})=>{if(Qe){let it=Qe.message;throw new Error(ge.length==1?it:`Invalid label ${ys(ir($e,63))}: ${it}`)}return ue(lt)}).join(Cr)}function te(ge){return new Error(`disallowed character: ${Qn(ge)}`)}function rt(ge,$e){let Qe=Qn($e),lt=xe.find(it=>it.P.has($e));return lt&&(Qe=`${lt.N} ${Qe}`),new Error(`illegal mixture: ${ge.N} + ${Qe}`)}function ht(ge){return new Error(`illegal placement: ${ge}`)}function Bt(ge,$e){for(let Qe of $e)if(!Mt(ge,Qe))throw rt(ge,Qe);if(ge.M){let Qe=$n($e);for(let lt=1,it=Qe.length;lt<it;lt++)if(He.has(Qe[lt])){let vt=lt+1;for(let Et;vt<it&&He.has(Et=Qe[vt]);vt++)for(let Dt=lt;Dt<vt;Dt++)if(Qe[Dt]==Et)throw new Error(`duplicate non-spacing marks: ${Qn(Et)}`);if(vt-lt>le)throw new Error(`excessive non-spacing marks: ${ys(ir(Qe.slice(lt-1,vt)))} (${vt-lt}/${le})`);lt=vt}}}function en(ge,$e,Qe){let lt=[],it=[];for(ge=ge.slice().reverse();ge.length;){let vt=Ln(ge);if(vt)it.length&&(lt.push($e(it)),it=[]),lt.push(Qe(vt));else{let Et=ge.pop();if(ot.has(Et))it.push(Et);else{let Dt=Kt.get(Et);if(Dt)it.push(...Dt);else if(!zr.has(Et))throw te(Et)}}}return it.length&&lt.push($e(it)),lt}function Tt(ge){return ge.filter($e=>$e!=nr)}function Ln(ge,$e){let Qe=kt,lt,it=ge.length;for(;it&&(Qe=Qe.get(ge[--it]),!!Qe);){let{V:vt}=Qe;vt&&(lt=vt,$e&&$e.push(...ge.slice(it).reverse()),ge.length=it)}return lt}const Fn="valid",Er="mapped",Xs="ignored",Ki="disallowed",Mo="emoji",$i="nfc",oa="stop";function go(ge,{nf:$e=!0}={}){In();let Qe=q(ge).reverse(),lt=[],it=[];for(;Qe.length;){let vt=Ln(Qe,lt);if(vt)it.push({type:Mo,emoji:vt.slice(),input:lt,cps:Tt(vt)}),lt=[];else{let Et=Qe.pop();if(Et==_r)it.push({type:oa,cp:Et});else if(ot.has(Et))it.push({type:Fn,cps:[Et]});else if(zr.has(Et))it.push({type:Xs,cp:Et});else{let Dt=Kt.get(Et);Dt?it.push({type:Er,cp:Et,cps:Dt.slice()}):it.push({type:Ki,cp:Et})}}}if($e)for(let vt=0,Et=-1;vt<it.length;vt++){let Dt=it[vt];if(xi(Dt.type))if(Ss(Dt.cps)){let Nn=vt+1;for(let On=Nn;On<it.length;On++){let{type:pr,cps:Jr}=it[On];if(xi(pr)){if(!Ss(Jr))break;Nn=On+1}else if(pr!==Xs)break}Et<0&&(Et=vt);let or=it.slice(Et,Nn),fn=or.flatMap(On=>xi(On.type)?On.cps:[]),Hn=tr(fn);_e(Hn,fn)?(it.splice(Et,Nn-Et,{type:$i,input:fn,cps:Hn,tokens0:ii(or),tokens:go(ue(Hn),{nf:!1})}),vt=Et):vt=Nn-1,Et=-1}else Et=vt;else Dt.type!==Xs&&(Et=-1)}return ii(it)}function xi(ge){return ge==Fn||ge==Er}function Ss(ge){return ge.some($e=>N.has($e))}function ii(ge){for(let $e=0;$e<ge.length;$e++)if(ge[$e].type==Fn){let Qe=$e+1;for(;Qe<ge.length&&ge[Qe].type==Fn;)Qe++;ge.splice($e,Qe-$e,{type:Fn,cps:ge.slice($e,Qe).flatMap(lt=>lt.cps)})}return ge}},57957:function(Zt,ct,D){"use strict";D.r(ct),D.d(ct,{ConnectButton:function(){return dd},ConnectModal:function(){return Zf},SuiClientContext:function(){return Vc},SuiClientProvider:function(){return Xf},WalletProvider:function(){return ac},createNetworkConfig:function(){return ch},lightTheme:function(){return ih},useAccounts:function(){return eh},useAutoConnectWallet:function(){return zu},useConnectWallet:function(){return Bu},useCurrentAccount:function(){return ic},useCurrentWallet:function(){return uo},useDisconnectWallet:function(){return cd},useReportTransactionEffects:function(){return Zu},useResolveSuiNSName:function(){return od},useSignAndExecuteTransaction:function(){return dh},useSignPersonalMessage:function(){return fh},useSignTransaction:function(){return qu},useSuiClient:function(){return Lu},useSuiClientContext:function(){return Co},useSuiClientInfiniteQuery:function(){return uh},useSuiClientMutation:function(){return jg},useSuiClientQueries:function(){return lh},useSuiClientQuery:function(){return Yf},useSwitchAccount:function(){return Uu},useWallets:function(){return id}});var x=D(1735),ie=D.t(x,2);function le(o,u,{checkForDefaultPrevented:d=!0}={}){return function(y){if(o==null||o(y),d===!1||!y.defaultPrevented)return u==null?void 0:u(y)}}function J(o,u){typeof o=="function"?o(u):o!=null&&(o.current=u)}function de(...o){return u=>o.forEach(d=>J(d,u))}function Te(...o){return x.useCallback(de(...o),o)}var v=D(72152);function O(o,u){const d=x.createContext(u);function m(E){const{children:R,...C}=E,G=x.useMemo(()=>C,Object.values(C));return(0,v.jsx)(d.Provider,{value:G,children:R})}function y(E){const R=x.useContext(d);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${E}\` must be used within \`${o}\``)}return m.displayName=o+"Provider",[m,y]}function L(o,u=[]){let d=[];function m(E,R){const C=x.createContext(R),G=d.length;d=[...d,R];function K(Y){const{scope:Pe,children:Me,...Le}=Y,ce=(Pe==null?void 0:Pe[o][G])||C,Re=x.useMemo(()=>Le,Object.values(Le));return(0,v.jsx)(ce.Provider,{value:Re,children:Me})}function ne(Y,Pe){const Me=(Pe==null?void 0:Pe[o][G])||C,Le=x.useContext(Me);if(Le)return Le;if(R!==void 0)return R;throw new Error(`\`${Y}\` must be used within \`${E}\``)}return K.displayName=E+"Provider",[K,ne]}const y=()=>{const E=d.map(R=>x.createContext(R));return function(C){const G=(C==null?void 0:C[o])||E;return x.useMemo(()=>({[`__scope${o}`]:{...C,[o]:G}}),[C,G])}};return y.scopeName=o,[m,be(y,...u)]}function be(...o){const u=o[0];if(o.length===1)return u;const d=()=>{const m=o.map(y=>({useScope:y(),scopeName:y.scopeName}));return function(E){const R=m.reduce((C,{useScope:G,scopeName:K})=>{const Y=G(E)[`__scope${K}`];return{...C,...Y}},{});return x.useMemo(()=>({[`__scope${u.scopeName}`]:R}),[R])}};return d.scopeName=u.scopeName,d}var P=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Ae=ie.useId||(()=>{}),ae=0;function j(o){const[u,d]=x.useState(Ae());return P(()=>{o||d(m=>m??String(ae++))},[o]),o||(u?`radix-${u}`:"")}function $(o){const u=x.useRef(o);return x.useEffect(()=>{u.current=o}),x.useMemo(()=>(...d)=>{var m;return(m=u.current)==null?void 0:m.call(u,...d)},[])}function se({prop:o,defaultProp:u,onChange:d=()=>{}}){const[m,y]=Se({defaultProp:u,onChange:d}),E=o!==void 0,R=E?o:m,C=$(d),G=x.useCallback(K=>{if(E){const Y=typeof K=="function"?K(o):K;Y!==o&&C(Y)}else y(K)},[E,o,y,C]);return[R,G]}function Se({defaultProp:o,onChange:u}){const d=x.useState(o),[m]=d,y=x.useRef(m),E=$(u);return x.useEffect(()=>{y.current!==m&&(E(m),y.current=m)},[m,y,E]),d}var M=D(74164),fe=x.forwardRef((o,u)=>{const{children:d,...m}=o,y=x.Children.toArray(d),E=y.find(_e);if(E){const R=E.props.children,C=y.map(G=>G===E?x.Children.count(R)>1?x.Children.only(null):x.isValidElement(R)?R.props.children:null:G);return(0,v.jsx)(q,{...m,ref:u,children:x.isValidElement(R)?x.cloneElement(R,void 0,C):null})}return(0,v.jsx)(q,{...m,ref:u,children:d})});fe.displayName="Slot";var q=x.forwardRef((o,u)=>{const{children:d,...m}=o;if(x.isValidElement(d)){const y=S(d);return x.cloneElement(d,{...ee(m,d.props),ref:u?de(u,y):y})}return x.Children.count(d)>1?x.Children.only(null):null});q.displayName="SlotClone";var ue=({children:o})=>(0,v.jsx)(v.Fragment,{children:o});function _e(o){return x.isValidElement(o)&&o.type===ue}function ee(o,u){const d={...u};for(const m in u){const y=o[m],E=u[m];/^on[A-Z]/.test(m)?y&&E?d[m]=(...C)=>{E(...C),y(...C)}:y&&(d[m]=y):m==="style"?d[m]={...y,...E}:m==="className"&&(d[m]=[y,E].filter(Boolean).join(" "))}return{...o,...d}}function S(o){var m,y;let u=(m=Object.getOwnPropertyDescriptor(o.props,"ref"))==null?void 0:m.get,d=u&&"isReactWarning"in u&&u.isReactWarning;return d?o.ref:(u=(y=Object.getOwnPropertyDescriptor(o,"ref"))==null?void 0:y.get,d=u&&"isReactWarning"in u&&u.isReactWarning,d?o.props.ref:o.props.ref||o.ref)}var oe=null,F=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],re=F.reduce((o,u)=>{const d=x.forwardRef((m,y)=>{const{asChild:E,...R}=m,C=E?fe:u;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,v.jsx)(C,{...R,ref:y})});return d.displayName=`Primitive.${u}`,{...o,[u]:d}},{});function Be(o,u){o&&M.flushSync(()=>o.dispatchEvent(u))}var Ye=null;function pe(o,u=globalThis==null?void 0:globalThis.document){const d=$(o);x.useEffect(()=>{const m=y=>{y.key==="Escape"&&d(y)};return u.addEventListener("keydown",m,{capture:!0}),()=>u.removeEventListener("keydown",m,{capture:!0})},[d,u])}var V="DismissableLayer",U="dismissableLayer.update",X="dismissableLayer.pointerDownOutside",me="dismissableLayer.focusOutside",ke,Ke=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nt=x.forwardRef((o,u)=>{const{disableOutsidePointerEvents:d=!1,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:E,onInteractOutside:R,onDismiss:C,...G}=o,K=x.useContext(Ke),[ne,Y]=x.useState(null),Pe=(ne==null?void 0:ne.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,Me]=x.useState({}),Le=Te(u,an=>Y(an)),ce=Array.from(K.layers),[Re]=[...K.layersWithOutsidePointerEventsDisabled].slice(-1),je=ce.indexOf(Re),qe=ne?ce.indexOf(ne):-1,xt=K.layersWithOutsidePointerEventsDisabled.size>0,jt=qe>=je,Ft=Fe(an=>{const Mn=an.target,xr=[...K.branches].some(Rn=>Rn.contains(Mn));!jt||xr||(y==null||y(an),R==null||R(an),an.defaultPrevented||C==null||C())},Pe),gn=at(an=>{const Mn=an.target;[...K.branches].some(Rn=>Rn.contains(Mn))||(E==null||E(an),R==null||R(an),an.defaultPrevented||C==null||C())},Pe);return pe(an=>{qe===K.layers.size-1&&(m==null||m(an),!an.defaultPrevented&&C&&(an.preventDefault(),C()))},Pe),x.useEffect(()=>{if(ne)return d&&(K.layersWithOutsidePointerEventsDisabled.size===0&&(ke=Pe.body.style.pointerEvents,Pe.body.style.pointerEvents="none"),K.layersWithOutsidePointerEventsDisabled.add(ne)),K.layers.add(ne),_t(),()=>{d&&K.layersWithOutsidePointerEventsDisabled.size===1&&(Pe.body.style.pointerEvents=ke)}},[ne,Pe,d,K]),x.useEffect(()=>()=>{ne&&(K.layers.delete(ne),K.layersWithOutsidePointerEventsDisabled.delete(ne),_t())},[ne,K]),x.useEffect(()=>{const an=()=>Me({});return document.addEventListener(U,an),()=>document.removeEventListener(U,an)},[]),(0,v.jsx)(re.div,{...G,ref:Le,style:{pointerEvents:xt?jt?"auto":"none":void 0,...o.style},onFocusCapture:le(o.onFocusCapture,gn.onFocusCapture),onBlurCapture:le(o.onBlurCapture,gn.onBlurCapture),onPointerDownCapture:le(o.onPointerDownCapture,Ft.onPointerDownCapture)})});nt.displayName=V;var ze="DismissableLayerBranch",De=x.forwardRef((o,u)=>{const d=x.useContext(Ke),m=x.useRef(null),y=Te(u,m);return x.useEffect(()=>{const E=m.current;if(E)return d.branches.add(E),()=>{d.branches.delete(E)}},[d.branches]),(0,v.jsx)(re.div,{...o,ref:y})});De.displayName=ze;function Fe(o,u=globalThis==null?void 0:globalThis.document){const d=$(o),m=x.useRef(!1),y=x.useRef(()=>{});return x.useEffect(()=>{const E=C=>{if(C.target&&!m.current){let K=function(){Pt(X,d,ne,{discrete:!0})};var G=K;const ne={originalEvent:C};C.pointerType==="touch"?(u.removeEventListener("click",y.current),y.current=K,u.addEventListener("click",y.current,{once:!0})):K()}else u.removeEventListener("click",y.current);m.current=!1},R=window.setTimeout(()=>{u.addEventListener("pointerdown",E)},0);return()=>{window.clearTimeout(R),u.removeEventListener("pointerdown",E),u.removeEventListener("click",y.current)}},[u,d]),{onPointerDownCapture:()=>m.current=!0}}function at(o,u=globalThis==null?void 0:globalThis.document){const d=$(o),m=x.useRef(!1);return x.useEffect(()=>{const y=E=>{E.target&&!m.current&&Pt(me,d,{originalEvent:E},{discrete:!1})};return u.addEventListener("focusin",y),()=>u.removeEventListener("focusin",y)},[u,d]),{onFocusCapture:()=>m.current=!0,onBlurCapture:()=>m.current=!1}}function _t(){const o=new CustomEvent(U);document.dispatchEvent(o)}function Pt(o,u,d,{discrete:m}){const y=d.originalEvent.target,E=new CustomEvent(o,{bubbles:!1,cancelable:!0,detail:d});u&&y.addEventListener(o,u,{once:!0}),m?Be(y,E):y.dispatchEvent(E)}var En=null,wr=null,zt="focusScope.autoFocusOnMount",tn="focusScope.autoFocusOnUnmount",$n={bubbles:!1,cancelable:!0},tr="FocusScope",Gn=x.forwardRef((o,u)=>{const{loop:d=!1,trapped:m=!1,onMountAutoFocus:y,onUnmountAutoFocus:E,...R}=o,[C,G]=x.useState(null),K=$(y),ne=$(E),Y=x.useRef(null),Pe=Te(u,ce=>G(ce)),Me=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(m){let qe=function(gn){if(Me.paused||!C)return;const an=gn.target;C.contains(an)?Y.current=an:Ht(Y.current,{select:!0})},xt=function(gn){if(Me.paused||!C)return;const an=gn.relatedTarget;an!==null&&(C.contains(an)||Ht(Y.current,{select:!0}))},jt=function(gn){if(document.activeElement===document.body)for(const Mn of gn)Mn.removedNodes.length>0&&Ht(C)};var ce=qe,Re=xt,je=jt;document.addEventListener("focusin",qe),document.addEventListener("focusout",xt);const Ft=new MutationObserver(jt);return C&&Ft.observe(C,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",qe),document.removeEventListener("focusout",xt),Ft.disconnect()}}},[m,C,Me.paused]),x.useEffect(()=>{if(C){Kt.add(Me);const ce=document.activeElement;if(!C.contains(ce)){const je=new CustomEvent(zt,$n);C.addEventListener(zt,K),C.dispatchEvent(je),je.defaultPrevented||(_r(He(nr(C)),{select:!0}),document.activeElement===ce&&Ht(C))}return()=>{C.removeEventListener(zt,K),setTimeout(()=>{const je=new CustomEvent(tn,$n);C.addEventListener(tn,ne),C.dispatchEvent(je),je.defaultPrevented||Ht(ce??document.body,{select:!0}),C.removeEventListener(tn,ne),Kt.remove(Me)},0)}}},[C,K,ne,Me]);const Le=x.useCallback(ce=>{if(!d&&!m||Me.paused)return;const Re=ce.key==="Tab"&&!ce.altKey&&!ce.ctrlKey&&!ce.metaKey,je=document.activeElement;if(Re&&je){const qe=ce.currentTarget,[xt,jt]=Cr(qe);xt&&jt?!ce.shiftKey&&je===jt?(ce.preventDefault(),d&&Ht(xt,{select:!0})):ce.shiftKey&&je===xt&&(ce.preventDefault(),d&&Ht(jt,{select:!0})):je===qe&&ce.preventDefault()}},[d,m,Me.paused]);return(0,v.jsx)(re.div,{tabIndex:-1,...R,ref:Pe,onKeyDown:Le})});Gn.displayName=tr;function _r(o,{select:u=!1}={}){const d=document.activeElement;for(const m of o)if(Ht(m,{select:u}),document.activeElement!==d)return}function Cr(o){const u=nr(o),d=_n(u,o),m=_n(u.reverse(),o);return[d,m]}function nr(o){const u=[],d=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:m=>{const y=m.tagName==="INPUT"&&m.type==="hidden";return m.disabled||m.hidden||y?NodeFilter.FILTER_SKIP:m.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;d.nextNode();)u.push(d.currentNode);return u}function _n(o,u){for(const d of o)if(!Oe(d,{upTo:u}))return d}function Oe(o,{upTo:u}){if(getComputedStyle(o).visibility==="hidden")return!0;for(;o;){if(u!==void 0&&o===u)return!1;if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1}function Mt(o){return o instanceof HTMLInputElement&&"select"in o}function Ht(o,{select:u=!1}={}){if(o&&o.focus){const d=document.activeElement;o.focus({preventScroll:!0}),o!==d&&Mt(o)&&u&&o.select()}}var Kt=zr();function zr(){let o=[];return{add(u){const d=o[0];u!==d&&(d==null||d.pause()),o=xn(o,u),o.unshift(u)},remove(u){var d;o=xn(o,u),(d=o[0])==null||d.resume()}}}function xn(o,u){const d=[...o],m=d.indexOf(u);return m!==-1&&d.splice(m,1),d}function He(o){return o.filter(u=>u.tagName!=="A")}var k=null,N="Portal",xe=x.forwardRef((o,u)=>{var C;const{container:d,...m}=o,[y,E]=x.useState(!1);P(()=>E(!0),[]);const R=d||y&&((C=globalThis==null?void 0:globalThis.document)==null?void 0:C.body);return R?M.createPortal((0,v.jsx)(re.div,{...m,ref:u}),R):null});xe.displayName=N;var Je=null;function pt(o,u){return x.useReducer((d,m)=>u[d][m]??d,o)}var ot=o=>{const{present:u,children:d}=o,m=bt(u),y=typeof d=="function"?d({present:m.isPresent}):x.Children.only(d),E=Te(m.ref,In(y));return typeof d=="function"||m.isPresent?x.cloneElement(y,{ref:E}):null};ot.displayName="Presence";function bt(o){const[u,d]=x.useState(),m=x.useRef({}),y=x.useRef(o),E=x.useRef("none"),R=o?"mounted":"unmounted",[C,G]=pt(R,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const K=kt(m.current);E.current=C==="mounted"?K:"none"},[C]),P(()=>{const K=m.current,ne=y.current;if(ne!==o){const Pe=E.current,Me=kt(K);o?G("MOUNT"):Me==="none"||(K==null?void 0:K.display)==="none"?G("UNMOUNT"):G(ne&&Pe!==Me?"ANIMATION_OUT":"UNMOUNT"),y.current=o}},[o,G]),P(()=>{if(u){const K=Y=>{const Me=kt(m.current).includes(Y.animationName);Y.target===u&&Me&&M.flushSync(()=>G("ANIMATION_END"))},ne=Y=>{Y.target===u&&(E.current=kt(m.current))};return u.addEventListener("animationstart",ne),u.addEventListener("animationcancel",K),u.addEventListener("animationend",K),()=>{u.removeEventListener("animationstart",ne),u.removeEventListener("animationcancel",K),u.removeEventListener("animationend",K)}}else G("ANIMATION_END")},[u,G]),{isPresent:["mounted","unmountSuspended"].includes(C),ref:x.useCallback(K=>{K&&(m.current=getComputedStyle(K)),d(K)},[])}}function kt(o){return(o==null?void 0:o.animationName)||"none"}function In(o){var m,y;let u=(m=Object.getOwnPropertyDescriptor(o.props,"ref"))==null?void 0:m.get,d=u&&"isReactWarning"in u&&u.isReactWarning;return d?o.ref:(u=(y=Object.getOwnPropertyDescriptor(o,"ref"))==null?void 0:y.get,d=u&&"isReactWarning"in u&&u.isReactWarning,d?o.props.ref:o.props.ref||o.ref)}var Qn=0;function ys(o){return Os(),o.children}function Os(){x.useEffect(()=>{const o=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",o[0]??ns()),document.body.insertAdjacentElement("beforeend",o[1]??ns()),Qn++,()=>{Qn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(u=>u.remove()),Qn--}},[])}function ns(){const o=document.createElement("span");return o.setAttribute("data-radix-focus-guard",""),o.tabIndex=0,o.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",o}var Zs=null,ir=D(15767),hs="right-scroll-bar-position",as="width-before-scroll-bar",Es="with-scroll-bars-hidden",vs="--removed-body-scroll-bar-size";function Gr(o,u){return typeof o=="function"?o(u):o&&(o.current=u),o}function qs(o,u){var d=(0,x.useState)(function(){return{value:o,callback:u,facade:{get current(){return d.value},set current(m){var y=d.value;y!==m&&(d.value=m,d.callback(m,y))}}}})[0];return d.callback=u,d.facade}var ka=typeof window<"u"?x.useLayoutEffect:x.useEffect,Js=new WeakMap;function ps(o,u){var d=qs(u||null,function(m){return o.forEach(function(y){return Gr(y,m)})});return ka(function(){var m=Js.get(d);if(m){var y=new Set(m),E=new Set(o),R=d.current;y.forEach(function(C){E.has(C)||Gr(C,null)}),E.forEach(function(C){y.has(C)||Gr(C,R)})}Js.set(d,o)},[o]),d}function mt(o){return o}function he(o,u){u===void 0&&(u=mt);var d=[],m=!1,y={read:function(){if(m)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return d.length?d[d.length-1]:o},useMedium:function(E){var R=u(E,m);return d.push(R),function(){d=d.filter(function(C){return C!==R})}},assignSyncMedium:function(E){for(m=!0;d.length;){var R=d;d=[],R.forEach(E)}d={push:function(C){return E(C)},filter:function(){return d}}},assignMedium:function(E){m=!0;var R=[];if(d.length){var C=d;d=[],C.forEach(E),R=d}var G=function(){var ne=R;R=[],ne.forEach(E)},K=function(){return Promise.resolve().then(G)};K(),d={push:function(ne){R.push(ne),K()},filter:function(ne){return R=R.filter(ne),d}}}};return y}function W(o,u){return u===void 0&&(u=mt),he(o,u)}function te(o){o===void 0&&(o={});var u=he(null);return u.options=(0,ir.__assign)({async:!0,ssr:!1},o),u}var rt=te(),ht=function(){},Bt=x.forwardRef(function(o,u){var d=x.useRef(null),m=x.useState({onScrollCapture:ht,onWheelCapture:ht,onTouchMoveCapture:ht}),y=m[0],E=m[1],R=o.forwardProps,C=o.children,G=o.className,K=o.removeScrollBar,ne=o.enabled,Y=o.shards,Pe=o.sideCar,Me=o.noIsolation,Le=o.inert,ce=o.allowPinchZoom,Re=o.as,je=Re===void 0?"div":Re,qe=o.gapMode,xt=(0,ir.__rest)(o,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),jt=Pe,Ft=ps([d,u]),gn=(0,ir.__assign)((0,ir.__assign)({},xt),y);return x.createElement(x.Fragment,null,ne&&x.createElement(jt,{sideCar:rt,removeScrollBar:K,shards:Y,noIsolation:Me,inert:Le,setCallbacks:E,allowPinchZoom:!!ce,lockRef:d,gapMode:qe}),R?x.cloneElement(x.Children.only(C),(0,ir.__assign)((0,ir.__assign)({},gn),{ref:Ft})):x.createElement(je,(0,ir.__assign)({},gn,{className:G,ref:Ft}),C))});Bt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Bt.classNames={fullWidth:as,zeroRight:hs};var en=function(o){var u=o.sideCar,d=(0,ir.__rest)(o,["sideCar"]);if(!u)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var m=u.read();if(!m)throw new Error("Sidecar medium not found");return x.createElement(m,(0,ir.__assign)({},d))};en.isSideCarExport=!0;function Tt(o,u){return o.useMedium(u),en}var Ln,Fn=function(o){Ln=o},Er=function(){return Ln||D.nc};function Xs(){if(!document)return null;var o=document.createElement("style");o.type="text/css";var u=Er();return u&&o.setAttribute("nonce",u),o}function Ki(o,u){o.styleSheet?o.styleSheet.cssText=u:o.appendChild(document.createTextNode(u))}function Mo(o){var u=document.head||document.getElementsByTagName("head")[0];u.appendChild(o)}var $i=function(){var o=0,u=null;return{add:function(d){o==0&&(u=Xs())&&(Ki(u,d),Mo(u)),o++},remove:function(){o--,!o&&u&&(u.parentNode&&u.parentNode.removeChild(u),u=null)}}},oa=function(){var o=$i();return function(u,d){x.useEffect(function(){return o.add(u),function(){o.remove()}},[u&&d])}},go=function(){var o=oa(),u=function(d){var m=d.styles,y=d.dynamic;return o(m,y),null};return u},xi={left:0,top:0,right:0,gap:0},Ss=function(o){return parseInt(o||"",10)||0},ii=function(o){var u=window.getComputedStyle(document.body),d=u[o==="padding"?"paddingLeft":"marginLeft"],m=u[o==="padding"?"paddingTop":"marginTop"],y=u[o==="padding"?"paddingRight":"marginRight"];return[Ss(d),Ss(m),Ss(y)]},ge=function(o){if(o===void 0&&(o="margin"),typeof window>"u")return xi;var u=ii(o),d=document.documentElement.clientWidth,m=window.innerWidth;return{left:u[0],top:u[1],right:u[2],gap:Math.max(0,m-d+u[2]-u[0])}},$e=go(),Qe="data-scroll-locked",lt=function(o,u,d,m){var y=o.left,E=o.top,R=o.right,C=o.gap;return d===void 0&&(d="margin"),`
  .`.concat(Es,` {
   overflow: hidden `).concat(m,`;
   padding-right: `).concat(C,"px ").concat(m,`;
  }
  body[`).concat(Qe,`] {
    overflow: hidden `).concat(m,`;
    overscroll-behavior: contain;
    `).concat([u&&"position: relative ".concat(m,";"),d==="margin"&&`
    padding-left: `.concat(y,`px;
    padding-top: `).concat(E,`px;
    padding-right: `).concat(R,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(C,"px ").concat(m,`;
    `),d==="padding"&&"padding-right: ".concat(C,"px ").concat(m,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hs,` {
    right: `).concat(C,"px ").concat(m,`;
  }
  
  .`).concat(as,` {
    margin-right: `).concat(C,"px ").concat(m,`;
  }
  
  .`).concat(hs," .").concat(hs,` {
    right: 0 `).concat(m,`;
  }
  
  .`).concat(as," .").concat(as,` {
    margin-right: 0 `).concat(m,`;
  }
  
  body[`).concat(Qe,`] {
    `).concat(vs,": ").concat(C,`px;
  }
`)},it=function(){var o=parseInt(document.body.getAttribute(Qe)||"0",10);return isFinite(o)?o:0},vt=function(){x.useEffect(function(){return document.body.setAttribute(Qe,(it()+1).toString()),function(){var o=it()-1;o<=0?document.body.removeAttribute(Qe):document.body.setAttribute(Qe,o.toString())}},[])},Et=function(o){var u=o.noRelative,d=o.noImportant,m=o.gapMode,y=m===void 0?"margin":m;vt();var E=x.useMemo(function(){return ge(y)},[y]);return x.createElement($e,{styles:lt(E,!u,y,d?"":"!important")})},Dt=!1;if(typeof window<"u")try{var Nn=Object.defineProperty({},"passive",{get:function(){return Dt=!0,!0}});window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Dt=!1}var or=Dt?{passive:!1}:!1,fn=function(o){return o.tagName==="TEXTAREA"},Hn=function(o,u){var d=window.getComputedStyle(o);return d[u]!=="hidden"&&!(d.overflowY===d.overflowX&&!fn(o)&&d[u]==="visible")},On=function(o){return Hn(o,"overflowY")},pr=function(o){return Hn(o,"overflowX")},Jr=function(o,u){var d=u.ownerDocument,m=u;do{typeof ShadowRoot<"u"&&m instanceof ShadowRoot&&(m=m.host);var y=Bs(o,m);if(y){var E=Ti(o,m),R=E[1],C=E[2];if(R>C)return!0}m=m.parentNode}while(m&&m!==d.body);return!1},Fr=function(o){var u=o.scrollTop,d=o.scrollHeight,m=o.clientHeight;return[u,d,m]},Kr=function(o){var u=o.scrollLeft,d=o.scrollWidth,m=o.clientWidth;return[u,d,m]},Bs=function(o,u){return o==="v"?On(u):pr(u)},Ti=function(o,u){return o==="v"?Fr(u):Kr(u)},Ps=function(o,u){return o==="h"&&u==="rtl"?-1:1},Ms=function(o,u,d,m,y){var E=Ps(o,window.getComputedStyle(u).direction),R=E*m,C=d.target,G=u.contains(C),K=!1,ne=R>0,Y=0,Pe=0;do{var Me=Ti(o,C),Le=Me[0],ce=Me[1],Re=Me[2],je=ce-Re-E*Le;(Le||je)&&Bs(o,C)&&(Y+=je,Pe+=Le),C instanceof ShadowRoot?C=C.host:C=C.parentNode}while(!G&&C!==document.body||G&&(u.contains(C)||u===C));return(ne&&(y&&Math.abs(Y)<1||!y&&R>Y)||!ne&&(y&&Math.abs(Pe)<1||!y&&-R>Pe))&&(K=!0),K},Ur=function(o){return"changedTouches"in o?[o.changedTouches[0].clientX,o.changedTouches[0].clientY]:[0,0]},sn=function(o){return[o.deltaX,o.deltaY]},hn=function(o){return o&&"current"in o?o.current:o},ar=function(o,u){return o[0]===u[0]&&o[1]===u[1]},oi=function(o){return`
  .block-interactivity-`.concat(o,` {pointer-events: none;}
  .allow-interactivity-`).concat(o,` {pointer-events: all;}
`)},ai=0,As=[];function ci(o){var u=x.useRef([]),d=x.useRef([0,0]),m=x.useRef(),y=x.useState(ai++)[0],E=x.useState(go)[0],R=x.useRef(o);x.useEffect(function(){R.current=o},[o]),x.useEffect(function(){if(o.inert){document.body.classList.add("block-interactivity-".concat(y));var ce=(0,ir.__spreadArray)([o.lockRef.current],(o.shards||[]).map(hn),!0).filter(Boolean);return ce.forEach(function(Re){return Re.classList.add("allow-interactivity-".concat(y))}),function(){document.body.classList.remove("block-interactivity-".concat(y)),ce.forEach(function(Re){return Re.classList.remove("allow-interactivity-".concat(y))})}}},[o.inert,o.lockRef.current,o.shards]);var C=x.useCallback(function(ce,Re){if("touches"in ce&&ce.touches.length===2)return!R.current.allowPinchZoom;var je=Ur(ce),qe=d.current,xt="deltaX"in ce?ce.deltaX:qe[0]-je[0],jt="deltaY"in ce?ce.deltaY:qe[1]-je[1],Ft,gn=ce.target,an=Math.abs(xt)>Math.abs(jt)?"h":"v";if("touches"in ce&&an==="h"&&gn.type==="range")return!1;var Mn=Jr(an,gn);if(!Mn)return!0;if(Mn?Ft=an:(Ft=an==="v"?"h":"v",Mn=Jr(an,gn)),!Mn)return!1;if(!m.current&&"changedTouches"in ce&&(xt||jt)&&(m.current=Ft),!Ft)return!0;var xr=m.current||Ft;return Ms(xr,Re,ce,xr==="h"?xt:jt,!0)},[]),G=x.useCallback(function(ce){var Re=ce;if(!(!As.length||As[As.length-1]!==E)){var je="deltaY"in Re?sn(Re):Ur(Re),qe=u.current.filter(function(Ft){return Ft.name===Re.type&&(Ft.target===Re.target||Re.target===Ft.shadowParent)&&ar(Ft.delta,je)})[0];if(qe&&qe.should){Re.cancelable&&Re.preventDefault();return}if(!qe){var xt=(R.current.shards||[]).map(hn).filter(Boolean).filter(function(Ft){return Ft.contains(Re.target)}),jt=xt.length>0?C(Re,xt[0]):!R.current.noIsolation;jt&&Re.cancelable&&Re.preventDefault()}}},[]),K=x.useCallback(function(ce,Re,je,qe){var xt={name:ce,delta:Re,target:je,should:qe,shadowParent:gi(je)};u.current.push(xt),setTimeout(function(){u.current=u.current.filter(function(jt){return jt!==xt})},1)},[]),ne=x.useCallback(function(ce){d.current=Ur(ce),m.current=void 0},[]),Y=x.useCallback(function(ce){K(ce.type,sn(ce),ce.target,C(ce,o.lockRef.current))},[]),Pe=x.useCallback(function(ce){K(ce.type,Ur(ce),ce.target,C(ce,o.lockRef.current))},[]);x.useEffect(function(){return As.push(E),o.setCallbacks({onScrollCapture:Y,onWheelCapture:Y,onTouchMoveCapture:Pe}),document.addEventListener("wheel",G,or),document.addEventListener("touchmove",G,or),document.addEventListener("touchstart",ne,or),function(){As=As.filter(function(ce){return ce!==E}),document.removeEventListener("wheel",G,or),document.removeEventListener("touchmove",G,or),document.removeEventListener("touchstart",ne,or)}},[]);var Me=o.removeScrollBar,Le=o.inert;return x.createElement(x.Fragment,null,Le?x.createElement(E,{styles:oi(y)}):null,Me?x.createElement(Et,{gapMode:o.gapMode}):null)}function gi(o){for(var u=null;o!==null;)o instanceof ShadowRoot&&(u=o.host,o=o.host),o=o.parentNode;return u}var Ys=Tt(rt,ci),ui=x.forwardRef(function(o,u){return x.createElement(Bt,(0,ir.__assign)({},o,{ref:u,sideCar:Ys}))});ui.classNames=Bt.classNames;var ei=ui,Hs=function(o){if(typeof document>"u")return null;var u=Array.isArray(o)?o[0]:o;return u.ownerDocument.body},xs=new WeakMap,lr=new WeakMap,yo={},yi=0,aa=function(o){return o&&(o.host||aa(o.parentNode))},yn=function(o,u){return u.map(function(d){if(o.contains(d))return d;var m=aa(d);return m&&o.contains(m)?m:(console.error("aria-hidden",d,"in not contained inside",o,". Doing nothing"),null)}).filter(function(d){return!!d})},$r=function(o,u,d,m){var y=yn(u,Array.isArray(o)?o:[o]);yo[d]||(yo[d]=new WeakMap);var E=yo[d],R=[],C=new Set,G=new Set(y),K=function(Y){!Y||C.has(Y)||(C.add(Y),K(Y.parentNode))};y.forEach(K);var ne=function(Y){!Y||G.has(Y)||Array.prototype.forEach.call(Y.children,function(Pe){if(C.has(Pe))ne(Pe);else{var Me=Pe.getAttribute(m),Le=Me!==null&&Me!=="false",ce=(xs.get(Pe)||0)+1,Re=(E.get(Pe)||0)+1;xs.set(Pe,ce),E.set(Pe,Re),R.push(Pe),ce===1&&Le&&lr.set(Pe,!0),Re===1&&Pe.setAttribute(d,"true"),Le||Pe.setAttribute(m,"true")}})};return ne(u),C.clear(),yi++,function(){R.forEach(function(Y){var Pe=xs.get(Y)-1,Me=E.get(Y)-1;xs.set(Y,Pe),E.set(Y,Me),Pe||(lr.has(Y)||Y.removeAttribute(m),lr.delete(Y)),Me||Y.removeAttribute(d)}),yi--,yi||(xs=new WeakMap,xs=new WeakMap,lr=new WeakMap,yo={})}},wn=function(o,u,d){d===void 0&&(d="data-aria-hidden");var m=Array.from(Array.isArray(o)?o:[o]),y=u||Hs(o);return y?(m.push.apply(m,Array.from(y.querySelectorAll("[aria-live]"))),$r(m,y,d,"aria-hidden")):function(){return null}},rs=function(o,u,d){d===void 0&&(d="data-inert-ed");var m=u||Hs(o);return m?$r(o,m,d,"inert"):function(){return null}},li=function(){return typeof HTMLElement<"u"&&HTMLElement.prototype.hasOwnProperty("inert")},ur=function(o,u,d){return d===void 0&&(d="data-suppressed"),(li()?rs:wn)(o,u,d)},rr="Dialog",[ti,Ii]=L(rr),[vo,Hr]=ti(rr),vi=o=>{const{__scopeDialog:u,children:d,open:m,defaultOpen:y,onOpenChange:E,modal:R=!0}=o,C=x.useRef(null),G=x.useRef(null),[K=!1,ne]=se({prop:m,defaultProp:y,onChange:E});return(0,v.jsx)(vo,{scope:u,triggerRef:C,contentRef:G,contentId:j(),titleId:j(),descriptionId:j(),open:K,onOpenChange:ne,onOpenToggle:x.useCallback(()=>ne(Y=>!Y),[ne]),modal:R,children:d})};vi.displayName=rr;var ni="DialogTrigger",Wn=x.forwardRef((o,u)=>{const{__scopeDialog:d,...m}=o,y=Hr(ni,d),E=Te(u,y.triggerRef);return(0,v.jsx)(re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":y.open,"aria-controls":y.contentId,"data-state":It(y.open),...m,ref:E,onClick:le(o.onClick,y.onOpenToggle)})});Wn.displayName=ni;var ru="DialogPortal",[Oa,Al]=ti(ru,{forceMount:void 0}),gc=o=>{const{__scopeDialog:u,forceMount:d,children:m,container:y}=o,E=Hr(ru,u);return(0,v.jsx)(Oa,{scope:u,forceMount:d,children:x.Children.map(m,R=>(0,v.jsx)(ot,{present:d||E.open,children:(0,v.jsx)(xe,{asChild:!0,container:y,children:R})}))})};gc.displayName=ru;var Do="DialogOverlay",Si=x.forwardRef((o,u)=>{const d=Al(Do,o.__scopeDialog),{forceMount:m=d.forceMount,...y}=o,E=Hr(Do,o.__scopeDialog);return E.modal?(0,v.jsx)(ot,{present:m||E.open,children:(0,v.jsx)(ss,{...y,ref:u})}):null});Si.displayName=Do;var ss=x.forwardRef((o,u)=>{const{__scopeDialog:d,...m}=o,y=Hr(Do,d);return(0,v.jsx)(ei,{as:fe,allowPinchZoom:!0,shards:[y.contentRef],children:(0,v.jsx)(re.div,{"data-state":It(y.open),...m,ref:u,style:{pointerEvents:"auto",...m.style}})})}),H="DialogContent",h=x.forwardRef((o,u)=>{const d=Al(H,o.__scopeDialog),{forceMount:m=d.forceMount,...y}=o,E=Hr(H,o.__scopeDialog);return(0,v.jsx)(ot,{present:m||E.open,children:E.modal?(0,v.jsx)(_,{...y,ref:u}):(0,v.jsx)(T,{...y,ref:u})})});h.displayName=H;var _=x.forwardRef((o,u)=>{const d=Hr(H,o.__scopeDialog),m=x.useRef(null),y=Te(u,d.contentRef,m);return x.useEffect(()=>{const E=m.current;if(E)return wn(E)},[]),(0,v.jsx)(B,{...o,ref:y,trapFocus:d.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(o.onCloseAutoFocus,E=>{var R;E.preventDefault(),(R=d.triggerRef.current)==null||R.focus()}),onPointerDownOutside:le(o.onPointerDownOutside,E=>{const R=E.detail.originalEvent,C=R.button===0&&R.ctrlKey===!0;(R.button===2||C)&&E.preventDefault()}),onFocusOutside:le(o.onFocusOutside,E=>E.preventDefault())})}),T=x.forwardRef((o,u)=>{const d=Hr(H,o.__scopeDialog),m=x.useRef(!1),y=x.useRef(!1);return(0,v.jsx)(B,{...o,ref:u,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:E=>{var R,C;(R=o.onCloseAutoFocus)==null||R.call(o,E),E.defaultPrevented||(m.current||(C=d.triggerRef.current)==null||C.focus(),E.preventDefault()),m.current=!1,y.current=!1},onInteractOutside:E=>{var G,K;(G=o.onInteractOutside)==null||G.call(o,E),E.defaultPrevented||(m.current=!0,E.detail.originalEvent.type==="pointerdown"&&(y.current=!0));const R=E.target;((K=d.triggerRef.current)==null?void 0:K.contains(R))&&E.preventDefault(),E.detail.originalEvent.type==="focusin"&&y.current&&E.preventDefault()}})}),B=x.forwardRef((o,u)=>{const{__scopeDialog:d,trapFocus:m,onOpenAutoFocus:y,onCloseAutoFocus:E,...R}=o,C=Hr(H,d),G=x.useRef(null),K=Te(u,G);return Os(),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Gn,{asChild:!0,loop:!0,trapped:m,onMountAutoFocus:y,onUnmountAutoFocus:E,children:(0,v.jsx)(nt,{role:"dialog",id:C.contentId,"aria-describedby":C.descriptionId,"aria-labelledby":C.titleId,"data-state":It(C.open),...R,ref:K,onDismiss:()=>C.onOpenChange(!1)})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(w,{titleId:C.titleId}),(0,v.jsx)(A,{contentRef:G,descriptionId:C.descriptionId})]})]})}),Z="DialogTitle",Ee=x.forwardRef((o,u)=>{const{__scopeDialog:d,...m}=o,y=Hr(Z,d);return(0,v.jsx)(re.h2,{id:y.titleId,...m,ref:u})});Ee.displayName=Z;var et="DialogDescription",ut=x.forwardRef((o,u)=>{const{__scopeDialog:d,...m}=o,y=Hr(et,d);return(0,v.jsx)(re.p,{id:y.descriptionId,...m,ref:u})});ut.displayName=et;var wt="DialogClose",Nt=x.forwardRef((o,u)=>{const{__scopeDialog:d,...m}=o,y=Hr(wt,d);return(0,v.jsx)(re.button,{type:"button",...m,ref:u,onClick:le(o.onClick,()=>y.onOpenChange(!1))})});Nt.displayName=wt;function It(o){return o?"open":"closed"}var Xt="DialogTitleWarning",[An,Xn]=O(Xt,{contentName:H,titleName:Z,docsSlug:"dialog"}),w=({titleId:o})=>{const u=Xn(Xt),d=`\`${u.contentName}\` requires a \`${u.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${u.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${u.docsSlug}`;return x.useEffect(()=>{o&&(document.getElementById(o)||console.error(d))},[d,o]),null},g="DialogDescriptionWarning",A=({contentRef:o,descriptionId:u})=>{const m=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Xn(g).contentName}}.`;return x.useEffect(()=>{var E;const y=(E=o.current)==null?void 0:E.getAttribute("aria-describedby");u&&y&&(document.getElementById(u)||console.warn(m))},[m,o,u]),null},z=vi,Ie=Wn,Ce=gc,Ge=Si,tt=h,st=Ee,gt=null,$t=Nt,dt=D(4814),Sn=D(38827),Vn=D(91841);const{useDebugValue:ln}=x,{useSyncExternalStoreWithSelector:Rt}=Vn;let Ut=!1;const Wt=o=>o;function cn(o,u=Wt,d){d&&!Ut&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ut=!0);const m=Rt(o.subscribe,o.getState,o.getServerState||o.getInitialState,u,d);return ln(m),m}const bn=o=>{typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const u=typeof o=="function"?createStore(o):o,d=(m,y)=>cn(u,m,y);return Object.assign(d,u),d},Dn=o=>o?bn(o):bn;var Zn=o=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),Dn(o)),pn=D(85879),Pn=D(84595),Un=D(25966);const Rs="\u2026";function Wr(o){if(o.length<=6)return o;const u=o.startsWith("0x")?2:0;return`0x${o.slice(u,u+4)}${Rs}${o.slice(-4)}`}function Nr(o){return`${o.slice(0,10)}${Rs}`}function js(o){const u=o+"CollectionProvider",[d,m]=L(u),[y,E]=d(u,{collectionRef:{current:null},itemMap:new Map}),R=Me=>{const{scope:Le,children:ce}=Me,Re=x.useRef(null),je=x.useRef(new Map).current;return(0,v.jsx)(y,{scope:Le,itemMap:je,collectionRef:Re,children:ce})};R.displayName=u;const C=o+"CollectionSlot",G=x.forwardRef((Me,Le)=>{const{scope:ce,children:Re}=Me,je=E(C,ce),qe=Te(Le,je.collectionRef);return(0,v.jsx)(fe,{ref:qe,children:Re})});G.displayName=C;const K=o+"CollectionItemSlot",ne="data-radix-collection-item",Y=x.forwardRef((Me,Le)=>{const{scope:ce,children:Re,...je}=Me,qe=x.useRef(null),xt=Te(Le,qe),jt=E(K,ce);return x.useEffect(()=>(jt.itemMap.set(qe,{ref:qe,...je}),()=>void jt.itemMap.delete(qe))),(0,v.jsx)(fe,{[ne]:"",ref:xt,children:Re})});Y.displayName=K;function Pe(Me){const Le=E(o+"CollectionConsumer",Me);return x.useCallback(()=>{const Re=Le.collectionRef.current;if(!Re)return[];const je=Array.from(Re.querySelectorAll(`[${ne}]`));return Array.from(Le.itemMap.values()).sort((jt,Ft)=>je.indexOf(jt.ref.current)-je.indexOf(Ft.ref.current))},[Le.collectionRef,Le.itemMap])}return[{Provider:R,Slot:G,ItemSlot:Y},Pe,m]}var Gs=x.createContext(void 0),bo=o=>{const{dir:u,children:d}=o;return jsx(Gs.Provider,{value:u,children:d})};function Vt(o){const u=x.useContext(Gs);return o||u||"ltr"}var un=null;const Yn=["top","right","bottom","left"],Vr=null,Mr=null,Or=Math.min,jr=Math.max,Cs=Math.round,bi=Math.floor,Ds=o=>({x:o,y:o}),wo={left:"right",right:"left",bottom:"top",top:"bottom"},ca={start:"end",end:"start"};function Pi(o,u,d){return jr(o,Or(u,d))}function wi(o,u){return typeof o=="function"?o(u):o}function Ls(o){return o.split("-")[0]}function di(o){return o.split("-")[1]}function ua(o){return o==="x"?"y":"x"}function Qi(o){return o==="y"?"height":"width"}function ms(o){return["top","bottom"].includes(Ls(o))?"y":"x"}function Mi(o){return ua(ms(o))}function yc(o,u,d){d===void 0&&(d=!1);const m=di(o),y=Mi(o),E=Qi(y);let R=y==="x"?m===(d?"end":"start")?"right":"left":m==="start"?"bottom":"top";return u.reference[E]>u.floating[E]&&(R=iu(R)),[R,iu(R)]}function su(o){const u=iu(o);return[xl(o),u,xl(u)]}function xl(o){return o.replace(/start|end/g,u=>ca[u])}function Tl(o,u,d){const m=["left","right"],y=["right","left"],E=["top","bottom"],R=["bottom","top"];switch(o){case"top":case"bottom":return d?u?y:m:u?m:y;case"left":case"right":return u?E:R;default:return[]}}function Dd(o,u,d,m){const y=di(o);let E=Tl(Ls(o),d==="start",m);return y&&(E=E.map(R=>R+"-"+y),u&&(E=E.concat(E.map(xl)))),E}function iu(o){return o.replace(/left|right|bottom|top/g,u=>wo[u])}function Ba(o){return{top:0,right:0,bottom:0,left:0,...o}}function ou(o){return typeof o!="number"?Ba(o):{top:o,right:o,bottom:o,left:o}}function Ma(o){const{x:u,y:d,width:m,height:y}=o;return{width:m,height:y,top:d,left:u,right:u+m,bottom:d+y,x:u,y:d}}function Ld(o,u,d){let{reference:m,floating:y}=o;const E=ms(u),R=Mi(u),C=Qi(R),G=Ls(u),K=E==="y",ne=m.x+m.width/2-y.width/2,Y=m.y+m.height/2-y.height/2,Pe=m[C]/2-y[C]/2;let Me;switch(G){case"top":Me={x:ne,y:m.y-y.height};break;case"bottom":Me={x:ne,y:m.y+m.height};break;case"right":Me={x:m.x+m.width,y:Y};break;case"left":Me={x:m.x-y.width,y:Y};break;default:Me={x:m.x,y:m.y}}switch(di(u)){case"start":Me[R]-=Pe*(d&&K?-1:1);break;case"end":Me[R]+=Pe*(d&&K?-1:1);break}return Me}const Fd=async(o,u,d)=>{const{placement:m="bottom",strategy:y="absolute",middleware:E=[],platform:R}=d,C=E.filter(Boolean),G=await(R.isRTL==null?void 0:R.isRTL(u));let K=await R.getElementRects({reference:o,floating:u,strategy:y}),{x:ne,y:Y}=Ld(K,m,G),Pe=m,Me={},Le=0;for(let ce=0;ce<C.length;ce++){const{name:Re,fn:je}=C[ce],{x:qe,y:xt,data:jt,reset:Ft}=await je({x:ne,y:Y,initialPlacement:m,placement:Pe,strategy:y,middlewareData:Me,rects:K,platform:R,elements:{reference:o,floating:u}});ne=qe??ne,Y=xt??Y,Me={...Me,[Re]:{...Me[Re],...jt}},Ft&&Le<=50&&(Le++,typeof Ft=="object"&&(Ft.placement&&(Pe=Ft.placement),Ft.rects&&(K=Ft.rects===!0?await R.getElementRects({reference:o,floating:u,strategy:y}):Ft.rects),{x:ne,y:Y}=Ld(K,Pe,G)),ce=-1)}return{x:ne,y:Y,placement:Pe,strategy:y,middlewareData:Me}};async function la(o,u){var d;u===void 0&&(u={});const{x:m,y,platform:E,rects:R,elements:C,strategy:G}=o,{boundary:K="clippingAncestors",rootBoundary:ne="viewport",elementContext:Y="floating",altBoundary:Pe=!1,padding:Me=0}=wi(u,o),Le=ou(Me),Re=C[Pe?Y==="floating"?"reference":"floating":Y],je=Ma(await E.getClippingRect({element:(d=await(E.isElement==null?void 0:E.isElement(Re)))==null||d?Re:Re.contextElement||await(E.getDocumentElement==null?void 0:E.getDocumentElement(C.floating)),boundary:K,rootBoundary:ne,strategy:G})),qe=Y==="floating"?{x:m,y,width:R.floating.width,height:R.floating.height}:R.reference,xt=await(E.getOffsetParent==null?void 0:E.getOffsetParent(C.floating)),jt=await(E.isElement==null?void 0:E.isElement(xt))?await(E.getScale==null?void 0:E.getScale(xt))||{x:1,y:1}:{x:1,y:1},Ft=Ma(E.convertOffsetParentRelativeRectToViewportRelativeRect?await E.convertOffsetParentRelativeRectToViewportRelativeRect({elements:C,rect:qe,offsetParent:xt,strategy:G}):qe);return{top:(je.top-Ft.top+Le.top)/jt.y,bottom:(Ft.bottom-je.bottom+Le.bottom)/jt.y,left:(je.left-Ft.left+Le.left)/jt.x,right:(Ft.right-je.right+Le.right)/jt.x}}const sp=o=>({name:"arrow",options:o,async fn(u){const{x:d,y:m,placement:y,rects:E,platform:R,elements:C,middlewareData:G}=u,{element:K,padding:ne=0}=wi(o,u)||{};if(K==null)return{};const Y=ou(ne),Pe={x:d,y:m},Me=Mi(y),Le=Qi(Me),ce=await R.getDimensions(K),Re=Me==="y",je=Re?"top":"left",qe=Re?"bottom":"right",xt=Re?"clientHeight":"clientWidth",jt=E.reference[Le]+E.reference[Me]-Pe[Me]-E.floating[Le],Ft=Pe[Me]-E.reference[Me],gn=await(R.getOffsetParent==null?void 0:R.getOffsetParent(K));let an=gn?gn[xt]:0;(!an||!await(R.isElement==null?void 0:R.isElement(gn)))&&(an=C.floating[xt]||E.floating[Le]);const Mn=jt/2-Ft/2,xr=an/2-ce[Le]/2-1,Rn=Or(Y[je],xr),Sr=Or(Y[qe],xr),gr=Rn,Tr=an-ce[Le]-Sr,Lr=an/2-ce[Le]/2+Mn,Xr=Pi(gr,Lr,Tr),kr=!G.arrow&&di(y)!=null&&Lr!==Xr&&E.reference[Le]/2-(Lr<gr?Rn:Sr)-ce[Le]/2<0,hr=kr?Lr<gr?Lr-gr:Lr-Tr:0;return{[Me]:Pe[Me]+hr,data:{[Me]:Xr,centerOffset:Lr-Xr-hr,...kr&&{alignmentOffset:hr}},reset:kr}}});function Ud(o,u,d){return(o?[...d.filter(y=>getAlignment(y)===o),...d.filter(y=>getAlignment(y)!==o)]:d.filter(y=>getSide(y)===y)).filter(y=>o?getAlignment(y)===o||(u?getOppositeAlignmentPlacement(y)!==y:!1):!0)}const fb=function(o){return o===void 0&&(o={}),{name:"autoPlacement",options:o,async fn(u){var d,m,y;const{rects:E,middlewareData:R,placement:C,platform:G,elements:K}=u,{crossAxis:ne=!1,alignment:Y,allowedPlacements:Pe=placements,autoAlignment:Me=!0,...Le}=evaluate(o,u),ce=Y!==void 0||Pe===placements?Ud(Y||null,Me,Pe):Pe,Re=await la(u,Le),je=((d=R.autoPlacement)==null?void 0:d.index)||0,qe=ce[je];if(qe==null)return{};const xt=getAlignmentSides(qe,E,await(G.isRTL==null?void 0:G.isRTL(K.floating)));if(C!==qe)return{reset:{placement:ce[0]}};const jt=[Re[getSide(qe)],Re[xt[0]],Re[xt[1]]],Ft=[...((m=R.autoPlacement)==null?void 0:m.overflows)||[],{placement:qe,overflows:jt}],gn=ce[je+1];if(gn)return{data:{index:je+1,overflows:Ft},reset:{placement:gn}};const an=Ft.map(Rn=>{const Sr=getAlignment(Rn.placement);return[Rn.placement,Sr&&ne?Rn.overflows.slice(0,2).reduce((gr,Tr)=>gr+Tr,0):Rn.overflows[0],Rn.overflows]}).sort((Rn,Sr)=>Rn[1]-Sr[1]),xr=((y=an.filter(Rn=>Rn[2].slice(0,getAlignment(Rn[0])?2:3).every(Sr=>Sr<=0))[0])==null?void 0:y[0])||an[0][0];return xr!==C?{data:{index:je+1,overflows:Ft},reset:{placement:xr}}:{}}}},Il=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(u){var d,m;const{placement:y,middlewareData:E,rects:R,initialPlacement:C,platform:G,elements:K}=u,{mainAxis:ne=!0,crossAxis:Y=!0,fallbackPlacements:Pe,fallbackStrategy:Me="bestFit",fallbackAxisSideDirection:Le="none",flipAlignment:ce=!0,...Re}=wi(o,u);if((d=E.arrow)!=null&&d.alignmentOffset)return{};const je=Ls(y),qe=ms(C),xt=Ls(C)===C,jt=await(G.isRTL==null?void 0:G.isRTL(K.floating)),Ft=Pe||(xt||!ce?[iu(C)]:su(C)),gn=Le!=="none";!Pe&&gn&&Ft.push(...Dd(C,ce,Le,jt));const an=[C,...Ft],Mn=await la(u,Re),xr=[];let Rn=((m=E.flip)==null?void 0:m.overflows)||[];if(ne&&xr.push(Mn[je]),Y){const Lr=yc(y,R,jt);xr.push(Mn[Lr[0]],Mn[Lr[1]])}if(Rn=[...Rn,{placement:y,overflows:xr}],!xr.every(Lr=>Lr<=0)){var Sr,gr;const Lr=(((Sr=E.flip)==null?void 0:Sr.index)||0)+1,Xr=an[Lr];if(Xr)return{data:{index:Lr,overflows:Rn},reset:{placement:Xr}};let kr=(gr=Rn.filter(hr=>hr.overflows[0]<=0).sort((hr,Br)=>hr.overflows[1]-Br.overflows[1])[0])==null?void 0:gr.placement;if(!kr)switch(Me){case"bestFit":{var Tr;const hr=(Tr=Rn.filter(Br=>{if(gn){const dn=ms(Br.placement);return dn===qe||dn==="y"}return!0}).map(Br=>[Br.placement,Br.overflows.filter(dn=>dn>0).reduce((dn,is)=>dn+is,0)]).sort((Br,dn)=>Br[1]-dn[1])[0])==null?void 0:Tr[0];hr&&(kr=hr);break}case"initialPlacement":kr=C;break}if(y!==kr)return{reset:{placement:kr}}}return{}}}};function Hd(o,u){return{top:o.top-u.height,right:o.right-u.width,bottom:o.bottom-u.height,left:o.left-u.width}}function Sl(o){return Yn.some(u=>o[u]>=0)}const jd=function(o){return o===void 0&&(o={}),{name:"hide",options:o,async fn(u){const{rects:d}=u,{strategy:m="referenceHidden",...y}=wi(o,u);switch(m){case"referenceHidden":{const E=await la(u,{...y,elementContext:"reference"}),R=Hd(E,d.reference);return{data:{referenceHiddenOffsets:R,referenceHidden:Sl(R)}}}case"escaped":{const E=await la(u,{...y,altBoundary:!0}),R=Hd(E,d.floating);return{data:{escapedOffsets:R,escaped:Sl(R)}}}default:return{}}}}};function Gd(o){const u=min(...o.map(E=>E.left)),d=min(...o.map(E=>E.top)),m=max(...o.map(E=>E.right)),y=max(...o.map(E=>E.bottom));return{x:u,y:d,width:m-u,height:y-d}}function lg(o){const u=o.slice().sort((y,E)=>y.y-E.y),d=[];let m=null;for(let y=0;y<u.length;y++){const E=u[y];!m||E.y-m.y>m.height/2?d.push([E]):d[d.length-1].push(E),m=E}return d.map(y=>rectToClientRect(Gd(y)))}const dg=function(o){return o===void 0&&(o={}),{name:"inline",options:o,async fn(u){const{placement:d,elements:m,rects:y,platform:E,strategy:R}=u,{padding:C=2,x:G,y:K}=evaluate(o,u),ne=Array.from(await(E.getClientRects==null?void 0:E.getClientRects(m.reference))||[]),Y=lg(ne),Pe=rectToClientRect(Gd(ne)),Me=getPaddingObject(C);function Le(){if(Y.length===2&&Y[0].left>Y[1].right&&G!=null&&K!=null)return Y.find(Re=>G>Re.left-Me.left&&G<Re.right+Me.right&&K>Re.top-Me.top&&K<Re.bottom+Me.bottom)||Pe;if(Y.length>=2){if(getSideAxis(d)==="y"){const Rn=Y[0],Sr=Y[Y.length-1],gr=getSide(d)==="top",Tr=Rn.top,Lr=Sr.bottom,Xr=gr?Rn.left:Sr.left,kr=gr?Rn.right:Sr.right,hr=kr-Xr,Br=Lr-Tr;return{top:Tr,bottom:Lr,left:Xr,right:kr,width:hr,height:Br,x:Xr,y:Tr}}const Re=getSide(d)==="left",je=max(...Y.map(Rn=>Rn.right)),qe=min(...Y.map(Rn=>Rn.left)),xt=Y.filter(Rn=>Re?Rn.left===qe:Rn.right===je),jt=xt[0].top,Ft=xt[xt.length-1].bottom,gn=qe,an=je,Mn=an-gn,xr=Ft-jt;return{top:jt,bottom:Ft,left:gn,right:an,width:Mn,height:xr,x:gn,y:jt}}return Pe}const ce=await E.getElementRects({reference:{getBoundingClientRect:Le},floating:m.floating,strategy:R});return y.reference.x!==ce.reference.x||y.reference.y!==ce.reference.y||y.reference.width!==ce.reference.width||y.reference.height!==ce.reference.height?{reset:{rects:ce}}:{}}}};async function Wd(o,u){const{placement:d,platform:m,elements:y}=o,E=await(m.isRTL==null?void 0:m.isRTL(y.floating)),R=Ls(d),C=di(d),G=ms(d)==="y",K=["left","top"].includes(R)?-1:1,ne=E&&G?-1:1,Y=wi(u,o);let{mainAxis:Pe,crossAxis:Me,alignmentAxis:Le}=typeof Y=="number"?{mainAxis:Y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Y};return C&&typeof Le=="number"&&(Me=C==="end"?Le*-1:Le),G?{x:Me*ne,y:Pe*K}:{x:Pe*K,y:Me*ne}}const Zi=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(u){var d,m;const{x:y,y:E,placement:R,middlewareData:C}=u,G=await Wd(u,o);return R===((d=C.offset)==null?void 0:d.placement)&&(m=C.arrow)!=null&&m.alignmentOffset?{}:{x:y+G.x,y:E+G.y,data:{...G,placement:R}}}}},au=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(u){const{x:d,y:m,placement:y}=u,{mainAxis:E=!0,crossAxis:R=!1,limiter:C={fn:Re=>{let{x:je,y:qe}=Re;return{x:je,y:qe}}},...G}=wi(o,u),K={x:d,y:m},ne=await la(u,G),Y=ms(Ls(y)),Pe=ua(Y);let Me=K[Pe],Le=K[Y];if(E){const Re=Pe==="y"?"top":"left",je=Pe==="y"?"bottom":"right",qe=Me+ne[Re],xt=Me-ne[je];Me=Pi(qe,Me,xt)}if(R){const Re=Y==="y"?"top":"left",je=Y==="y"?"bottom":"right",qe=Le+ne[Re],xt=Le-ne[je];Le=Pi(qe,Le,xt)}const ce=C.fn({...u,[Pe]:Me,[Y]:Le});return{...ce,data:{x:ce.x-d,y:ce.y-m}}}}},Vd=function(o){return o===void 0&&(o={}),{options:o,fn(u){const{x:d,y:m,placement:y,rects:E,middlewareData:R}=u,{offset:C=0,mainAxis:G=!0,crossAxis:K=!0}=wi(o,u),ne={x:d,y:m},Y=ms(y),Pe=ua(Y);let Me=ne[Pe],Le=ne[Y];const ce=wi(C,u),Re=typeof ce=="number"?{mainAxis:ce,crossAxis:0}:{mainAxis:0,crossAxis:0,...ce};if(G){const xt=Pe==="y"?"height":"width",jt=E.reference[Pe]-E.floating[xt]+Re.mainAxis,Ft=E.reference[Pe]+E.reference[xt]-Re.mainAxis;Me<jt?Me=jt:Me>Ft&&(Me=Ft)}if(K){var je,qe;const xt=Pe==="y"?"width":"height",jt=["top","left"].includes(Ls(y)),Ft=E.reference[Y]-E.floating[xt]+(jt&&((je=R.offset)==null?void 0:je[Y])||0)+(jt?0:Re.crossAxis),gn=E.reference[Y]+E.reference[xt]+(jt?0:((qe=R.offset)==null?void 0:qe[Y])||0)-(jt?Re.crossAxis:0);Le<Ft?Le=Ft:Le>gn&&(Le=gn)}return{[Pe]:Me,[Y]:Le}}}},zd=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(u){const{placement:d,rects:m,platform:y,elements:E}=u,{apply:R=()=>{},...C}=wi(o,u),G=await la(u,C),K=Ls(d),ne=di(d),Y=ms(d)==="y",{width:Pe,height:Me}=m.floating;let Le,ce;K==="top"||K==="bottom"?(Le=K,ce=ne===(await(y.isRTL==null?void 0:y.isRTL(E.floating))?"start":"end")?"left":"right"):(ce=K,Le=ne==="end"?"top":"bottom");const Re=Me-G.top-G.bottom,je=Pe-G.left-G.right,qe=Or(Me-G[Le],Re),xt=Or(Pe-G[ce],je),jt=!u.middlewareData.shift;let Ft=qe,gn=xt;if(Y?gn=ne||jt?Or(xt,je):je:Ft=ne||jt?Or(qe,Re):Re,jt&&!ne){const Mn=jr(G.left,0),xr=jr(G.right,0),Rn=jr(G.top,0),Sr=jr(G.bottom,0);Y?gn=Pe-2*(Mn!==0||xr!==0?Mn+xr:jr(G.left,G.right)):Ft=Me-2*(Rn!==0||Sr!==0?Rn+Sr:jr(G.top,G.bottom))}await R({...u,availableWidth:gn,availableHeight:Ft});const an=await y.getDimensions(E.floating);return Pe!==an.width||Me!==an.height?{reset:{rects:!0}}:{}}}};function da(o){return Kd(o)?(o.nodeName||"").toLowerCase():"#document"}function Dr(o){var u;return(o==null||(u=o.ownerDocument)==null?void 0:u.defaultView)||window}function gs(o){var u;return(u=(Kd(o)?o.ownerDocument:o.document)||window.document)==null?void 0:u.documentElement}function Kd(o){return o instanceof Node||o instanceof Dr(o).Node}function Di(o){return o instanceof Element||o instanceof Dr(o).Element}function qi(o){return o instanceof HTMLElement||o instanceof Dr(o).HTMLElement}function $d(o){return typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof Dr(o).ShadowRoot}function vc(o){const{overflow:u,overflowX:d,overflowY:m,display:y}=Li(o);return/auto|scroll|overlay|hidden|clip/.test(u+m+d)&&!["inline","contents"].includes(y)}function ip(o){return["table","td","th"].includes(da(o))}function cu(o){return[":popover-open",":modal"].some(u=>{try{return o.matches(u)}catch{return!1}})}function Pl(o){const u=Rl(),d=Di(o)?Li(o):o;return d.transform!=="none"||d.perspective!=="none"||(d.containerType?d.containerType!=="normal":!1)||!u&&(d.backdropFilter?d.backdropFilter!=="none":!1)||!u&&(d.filter?d.filter!=="none":!1)||["transform","perspective","filter"].some(m=>(d.willChange||"").includes(m))||["paint","layout","strict","content"].some(m=>(d.contain||"").includes(m))}function op(o){let u=cs(o);for(;qi(u)&&!Da(u);){if(Pl(u))return u;if(cu(u))return null;u=cs(u)}return null}function Rl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Da(o){return["html","body","#document"].includes(da(o))}function Li(o){return Dr(o).getComputedStyle(o)}function uu(o){return Di(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function cs(o){if(da(o)==="html")return o;const u=o.assignedSlot||o.parentNode||$d(o)&&o.host||gs(o);return $d(u)?u.host:u}function Qd(o){const u=cs(o);return Da(u)?o.ownerDocument?o.ownerDocument.body:o.body:qi(u)&&vc(u)?u:Qd(u)}function Ns(o,u,d){var m;u===void 0&&(u=[]),d===void 0&&(d=!0);const y=Qd(o),E=y===((m=o.ownerDocument)==null?void 0:m.body),R=Dr(y);if(E){const C=Cl(R);return u.concat(R,R.visualViewport||[],vc(y)?y:[],C&&d?Ns(C):[])}return u.concat(y,Ns(y,[],d))}function Cl(o){return o.parent&&Object.getPrototypeOf(o.parent)?o.frameElement:null}function Zd(o){const u=Li(o);let d=parseFloat(u.width)||0,m=parseFloat(u.height)||0;const y=qi(o),E=y?o.offsetWidth:d,R=y?o.offsetHeight:m,C=Cs(d)!==E||Cs(m)!==R;return C&&(d=E,m=R),{width:d,height:m,$:C}}function La(o){return Di(o)?o:o.contextElement}function Lo(o){const u=La(o);if(!qi(u))return Ds(1);const d=u.getBoundingClientRect(),{width:m,height:y,$:E}=Zd(u);let R=(E?Cs(d.width):d.width)/m,C=(E?Cs(d.height):d.height)/y;return(!R||!Number.isFinite(R))&&(R=1),(!C||!Number.isFinite(C))&&(C=1),{x:R,y:C}}const fa=Ds(0);function lu(o){const u=Dr(o);return!Rl()||!u.visualViewport?fa:{x:u.visualViewport.offsetLeft,y:u.visualViewport.offsetTop}}function fg(o,u,d){return u===void 0&&(u=!1),!d||u&&d!==Dr(o)?!1:u}function _o(o,u,d,m){u===void 0&&(u=!1),d===void 0&&(d=!1);const y=o.getBoundingClientRect(),E=La(o);let R=Ds(1);u&&(m?Di(m)&&(R=Lo(m)):R=Lo(o));const C=fg(E,d,m)?lu(E):Ds(0);let G=(y.left+C.x)/R.x,K=(y.top+C.y)/R.y,ne=y.width/R.x,Y=y.height/R.y;if(E){const Pe=Dr(E),Me=m&&Di(m)?Dr(m):m;let Le=Pe,ce=Cl(Le);for(;ce&&m&&Me!==Le;){const Re=Lo(ce),je=ce.getBoundingClientRect(),qe=Li(ce),xt=je.left+(ce.clientLeft+parseFloat(qe.paddingLeft))*Re.x,jt=je.top+(ce.clientTop+parseFloat(qe.paddingTop))*Re.y;G*=Re.x,K*=Re.y,ne*=Re.x,Y*=Re.y,G+=xt,K+=jt,Le=Dr(ce),ce=Cl(Le)}}return Ma({width:ne,height:Y,x:G,y:K})}function du(o){let{elements:u,rect:d,offsetParent:m,strategy:y}=o;const E=y==="fixed",R=gs(m),C=u?cu(u.floating):!1;if(m===R||C&&E)return d;let G={scrollLeft:0,scrollTop:0},K=Ds(1);const ne=Ds(0),Y=qi(m);if((Y||!Y&&!E)&&((da(m)!=="body"||vc(R))&&(G=uu(m)),qi(m))){const Pe=_o(m);K=Lo(m),ne.x=Pe.x+m.clientLeft,ne.y=Pe.y+m.clientTop}return{width:d.width*K.x,height:d.height*K.y,x:d.x*K.x-G.scrollLeft*K.x+ne.x,y:d.y*K.y-G.scrollTop*K.y+ne.y}}function Nl(o){return Array.from(o.getClientRects())}function kl(o){return _o(gs(o)).left+uu(o).scrollLeft}function qd(o){const u=gs(o),d=uu(o),m=o.ownerDocument.body,y=jr(u.scrollWidth,u.clientWidth,m.scrollWidth,m.clientWidth),E=jr(u.scrollHeight,u.clientHeight,m.scrollHeight,m.clientHeight);let R=-d.scrollLeft+kl(o);const C=-d.scrollTop;return Li(m).direction==="rtl"&&(R+=jr(u.clientWidth,m.clientWidth)-y),{width:y,height:E,x:R,y:C}}function ap(o,u){const d=Dr(o),m=gs(o),y=d.visualViewport;let E=m.clientWidth,R=m.clientHeight,C=0,G=0;if(y){E=y.width,R=y.height;const K=Rl();(!K||K&&u==="fixed")&&(C=y.offsetLeft,G=y.offsetTop)}return{width:E,height:R,x:C,y:G}}function cp(o,u){const d=_o(o,!0,u==="fixed"),m=d.top+o.clientTop,y=d.left+o.clientLeft,E=qi(o)?Lo(o):Ds(1),R=o.clientWidth*E.x,C=o.clientHeight*E.y,G=y*E.x,K=m*E.y;return{width:R,height:C,x:G,y:K}}function Jd(o,u,d){let m;if(u==="viewport")m=ap(o,d);else if(u==="document")m=qd(gs(o));else if(Di(u))m=cp(u,d);else{const y=lu(o);m={...u,x:u.x-y.x,y:u.y-y.y}}return Ma(m)}function Xd(o,u){const d=cs(o);return d===u||!Di(d)||Da(d)?!1:Li(d).position==="fixed"||Xd(d,u)}function up(o,u){const d=u.get(o);if(d)return d;let m=Ns(o,[],!1).filter(C=>Di(C)&&da(C)!=="body"),y=null;const E=Li(o).position==="fixed";let R=E?cs(o):o;for(;Di(R)&&!Da(R);){const C=Li(R),G=Pl(R);!G&&C.position==="fixed"&&(y=null),(E?!G&&!y:!G&&C.position==="static"&&!!y&&["absolute","fixed"].includes(y.position)||vc(R)&&!G&&Xd(o,R))?m=m.filter(ne=>ne!==R):y=C,R=cs(R)}return u.set(o,m),m}function lp(o){let{element:u,boundary:d,rootBoundary:m,strategy:y}=o;const R=[...d==="clippingAncestors"?cu(u)?[]:up(u,this._c):[].concat(d),m],C=R[0],G=R.reduce((K,ne)=>{const Y=Jd(u,ne,y);return K.top=jr(Y.top,K.top),K.right=Or(Y.right,K.right),K.bottom=Or(Y.bottom,K.bottom),K.left=jr(Y.left,K.left),K},Jd(u,C,y));return{width:G.right-G.left,height:G.bottom-G.top,x:G.left,y:G.top}}function dp(o){const{width:u,height:d}=Zd(o);return{width:u,height:d}}function fp(o,u,d){const m=qi(u),y=gs(u),E=d==="fixed",R=_o(o,!0,E,u);let C={scrollLeft:0,scrollTop:0};const G=Ds(0);if(m||!m&&!E)if((da(u)!=="body"||vc(y))&&(C=uu(u)),m){const Y=_o(u,!0,E,u);G.x=Y.x+u.clientLeft,G.y=Y.y+u.clientTop}else y&&(G.x=kl(y));const K=R.left+C.scrollLeft-G.x,ne=R.top+C.scrollTop-G.y;return{x:K,y:ne,width:R.width,height:R.height}}function Ol(o){return Li(o).position==="static"}function Bl(o,u){return!qi(o)||Li(o).position==="fixed"?null:u?u(o):o.offsetParent}function Ml(o,u){const d=Dr(o);if(cu(o))return d;if(!qi(o)){let y=cs(o);for(;y&&!Da(y);){if(Di(y)&&!Ol(y))return y;y=cs(y)}return d}let m=Bl(o,u);for(;m&&ip(m)&&Ol(m);)m=Bl(m,u);return m&&Da(m)&&Ol(m)&&!Pl(m)?d:m||op(o)||d}const Yd=async function(o){const u=this.getOffsetParent||Ml,d=this.getDimensions,m=await d(o.floating);return{reference:fp(o.reference,await u(o.floating),o.strategy),floating:{x:0,y:0,width:m.width,height:m.height}}};function ef(o){return Li(o).direction==="rtl"}const hp={convertOffsetParentRelativeRectToViewportRelativeRect:du,getDocumentElement:gs,getClippingRect:lp,getOffsetParent:Ml,getElementRects:Yd,getClientRects:Nl,getDimensions:dp,getScale:Lo,isElement:Di,isRTL:ef};function hg(o,u){let d=null,m;const y=gs(o);function E(){var C;clearTimeout(m),(C=d)==null||C.disconnect(),d=null}function R(C,G){C===void 0&&(C=!1),G===void 0&&(G=1),E();const{left:K,top:ne,width:Y,height:Pe}=o.getBoundingClientRect();if(C||u(),!Y||!Pe)return;const Me=bi(ne),Le=bi(y.clientWidth-(K+Y)),ce=bi(y.clientHeight-(ne+Pe)),Re=bi(K),qe={rootMargin:-Me+"px "+-Le+"px "+-ce+"px "+-Re+"px",threshold:jr(0,Or(1,G))||1};let xt=!0;function jt(Ft){const gn=Ft[0].intersectionRatio;if(gn!==G){if(!xt)return R();gn?R(!1,gn):m=setTimeout(()=>{R(!1,1e-7)},1e3)}xt=!1}try{d=new IntersectionObserver(jt,{...qe,root:y.ownerDocument})}catch{d=new IntersectionObserver(jt,qe)}d.observe(o)}return R(!0),E}function pg(o,u,d,m){m===void 0&&(m={});const{ancestorScroll:y=!0,ancestorResize:E=!0,elementResize:R=typeof ResizeObserver=="function",layoutShift:C=typeof IntersectionObserver=="function",animationFrame:G=!1}=m,K=La(o),ne=y||E?[...K?Ns(K):[],...Ns(u)]:[];ne.forEach(je=>{y&&je.addEventListener("scroll",d,{passive:!0}),E&&je.addEventListener("resize",d)});const Y=K&&C?hg(K,d):null;let Pe=-1,Me=null;R&&(Me=new ResizeObserver(je=>{let[qe]=je;qe&&qe.target===K&&Me&&(Me.unobserve(u),cancelAnimationFrame(Pe),Pe=requestAnimationFrame(()=>{var xt;(xt=Me)==null||xt.observe(u)})),d()}),K&&!G&&Me.observe(K),Me.observe(u));let Le,ce=G?_o(o):null;G&&Re();function Re(){const je=_o(o);ce&&(je.x!==ce.x||je.y!==ce.y||je.width!==ce.width||je.height!==ce.height)&&d(),ce=je,Le=requestAnimationFrame(Re)}return d(),()=>{var je;ne.forEach(qe=>{y&&qe.removeEventListener("scroll",d),E&&qe.removeEventListener("resize",d)}),Y==null||Y(),(je=Me)==null||je.disconnect(),Me=null,G&&cancelAnimationFrame(Le)}}const hb=null,mg=Zi,pb=null,gg=au,yg=Il,qn=zd,fu=jd,pp=sp,Dl=null,Ll=Vd,hu=(o,u,d)=>{const m=new Map,y={platform:hp,...d},E={...y.platform,_c:m};return Fd(o,u,{...y,platform:E})};var _i=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Fl(o,u){if(o===u)return!0;if(typeof o!=typeof u)return!1;if(typeof o=="function"&&o.toString()===u.toString())return!0;let d,m,y;if(o&&u&&typeof o=="object"){if(Array.isArray(o)){if(d=o.length,d!==u.length)return!1;for(m=d;m--!==0;)if(!Fl(o[m],u[m]))return!1;return!0}if(y=Object.keys(o),d=y.length,d!==Object.keys(u).length)return!1;for(m=d;m--!==0;)if(!{}.hasOwnProperty.call(u,y[m]))return!1;for(m=d;m--!==0;){const E=y[m];if(!(E==="_owner"&&o.$$typeof)&&!Fl(o[E],u[E]))return!1}return!0}return o!==o&&u!==u}function tf(o){return typeof window>"u"?1:(o.ownerDocument.defaultView||window).devicePixelRatio||1}function mp(o,u){const d=tf(o);return Math.round(u*d)/d}function Ji(o){const u=x.useRef(o);return _i(()=>{u.current=o}),u}function nf(o){o===void 0&&(o={});const{placement:u="bottom",strategy:d="absolute",middleware:m=[],platform:y,elements:{reference:E,floating:R}={},transform:C=!0,whileElementsMounted:G,open:K}=o,[ne,Y]=x.useState({x:0,y:0,strategy:d,placement:u,middlewareData:{},isPositioned:!1}),[Pe,Me]=x.useState(m);Fl(Pe,m)||Me(m);const[Le,ce]=x.useState(null),[Re,je]=x.useState(null),qe=x.useCallback(hr=>{hr!==gn.current&&(gn.current=hr,ce(hr))},[]),xt=x.useCallback(hr=>{hr!==an.current&&(an.current=hr,je(hr))},[]),jt=E||Le,Ft=R||Re,gn=x.useRef(null),an=x.useRef(null),Mn=x.useRef(ne),xr=G!=null,Rn=Ji(G),Sr=Ji(y),gr=x.useCallback(()=>{if(!gn.current||!an.current)return;const hr={placement:u,strategy:d,middleware:Pe};Sr.current&&(hr.platform=Sr.current),hu(gn.current,an.current,hr).then(Br=>{const dn={...Br,isPositioned:!0};Tr.current&&!Fl(Mn.current,dn)&&(Mn.current=dn,M.flushSync(()=>{Y(dn)}))})},[Pe,u,d,Sr]);_i(()=>{K===!1&&Mn.current.isPositioned&&(Mn.current.isPositioned=!1,Y(hr=>({...hr,isPositioned:!1})))},[K]);const Tr=x.useRef(!1);_i(()=>(Tr.current=!0,()=>{Tr.current=!1}),[]),_i(()=>{if(jt&&(gn.current=jt),Ft&&(an.current=Ft),jt&&Ft){if(Rn.current)return Rn.current(jt,Ft,gr);gr()}},[jt,Ft,gr,Rn,xr]);const Lr=x.useMemo(()=>({reference:gn,floating:an,setReference:qe,setFloating:xt}),[qe,xt]),Xr=x.useMemo(()=>({reference:jt,floating:Ft}),[jt,Ft]),kr=x.useMemo(()=>{const hr={position:d,left:0,top:0};if(!Xr.floating)return hr;const Br=mp(Xr.floating,ne.x),dn=mp(Xr.floating,ne.y);return C?{...hr,transform:"translate("+Br+"px, "+dn+"px)",...tf(Xr.floating)>=1.5&&{willChange:"transform"}}:{position:d,left:Br,top:dn}},[d,C,Xr.floating,ne.x,ne.y]);return x.useMemo(()=>({...ne,update:gr,refs:Lr,elements:Xr,floatingStyles:kr}),[ne,gr,Lr,Xr,kr])}const vg=o=>{function u(d){return{}.hasOwnProperty.call(d,"current")}return{name:"arrow",options:o,fn(d){const{element:m,padding:y}=typeof o=="function"?o(d):o;return m&&u(m)?m.current!=null?pp({element:m.current,padding:y}).fn(d):{}:m?pp({element:m,padding:y}).fn(d):{}}}},gp=(o,u)=>({...mg(o),options:[o,u]}),bg=(o,u)=>({...gg(o),options:[o,u]}),Fa=(o,u)=>({...Ll(o),options:[o,u]}),Fo=(o,u)=>({...yg(o),options:[o,u]}),pu=(o,u)=>({...qn(o),options:[o,u]}),rf=(o,u)=>({...autoPlacement$1(o),options:[o,u]}),yp=(o,u)=>({...fu(o),options:[o,u]}),vp=(o,u)=>({...inline$1(o),options:[o,u]}),Ul=(o,u)=>({...vg(o),options:[o,u]});var wg="Arrow",bp=x.forwardRef((o,u)=>{const{children:d,width:m=10,height:y=5,...E}=o;return(0,v.jsx)(re.svg,{...E,ref:u,width:m,height:y,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:o.asChild?d:(0,v.jsx)("polygon",{points:"0,0 30,0 15,10"})})});bp.displayName=wg;var sf=bp;function of(o){const[u,d]=x.useState(void 0);return P(()=>{if(o){d({width:o.offsetWidth,height:o.offsetHeight});const m=new ResizeObserver(y=>{if(!Array.isArray(y)||!y.length)return;const E=y[0];let R,C;if("borderBoxSize"in E){const G=E.borderBoxSize,K=Array.isArray(G)?G[0]:G;R=K.inlineSize,C=K.blockSize}else R=o.offsetWidth,C=o.offsetHeight;d({width:R,height:C})});return m.observe(o,{box:"border-box"}),()=>m.unobserve(o)}else d(void 0)},[o]),u}var wp=null,_p=null,Hl="Popper",[Ua,af]=L(Hl),[Ep,cf]=Ua(Hl),uf=o=>{const{__scopePopper:u,children:d}=o,[m,y]=x.useState(null);return(0,v.jsx)(Ep,{scope:u,anchor:m,onAnchorChange:y,children:d})};uf.displayName=Hl;var lf="PopperAnchor",df=x.forwardRef((o,u)=>{const{__scopePopper:d,virtualRef:m,...y}=o,E=cf(lf,d),R=x.useRef(null),C=Te(u,R);return x.useEffect(()=>{E.onAnchorChange((m==null?void 0:m.current)||R.current)}),m?null:(0,v.jsx)(re.div,{...y,ref:C})});df.displayName=lf;var mu="PopperContent",[ff,Ap]=Ua(mu),bc=x.forwardRef((o,u)=>{var ta,Yu,Wi,el,yd,yr;const{__scopePopper:d,side:m="bottom",sideOffset:y=0,align:E="center",alignOffset:R=0,arrowPadding:C=0,avoidCollisions:G=!0,collisionBoundary:K=[],collisionPadding:ne=0,sticky:Y="partial",hideWhenDetached:Pe=!1,updatePositionStrategy:Me="optimized",onPlaced:Le,...ce}=o,Re=cf(mu,d),[je,qe]=x.useState(null),xt=Te(u,cc=>qe(cc)),[jt,Ft]=x.useState(null),gn=of(jt),an=(gn==null?void 0:gn.width)??0,Mn=(gn==null?void 0:gn.height)??0,xr=m+(E!=="center"?"-"+E:""),Rn=typeof ne=="number"?ne:{top:0,right:0,bottom:0,left:0,...ne},Sr=Array.isArray(K)?K:[K],gr=Sr.length>0,Tr={padding:Rn,boundary:Sr.filter(Eg),altBoundary:gr},{refs:Lr,floatingStyles:Xr,placement:kr,isPositioned:hr,middlewareData:Br}=nf({strategy:"fixed",placement:xr,whileElementsMounted:(...cc)=>pg(...cc,{animationFrame:Me==="always"}),elements:{reference:Re.anchor},middleware:[gp({mainAxis:y+Mn,alignmentAxis:R}),G&&bg({mainAxis:!0,crossAxis:!1,limiter:Y==="partial"?Fa():void 0,...Tr}),G&&Fo({...Tr}),pu({...Tr,apply:({elements:cc,rects:xa,availableWidth:hh,availableHeight:ph})=>{const{width:Fm,height:Gg}=xa.reference,vd=cc.floating.style;vd.setProperty("--radix-popper-available-width",`${hh}px`),vd.setProperty("--radix-popper-available-height",`${ph}px`),vd.setProperty("--radix-popper-anchor-width",`${Fm}px`),vd.setProperty("--radix-popper-anchor-height",`${Gg}px`)}}),jt&&Ul({element:jt,padding:C}),Ag({arrowWidth:an,arrowHeight:Mn}),Pe&&yp({strategy:"referenceHidden",...Tr})]}),[dn,is]=hf(kr),ls=$(Le);P(()=>{hr&&(ls==null||ls())},[hr,ls]);const lo=(ta=Br.arrow)==null?void 0:ta.x,Ju=(Yu=Br.arrow)==null?void 0:Yu.y,Xu=((Wi=Br.arrow)==null?void 0:Wi.centerOffset)!==0,[gd,Aa]=x.useState();return P(()=>{je&&Aa(window.getComputedStyle(je).zIndex)},[je]),(0,v.jsx)("div",{ref:Lr.setFloating,"data-radix-popper-content-wrapper":"",style:{...Xr,transform:hr?Xr.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gd,"--radix-popper-transform-origin":[(el=Br.transformOrigin)==null?void 0:el.x,(yd=Br.transformOrigin)==null?void 0:yd.y].join(" "),...((yr=Br.hide)==null?void 0:yr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:o.dir,children:(0,v.jsx)(ff,{scope:d,placedSide:dn,onArrowChange:Ft,arrowX:lo,arrowY:Ju,shouldHideArrow:Xu,children:(0,v.jsx)(re.div,{"data-side":dn,"data-align":is,...ce,ref:xt,style:{...ce.style,animation:hr?void 0:"none"}})})})});bc.displayName=mu;var wc="PopperArrow",_g={top:"bottom",right:"left",bottom:"top",left:"right"},xp=x.forwardRef(function(u,d){const{__scopePopper:m,...y}=u,E=Ap(wc,m),R=_g[E.placedSide];return(0,v.jsx)("span",{ref:E.onArrowChange,style:{position:"absolute",left:E.arrowX,top:E.arrowY,[R]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[E.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[E.placedSide],visibility:E.shouldHideArrow?"hidden":void 0},children:(0,v.jsx)(sf,{...y,ref:d,style:{...y.style,display:"block"}})})});xp.displayName=wc;function Eg(o){return o!==null}var Ag=o=>({name:"transformOrigin",options:o,fn(u){var Re,je,qe;const{placement:d,rects:m,middlewareData:y}=u,R=((Re=y.arrow)==null?void 0:Re.centerOffset)!==0,C=R?0:o.arrowWidth,G=R?0:o.arrowHeight,[K,ne]=hf(d),Y={start:"0%",center:"50%",end:"100%"}[ne],Pe=(((je=y.arrow)==null?void 0:je.x)??0)+C/2,Me=(((qe=y.arrow)==null?void 0:qe.y)??0)+G/2;let Le="",ce="";return K==="bottom"?(Le=R?Y:`${Pe}px`,ce=`${-G}px`):K==="top"?(Le=R?Y:`${Pe}px`,ce=`${m.floating.height+G}px`):K==="right"?(Le=`${-G}px`,ce=R?Y:`${Me}px`):K==="left"&&(Le=`${m.floating.width+G}px`,ce=R?Y:`${Me}px`),{data:{x:Le,y:ce}}}});function hf(o){const[u,d="center"]=o.split("-");return[u,d]}var jl=uf,Tp=df,Ip=bc,xg=xp,pf="rovingFocusGroup.onEntryFocus",Tg={bubbles:!1,cancelable:!0},Gl="RovingFocusGroup",[Ha,Wl,Ig]=js(Gl),[Sp,_c]=L(Gl,[Ig]),[Sg,Pg]=Sp(Gl),Ws=x.forwardRef((o,u)=>(0,v.jsx)(Ha.Provider,{scope:o.__scopeRovingFocusGroup,children:(0,v.jsx)(Ha.Slot,{scope:o.__scopeRovingFocusGroup,children:(0,v.jsx)(Rg,{...o,ref:u})})}));Ws.displayName=Gl;var Rg=x.forwardRef((o,u)=>{const{__scopeRovingFocusGroup:d,orientation:m,loop:y=!1,dir:E,currentTabStopId:R,defaultCurrentTabStopId:C,onCurrentTabStopIdChange:G,onEntryFocus:K,preventScrollOnEntryFocus:ne=!1,...Y}=o,Pe=x.useRef(null),Me=Te(u,Pe),Le=Vt(E),[ce=null,Re]=se({prop:R,defaultProp:C,onChange:G}),[je,qe]=x.useState(!1),xt=$(K),jt=Wl(d),Ft=x.useRef(!1),[gn,an]=x.useState(0);return x.useEffect(()=>{const Mn=Pe.current;if(Mn)return Mn.addEventListener(pf,xt),()=>Mn.removeEventListener(pf,xt)},[xt]),(0,v.jsx)(Sg,{scope:d,orientation:m,dir:Le,loop:y,currentTabStopId:ce,onItemFocus:x.useCallback(Mn=>Re(Mn),[Re]),onItemShiftTab:x.useCallback(()=>qe(!0),[]),onFocusableItemAdd:x.useCallback(()=>an(Mn=>Mn+1),[]),onFocusableItemRemove:x.useCallback(()=>an(Mn=>Mn-1),[]),children:(0,v.jsx)(re.div,{tabIndex:je||gn===0?-1:0,"data-orientation":m,...Y,ref:Me,style:{outline:"none",...o.style},onMouseDown:le(o.onMouseDown,()=>{Ft.current=!0}),onFocus:le(o.onFocus,Mn=>{const xr=!Ft.current;if(Mn.target===Mn.currentTarget&&xr&&!je){const Rn=new CustomEvent(pf,Tg);if(Mn.currentTarget.dispatchEvent(Rn),!Rn.defaultPrevented){const Sr=jt().filter(kr=>kr.focusable),gr=Sr.find(kr=>kr.active),Tr=Sr.find(kr=>kr.id===ce),Xr=[gr,Tr,...Sr].filter(Boolean).map(kr=>kr.ref.current);St(Xr,ne)}}Ft.current=!1}),onBlur:le(o.onBlur,()=>qe(!1))})})}),Pp="RovingFocusGroupItem",dr=x.forwardRef((o,u)=>{const{__scopeRovingFocusGroup:d,focusable:m=!0,active:y=!1,tabStopId:E,...R}=o,C=j(),G=E||C,K=Pg(Pp,d),ne=K.currentTabStopId===G,Y=Wl(d),{onFocusableItemAdd:Pe,onFocusableItemRemove:Me}=K;return x.useEffect(()=>{if(m)return Pe(),()=>Me()},[m,Pe,Me]),(0,v.jsx)(Ha.ItemSlot,{scope:d,id:G,focusable:m,active:y,children:(0,v.jsx)(re.span,{tabIndex:ne?0:-1,"data-orientation":K.orientation,...R,ref:u,onMouseDown:le(o.onMouseDown,Le=>{m?K.onItemFocus(G):Le.preventDefault()}),onFocus:le(o.onFocus,()=>K.onItemFocus(G)),onKeyDown:le(o.onKeyDown,Le=>{if(Le.key==="Tab"&&Le.shiftKey){K.onItemShiftTab();return}if(Le.target!==Le.currentTarget)return;const ce=Uo(Le,K.orientation,K.dir);if(ce!==void 0){if(Le.metaKey||Le.ctrlKey||Le.altKey||Le.shiftKey)return;Le.preventDefault();let je=Y().filter(qe=>qe.focusable).map(qe=>qe.ref.current);if(ce==="last")je.reverse();else if(ce==="prev"||ce==="next"){ce==="prev"&&je.reverse();const qe=je.indexOf(Le.currentTarget);je=K.loop?Rp(je,qe+1):je.slice(qe+1)}setTimeout(()=>St(je))}})})})});dr.displayName=Pp;var Vl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nn(o,u){return u!=="rtl"?o:o==="ArrowLeft"?"ArrowRight":o==="ArrowRight"?"ArrowLeft":o}function Uo(o,u,d){const m=nn(o.key,d);if(!(u==="vertical"&&["ArrowLeft","ArrowRight"].includes(m))&&!(u==="horizontal"&&["ArrowUp","ArrowDown"].includes(m)))return Vl[m]}function St(o,u=!1){const d=document.activeElement;for(const m of o)if(m===d||(m.focus({preventScroll:u}),document.activeElement!==d))return}function Rp(o,u){return o.map((d,m)=>o[(u+m)%o.length])}var Ei=Ws,ja=dr,gu=["Enter"," "],Cp=["ArrowDown","PageUp","Home"],Ec=["ArrowUp","PageDown","End"],yu=[...Cp,...Ec],Np={ltr:[...gu,"ArrowRight"],rtl:[...gu,"ArrowLeft"]},Jt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bs="Menu",[Tn,Ga,ri]=js(bs),[Eo,vu]=L(bs,[ri,af,_c]),Ao=af(),Wa=_c(),[Ac,xo]=Eo(bs),[vn,To]=Eo(bs),Va=o=>{const{__scopeMenu:u,open:d=!1,children:m,dir:y,onOpenChange:E,modal:R=!0}=o,C=Ao(u),[G,K]=x.useState(null),ne=x.useRef(!1),Y=$(E),Pe=Vt(y);return x.useEffect(()=>{const Me=()=>{ne.current=!0,document.addEventListener("pointerdown",Le,{capture:!0,once:!0}),document.addEventListener("pointermove",Le,{capture:!0,once:!0})},Le=()=>ne.current=!1;return document.addEventListener("keydown",Me,{capture:!0}),()=>{document.removeEventListener("keydown",Me,{capture:!0}),document.removeEventListener("pointerdown",Le,{capture:!0}),document.removeEventListener("pointermove",Le,{capture:!0})}},[]),(0,v.jsx)(jl,{...C,children:(0,v.jsx)(Ac,{scope:u,open:d,onOpenChange:Y,content:G,onContentChange:K,children:(0,v.jsx)(vn,{scope:u,onClose:x.useCallback(()=>Y(!1),[Y]),isUsingKeyboardRef:ne,dir:Pe,modal:R,children:m})})})};Va.displayName=bs;var Xi="MenuAnchor",bu=x.forwardRef((o,u)=>{const{__scopeMenu:d,...m}=o,y=Ao(d);return(0,v.jsx)(Tp,{...y,...m,ref:u})});bu.displayName=Xi;var jn="MenuPortal",[Jn,mf]=Eo(jn,{forceMount:void 0}),gf=o=>{const{__scopeMenu:u,forceMount:d,children:m,container:y}=o,E=xo(jn,u);return(0,v.jsx)(Jn,{scope:u,forceMount:d,children:(0,v.jsx)(ot,{present:d||E.open,children:(0,v.jsx)(xe,{asChild:!0,container:y,children:m})})})};gf.displayName=jn;var Ri="MenuContent",[kp,zl]=Eo(Ri),yf=x.forwardRef((o,u)=>{const d=mf(Ri,o.__scopeMenu),{forceMount:m=d.forceMount,...y}=o,E=xo(Ri,o.__scopeMenu),R=To(Ri,o.__scopeMenu);return(0,v.jsx)(Tn.Provider,{scope:o.__scopeMenu,children:(0,v.jsx)(ot,{present:m||E.open,children:(0,v.jsx)(Tn.Slot,{scope:o.__scopeMenu,children:R.modal?(0,v.jsx)(Op,{...y,ref:u}):(0,v.jsx)(Bp,{...y,ref:u})})})})}),Op=x.forwardRef((o,u)=>{const d=xo(Ri,o.__scopeMenu),m=x.useRef(null),y=Te(u,m);return x.useEffect(()=>{const E=m.current;if(E)return wn(E)},[]),(0,v.jsx)(xc,{...o,ref:y,trapFocus:d.open,disableOutsidePointerEvents:d.open,disableOutsideScroll:!0,onFocusOutside:le(o.onFocusOutside,E=>E.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>d.onOpenChange(!1)})}),Bp=x.forwardRef((o,u)=>{const d=xo(Ri,o.__scopeMenu);return(0,v.jsx)(xc,{...o,ref:u,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>d.onOpenChange(!1)})}),xc=x.forwardRef((o,u)=>{const{__scopeMenu:d,loop:m=!1,trapFocus:y,onOpenAutoFocus:E,onCloseAutoFocus:R,disableOutsidePointerEvents:C,onEntryFocus:G,onEscapeKeyDown:K,onPointerDownOutside:ne,onFocusOutside:Y,onInteractOutside:Pe,onDismiss:Me,disableOutsideScroll:Le,...ce}=o,Re=xo(Ri,d),je=To(Ri,d),qe=Ao(d),xt=Wa(d),jt=Ga(d),[Ft,gn]=x.useState(null),an=x.useRef(null),Mn=Te(u,an,Re.onContentChange),xr=x.useRef(0),Rn=x.useRef(""),Sr=x.useRef(0),gr=x.useRef(null),Tr=x.useRef("right"),Lr=x.useRef(0),Xr=Le?ei:x.Fragment,kr=Le?{as:fe,allowPinchZoom:!0}:void 0,hr=dn=>{var ta,Yu;const is=Rn.current+dn,ls=jt().filter(Wi=>!Wi.disabled),lo=document.activeElement,Ju=(ta=ls.find(Wi=>Wi.ref.current===lo))==null?void 0:ta.textValue,Xu=ls.map(Wi=>Wi.textValue),gd=bf(Xu,is,Ju),Aa=(Yu=ls.find(Wi=>Wi.textValue===gd))==null?void 0:Yu.ref.current;(function Wi(el){Rn.current=el,window.clearTimeout(xr.current),el!==""&&(xr.current=window.setTimeout(()=>Wi(""),1e3))})(is),Aa&&setTimeout(()=>Aa.focus())};x.useEffect(()=>()=>window.clearTimeout(xr.current),[]),Os();const Br=x.useCallback(dn=>{var ls,lo;return Tr.current===((ls=gr.current)==null?void 0:ls.side)&&Nc(dn,(lo=gr.current)==null?void 0:lo.area)},[]);return(0,v.jsx)(kp,{scope:d,searchRef:Rn,onItemEnter:x.useCallback(dn=>{Br(dn)&&dn.preventDefault()},[Br]),onItemLeave:x.useCallback(dn=>{var is;Br(dn)||((is=an.current)==null||is.focus(),gn(null))},[Br]),onTriggerLeave:x.useCallback(dn=>{Br(dn)&&dn.preventDefault()},[Br]),pointerGraceTimerRef:Sr,onPointerGraceIntentChange:x.useCallback(dn=>{gr.current=dn},[]),children:(0,v.jsx)(Xr,{...kr,children:(0,v.jsx)(Gn,{asChild:!0,trapped:y,onMountAutoFocus:le(E,dn=>{var is;dn.preventDefault(),(is=an.current)==null||is.focus({preventScroll:!0})}),onUnmountAutoFocus:R,children:(0,v.jsx)(nt,{asChild:!0,disableOutsidePointerEvents:C,onEscapeKeyDown:K,onPointerDownOutside:ne,onFocusOutside:Y,onInteractOutside:Pe,onDismiss:Me,children:(0,v.jsx)(Ei,{asChild:!0,...xt,dir:je.dir,orientation:"vertical",loop:m,currentTabStopId:Ft,onCurrentTabStopIdChange:gn,onEntryFocus:le(G,dn=>{je.isUsingKeyboardRef.current||dn.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,v.jsx)(Ip,{role:"menu","aria-orientation":"vertical","data-state":Pc(Re.open),"data-radix-menu-content":"",dir:je.dir,...qe,...ce,ref:Mn,style:{outline:"none",...ce.style},onKeyDown:le(ce.onKeyDown,dn=>{const ls=dn.target.closest("[data-radix-menu-content]")===dn.currentTarget,lo=dn.ctrlKey||dn.altKey||dn.metaKey,Ju=dn.key.length===1;ls&&(dn.key==="Tab"&&dn.preventDefault(),!lo&&Ju&&hr(dn.key));const Xu=an.current;if(dn.target!==Xu||!yu.includes(dn.key))return;dn.preventDefault();const Aa=jt().filter(ta=>!ta.disabled).map(ta=>ta.ref.current);Ec.includes(dn.key)&&Aa.reverse(),Rc(Aa)}),onBlur:le(o.onBlur,dn=>{dn.currentTarget.contains(dn.target)||(window.clearTimeout(xr.current),Rn.current="")}),onPointerMove:le(o.onPointerMove,to(dn=>{const is=dn.target,ls=Lr.current!==dn.clientX;if(dn.currentTarget.contains(is)&&ls){const lo=dn.clientX>Lr.current?"right":"left";Tr.current=lo,Lr.current=dn.clientX}}))})})})})})})});yf.displayName=Ri;var Mp="MenuGroup",Kl=x.forwardRef((o,u)=>{const{__scopeMenu:d,...m}=o;return(0,v.jsx)(re.div,{role:"group",...m,ref:u})});Kl.displayName=Mp;var Dp="MenuLabel",$l=x.forwardRef((o,u)=>{const{__scopeMenu:d,...m}=o;return(0,v.jsx)(re.div,{...m,ref:u})});$l.displayName=Dp;var wu="MenuItem",Ql="menu.itemSelect",_u=x.forwardRef((o,u)=>{const{disabled:d=!1,onSelect:m,...y}=o,E=x.useRef(null),R=To(wu,o.__scopeMenu),C=zl(wu,o.__scopeMenu),G=Te(u,E),K=x.useRef(!1),ne=()=>{const Y=E.current;if(!d&&Y){const Pe=new CustomEvent(Ql,{bubbles:!0,cancelable:!0});Y.addEventListener(Ql,Me=>m==null?void 0:m(Me),{once:!0}),Be(Y,Pe),Pe.defaultPrevented?K.current=!1:R.onClose()}};return(0,v.jsx)(Zl,{...y,ref:G,disabled:d,onClick:le(o.onClick,ne),onPointerDown:Y=>{var Pe;(Pe=o.onPointerDown)==null||Pe.call(o,Y),K.current=!0},onPointerUp:le(o.onPointerUp,Y=>{var Pe;K.current||(Pe=Y.currentTarget)==null||Pe.click()}),onKeyDown:le(o.onKeyDown,Y=>{const Pe=C.searchRef.current!=="";d||Pe&&Y.key===" "||gu.includes(Y.key)&&(Y.currentTarget.click(),Y.preventDefault())})})});_u.displayName=wu;var Zl=x.forwardRef((o,u)=>{const{__scopeMenu:d,disabled:m=!1,textValue:y,...E}=o,R=zl(wu,d),C=Wa(d),G=x.useRef(null),K=Te(u,G),[ne,Y]=x.useState(!1),[Pe,Me]=x.useState("");return x.useEffect(()=>{const Le=G.current;Le&&Me((Le.textContent??"").trim())},[E.children]),(0,v.jsx)(Tn.ItemSlot,{scope:d,disabled:m,textValue:y??Pe,children:(0,v.jsx)(ja,{asChild:!0,...C,focusable:!m,children:(0,v.jsx)(re.div,{role:"menuitem","data-highlighted":ne?"":void 0,"aria-disabled":m||void 0,"data-disabled":m?"":void 0,...E,ref:K,onPointerMove:le(o.onPointerMove,to(Le=>{m?R.onItemLeave(Le):(R.onItemEnter(Le),Le.defaultPrevented||Le.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(o.onPointerLeave,to(Le=>R.onItemLeave(Le))),onFocus:le(o.onFocus,()=>Y(!0)),onBlur:le(o.onBlur,()=>Y(!1))})})})}),Lp="MenuCheckboxItem",Ci=x.forwardRef((o,u)=>{const{checked:d=!1,onCheckedChange:m,...y}=o;return(0,v.jsx)(Ka,{scope:o.__scopeMenu,checked:d,children:(0,v.jsx)(_u,{role:"menuitemcheckbox","aria-checked":eo(d)?"mixed":d,...y,ref:u,"data-state":Vo(d),onSelect:le(y.onSelect,()=>m==null?void 0:m(eo(d)?!0:!d),{checkForDefaultPrevented:!1})})})});Ci.displayName=Lp;var vf="MenuRadioGroup",[Ho,jo]=Eo(vf,{value:void 0,onValueChange:()=>{}}),za=x.forwardRef((o,u)=>{const{value:d,onValueChange:m,...y}=o,E=$(m);return(0,v.jsx)(Ho,{scope:o.__scopeMenu,value:d,onValueChange:E,children:(0,v.jsx)(Kl,{...y,ref:u})})});za.displayName=vf;var Go="MenuRadioItem",Tc=x.forwardRef((o,u)=>{const{value:d,...m}=o,y=jo(Go,o.__scopeMenu),E=d===y.value;return(0,v.jsx)(Ka,{scope:o.__scopeMenu,checked:E,children:(0,v.jsx)(_u,{role:"menuitemradio","aria-checked":E,...m,ref:u,"data-state":Vo(E),onSelect:le(m.onSelect,()=>{var R;return(R=y.onValueChange)==null?void 0:R.call(y,d)},{checkForDefaultPrevented:!1})})})});Tc.displayName=Go;var ha="MenuItemIndicator",[Ka,$a]=Eo(ha,{checked:!1}),Wo=x.forwardRef((o,u)=>{const{__scopeMenu:d,forceMount:m,...y}=o,E=$a(ha,d);return(0,v.jsx)(ot,{present:m||eo(E.checked)||E.checked===!0,children:(0,v.jsx)(re.span,{...y,ref:u,"data-state":Vo(E.checked)})})});Wo.displayName=ha;var Io="MenuSeparator",Ic=x.forwardRef((o,u)=>{const{__scopeMenu:d,...m}=o;return(0,v.jsx)(re.div,{role:"separator","aria-orientation":"horizontal",...m,ref:u})});Ic.displayName=Io;var Fi="MenuArrow",pa=x.forwardRef((o,u)=>{const{__scopeMenu:d,...m}=o,y=Ao(d);return(0,v.jsx)(xg,{...y,...m,ref:u})});pa.displayName=Fi;var Qr="MenuSub",[Sc,Yi]=Eo(Qr),Eu=o=>{const{__scopeMenu:u,children:d,open:m=!1,onOpenChange:y}=o,E=xo(Qr,u),R=Ao(u),[C,G]=x.useState(null),[K,ne]=x.useState(null),Y=$(y);return x.useEffect(()=>(E.open===!1&&Y(!1),()=>Y(!1)),[E.open,Y]),(0,v.jsx)(jl,{...R,children:(0,v.jsx)(Ac,{scope:u,open:m,onOpenChange:Y,content:K,onContentChange:ne,children:(0,v.jsx)(Sc,{scope:u,contentId:j(),triggerId:j(),trigger:C,onTriggerChange:G,children:d})})})};Eu.displayName=Qr;var ma="MenuSubTrigger",Qa=x.forwardRef((o,u)=>{const d=xo(ma,o.__scopeMenu),m=To(ma,o.__scopeMenu),y=Yi(ma,o.__scopeMenu),E=zl(ma,o.__scopeMenu),R=x.useRef(null),{pointerGraceTimerRef:C,onPointerGraceIntentChange:G}=E,K={__scopeMenu:o.__scopeMenu},ne=x.useCallback(()=>{R.current&&window.clearTimeout(R.current),R.current=null},[]);return x.useEffect(()=>ne,[ne]),x.useEffect(()=>{const Y=C.current;return()=>{window.clearTimeout(Y),G(null)}},[C,G]),(0,v.jsx)(bu,{asChild:!0,...K,children:(0,v.jsx)(Zl,{id:y.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":y.contentId,"data-state":Pc(d.open),...o,ref:de(u,y.onTriggerChange),onClick:Y=>{var Pe;(Pe=o.onClick)==null||Pe.call(o,Y),!(o.disabled||Y.defaultPrevented)&&(Y.currentTarget.focus(),d.open||d.onOpenChange(!0))},onPointerMove:le(o.onPointerMove,to(Y=>{E.onItemEnter(Y),!Y.defaultPrevented&&!o.disabled&&!d.open&&!R.current&&(E.onPointerGraceIntentChange(null),R.current=window.setTimeout(()=>{d.onOpenChange(!0),ne()},100))})),onPointerLeave:le(o.onPointerLeave,to(Y=>{var Me,Le;ne();const Pe=(Me=d.content)==null?void 0:Me.getBoundingClientRect();if(Pe){const ce=(Le=d.content)==null?void 0:Le.dataset.side,Re=ce==="right",je=Re?-5:5,qe=Pe[Re?"left":"right"],xt=Pe[Re?"right":"left"];E.onPointerGraceIntentChange({area:[{x:Y.clientX+je,y:Y.clientY},{x:qe,y:Pe.top},{x:xt,y:Pe.top},{x:xt,y:Pe.bottom},{x:qe,y:Pe.bottom}],side:ce}),window.clearTimeout(C.current),C.current=window.setTimeout(()=>E.onPointerGraceIntentChange(null),300)}else{if(E.onTriggerLeave(Y),Y.defaultPrevented)return;E.onPointerGraceIntentChange(null)}})),onKeyDown:le(o.onKeyDown,Y=>{var Me;const Pe=E.searchRef.current!=="";o.disabled||Pe&&Y.key===" "||Np[m.dir].includes(Y.key)&&(d.onOpenChange(!0),(Me=d.content)==null||Me.focus(),Y.preventDefault())})})})});Qa.displayName=ma;var Ui="MenuSubContent",Za=x.forwardRef((o,u)=>{const d=mf(Ri,o.__scopeMenu),{forceMount:m=d.forceMount,...y}=o,E=xo(Ri,o.__scopeMenu),R=To(Ri,o.__scopeMenu),C=Yi(Ui,o.__scopeMenu),G=x.useRef(null),K=Te(u,G);return(0,v.jsx)(Tn.Provider,{scope:o.__scopeMenu,children:(0,v.jsx)(ot,{present:m||E.open,children:(0,v.jsx)(Tn.Slot,{scope:o.__scopeMenu,children:(0,v.jsx)(xc,{id:C.contentId,"aria-labelledby":C.triggerId,...y,ref:K,align:"start",side:R.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:ne=>{var Y;R.isUsingKeyboardRef.current&&((Y=G.current)==null||Y.focus()),ne.preventDefault()},onCloseAutoFocus:ne=>ne.preventDefault(),onFocusOutside:le(o.onFocusOutside,ne=>{ne.target!==C.trigger&&E.onOpenChange(!1)}),onEscapeKeyDown:le(o.onEscapeKeyDown,ne=>{R.onClose(),ne.preventDefault()}),onKeyDown:le(o.onKeyDown,ne=>{var Me;const Y=ne.currentTarget.contains(ne.target),Pe=Jt[R.dir].includes(ne.key);Y&&Pe&&(E.onOpenChange(!1),(Me=C.trigger)==null||Me.focus(),ne.preventDefault())})})})})})});Za.displayName=Ui;function Pc(o){return o?"open":"closed"}function eo(o){return o==="indeterminate"}function Vo(o){return eo(o)?"indeterminate":o?"checked":"unchecked"}function Rc(o){const u=document.activeElement;for(const d of o)if(d===u||(d.focus(),document.activeElement!==u))return}function Cc(o,u){return o.map((d,m)=>o[(u+m)%o.length])}function bf(o,u,d){const y=u.length>1&&Array.from(u).every(K=>K===u[0])?u[0]:u,E=d?o.indexOf(d):-1;let R=Cc(o,Math.max(E,0));y.length===1&&(R=R.filter(K=>K!==d));const G=R.find(K=>K.toLowerCase().startsWith(y.toLowerCase()));return G!==d?G:void 0}function zo(o,u){const{x:d,y:m}=o;let y=!1;for(let E=0,R=u.length-1;E<u.length;R=E++){const C=u[E].x,G=u[E].y,K=u[R].x,ne=u[R].y;G>m!=ne>m&&d<(K-C)*(m-G)/(ne-G)+C&&(y=!y)}return y}function Nc(o,u){if(!u)return!1;const d={x:o.clientX,y:o.clientY};return zo(d,u)}function to(o){return u=>u.pointerType==="mouse"?o(u):void 0}var Hi=Va,no=bu,Ko=gf,kc=yf,Oc=Kl,Au=$l,Fp=_u,ql=Ci,Bc=za,Mc=Tc,wf=Wo,Up=Ic,Bn=pa,Cg=null,_f=Qa,Ef=Za,Jl="DropdownMenu",[Hp,jp]=L(Jl,[vu]),Vs=vu(),[Gp,Af]=Hp(Jl),xf=o=>{const{__scopeDropdownMenu:u,children:d,dir:m,open:y,defaultOpen:E,onOpenChange:R,modal:C=!0}=o,G=Vs(u),K=x.useRef(null),[ne=!1,Y]=se({prop:y,defaultProp:E,onChange:R});return(0,v.jsx)(Gp,{scope:u,triggerId:j(),triggerRef:K,contentId:j(),open:ne,onOpenChange:Y,onOpenToggle:x.useCallback(()=>Y(Pe=>!Pe),[Y]),modal:C,children:(0,v.jsx)(Hi,{...G,open:ne,onOpenChange:Y,dir:m,modal:C,children:d})})};xf.displayName=Jl;var Tf="DropdownMenuTrigger",If=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,disabled:m=!1,...y}=o,E=Af(Tf,d),R=Vs(d);return(0,v.jsx)(no,{asChild:!0,...R,children:(0,v.jsx)(re.button,{type:"button",id:E.triggerId,"aria-haspopup":"menu","aria-expanded":E.open,"aria-controls":E.open?E.contentId:void 0,"data-state":E.open?"open":"closed","data-disabled":m?"":void 0,disabled:m,...y,ref:de(u,E.triggerRef),onPointerDown:le(o.onPointerDown,C=>{!m&&C.button===0&&C.ctrlKey===!1&&(E.onOpenToggle(),E.open||C.preventDefault())}),onKeyDown:le(o.onKeyDown,C=>{m||(["Enter"," "].includes(C.key)&&E.onOpenToggle(),C.key==="ArrowDown"&&E.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(C.key)&&C.preventDefault())})})})});If.displayName=Tf;var Wp="DropdownMenuPortal",Sf=o=>{const{__scopeDropdownMenu:u,...d}=o,m=Vs(u);return(0,v.jsx)(Ko,{...m,...d})};Sf.displayName=Wp;var Pf="DropdownMenuContent",Rf=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Af(Pf,d),E=Vs(d),R=x.useRef(!1);return(0,v.jsx)(kc,{id:y.contentId,"aria-labelledby":y.triggerId,...E,...m,ref:u,onCloseAutoFocus:le(o.onCloseAutoFocus,C=>{var G;R.current||(G=y.triggerRef.current)==null||G.focus(),R.current=!1,C.preventDefault()}),onInteractOutside:le(o.onInteractOutside,C=>{const G=C.detail.originalEvent,K=G.button===0&&G.ctrlKey===!0,ne=G.button===2||K;(!y.modal||ne)&&(R.current=!0)}),style:{...o.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Rf.displayName=Pf;var Vp="DropdownMenuGroup",zp=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Oc,{...y,...m,ref:u})});zp.displayName=Vp;var Kp="DropdownMenuLabel",$p=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Au,{...y,...m,ref:u})});$p.displayName=Kp;var Qp="DropdownMenuItem",Cf=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Fp,{...y,...m,ref:u})});Cf.displayName=Qp;var Zp="DropdownMenuCheckboxItem",qp=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(ql,{...y,...m,ref:u})});qp.displayName=Zp;var Jp="DropdownMenuRadioGroup",Xp=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Bc,{...y,...m,ref:u})});Xp.displayName=Jp;var Yp="DropdownMenuRadioItem",em=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Mc,{...y,...m,ref:u})});em.displayName=Yp;var tm="DropdownMenuItemIndicator",nm=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(wf,{...y,...m,ref:u})});nm.displayName=tm;var Nf="DropdownMenuSeparator",kf=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Up,{...y,...m,ref:u})});kf.displayName=Nf;var rm="DropdownMenuArrow",sm=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Bn,{...y,...m,ref:u})});sm.displayName=rm;var Ng=o=>{const{__scopeDropdownMenu:u,children:d,open:m,onOpenChange:y,defaultOpen:E}=o,R=Vs(u),[C=!1,G]=useControllableState({prop:m,defaultProp:E,onChange:y});return jsx(MenuPrimitive.Sub,{...R,open:C,onOpenChange:G,children:d})},kg="DropdownMenuSubTrigger",Og=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(_f,{...y,...m,ref:u})});Og.displayName=kg;var Bg="DropdownMenuSubContent",Mg=x.forwardRef((o,u)=>{const{__scopeDropdownMenu:d,...m}=o,y=Vs(d);return(0,v.jsx)(Ef,{...y,...m,ref:u,style:{...o.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Mg.displayName=Bg;var Dg=xf,ro=If,im=Sf,qa=Rf,Lg=null,om=null,xu=Cf,Ar=null,am=null,Dc=null,mb=null,Fg=kf,Of=null,Bf=null,Ug=null,Ja=null,Tu=D(90712),Iu=D(31164),Lc=D(78412),Su=D(35842),Fc=D(21777),Pu=D(94878),ga=D(61774),Ru=D(47948),Cu=D(49054);const so=o=>{let u;const d=new Set,m=(ne,Y)=>{const Pe=typeof ne=="function"?ne(u):ne;if(!Object.is(Pe,u)){const Me=u;u=Y??(typeof Pe!="object"||Pe===null)?Pe:Object.assign({},u,Pe),d.forEach(Le=>Le(u,Me))}},y=()=>u,G={setState:m,getState:y,getInitialState:()=>K,subscribe:ne=>(d.add(ne),()=>d.delete(ne)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),d.clear()}},K=u=o(m,y,G);return G},io=o=>o?so(o):so;var cm=o=>(console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),io(o));const Xa=(o,u)=>(d,m,y)=>(y.dispatch=E=>(d(R=>o(R,E),!1,E),E),y.dispatchFromDevtools=!0,{dispatch:(...E)=>y.dispatch(...E),...u}),Xl=null,Uc=new Map,ji=o=>{const u=Uc.get(o);return u?Object.fromEntries(Object.entries(u.stores).map(([d,m])=>[d,m.getState()])):{}},Mf=(o,u,d)=>{if(o===void 0)return{type:"untracked",connection:u.connect(d)};const m=Uc.get(d.name);if(m)return{type:"tracked",store:o,...m};const y={connection:u.connect(d),stores:{}};return Uc.set(d.name,y),{type:"tracked",store:o,...y}},Ni=(o,u={})=>(d,m,y)=>{const{enabled:E,anonymousActionType:R,store:C,...G}=u;let K;try{K=(E??!0)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!K)return E&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),o(d,m,y);const{connection:ne,...Y}=Mf(C,K,G);let Pe=!0;y.setState=(ce,Re,je)=>{const qe=d(ce,Re);if(!Pe)return qe;const xt=je===void 0?{type:R||"anonymous"}:typeof je=="string"?{type:je}:je;return C===void 0?(ne==null||ne.send(xt,m()),qe):(ne==null||ne.send({...xt,type:`${C}/${xt.type}`},{...ji(G.name),[C]:y.getState()}),qe)};const Me=(...ce)=>{const Re=Pe;Pe=!1,d(...ce),Pe=Re},Le=o(y.setState,m,y);if(Y.type==="untracked"?ne==null||ne.init(Le):(Y.stores[Y.store]=y,ne==null||ne.init(Object.fromEntries(Object.entries(Y.stores).map(([ce,Re])=>[ce,ce===Y.store?Le:Re.getState()])))),y.dispatchFromDevtools&&typeof y.dispatch=="function"){let ce=!1;const Re=y.dispatch;y.dispatch=(...je)=>{je[0].type==="__setState"&&!ce&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),ce=!0),Re(...je)}}return ne.subscribe(ce=>{var Re;switch(ce.type){case"ACTION":if(typeof ce.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return So(ce.payload,je=>{if(je.type==="__setState"){if(C===void 0){Me(je.state);return}Object.keys(je.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const qe=je.state[C];if(qe==null)return;JSON.stringify(y.getState())!==JSON.stringify(qe)&&Me(qe);return}y.dispatchFromDevtools&&typeof y.dispatch=="function"&&y.dispatch(je)});case"DISPATCH":switch(ce.payload.type){case"RESET":return Me(Le),C===void 0?ne==null?void 0:ne.init(y.getState()):ne==null?void 0:ne.init(ji(G.name));case"COMMIT":if(C===void 0){ne==null||ne.init(y.getState());return}return ne==null?void 0:ne.init(ji(G.name));case"ROLLBACK":return So(ce.state,je=>{if(C===void 0){Me(je),ne==null||ne.init(y.getState());return}Me(je[C]),ne==null||ne.init(ji(G.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return So(ce.state,je=>{if(C===void 0){Me(je);return}JSON.stringify(y.getState())!==JSON.stringify(je[C])&&Me(je[C])});case"IMPORT_STATE":{const{nextLiftedState:je}=ce.payload,qe=(Re=je.computedStates.slice(-1)[0])==null?void 0:Re.state;if(!qe)return;Me(C===void 0?qe:qe[C]),ne==null||ne.send(null,je);return}case"PAUSE_RECORDING":return Pe=!Pe}return}}),Le},gb=null,So=(o,u)=>{let d;try{d=JSON.parse(o)}catch(m){console.error("[zustand devtools middleware] Could not parse the received json",m)}d!==void 0&&u(d)},$o=o=>(u,d,m)=>{const y=m.subscribe;return m.subscribe=(R,C,G)=>{let K=R;if(C){const ne=(G==null?void 0:G.equalityFn)||Object.is;let Y=R(m.getState());K=Pe=>{const Me=R(Pe);if(!ne(Y,Me)){const Le=Y;C(Y=Me,Le)}},G!=null&&G.fireImmediately&&C(Y,Y)}return y(K)},o(u,d,m)},Nu=null,um=(o,u)=>(...d)=>Object.assign({},o,u(...d));function Yl(o,u){let d;try{d=o()}catch{return}return{getItem:y=>{var E;const R=G=>G===null?null:JSON.parse(G,u==null?void 0:u.reviver),C=(E=d.getItem(y))!=null?E:null;return C instanceof Promise?C.then(R):R(C)},setItem:(y,E)=>d.setItem(y,JSON.stringify(E,u==null?void 0:u.replacer)),removeItem:y=>d.removeItem(y)}}const us=o=>u=>{try{const d=o(u);return d instanceof Promise?d:{then(m){return us(m)(d)},catch(m){return this}}}catch(d){return{then(m){return this},catch(m){return us(m)(d)}}}},ed=(o,u)=>(d,m,y)=>{let E={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Re=>Re,version:0,merge:(Re,je)=>({...je,...Re}),...u},R=!1;const C=new Set,G=new Set;let K;try{K=E.getStorage()}catch{}if(!K)return o((...Re)=>{console.warn(`[zustand persist middleware] Unable to update item '${E.name}', the given storage is currently unavailable.`),d(...Re)},m,y);const ne=us(E.serialize),Y=()=>{const Re=E.partialize({...m()});let je;const qe=ne({state:Re,version:E.version}).then(xt=>K.setItem(E.name,xt)).catch(xt=>{je=xt});if(je)throw je;return qe},Pe=y.setState;y.setState=(Re,je)=>{Pe(Re,je),Y()};const Me=o((...Re)=>{d(...Re),Y()},m,y);let Le;const ce=()=>{var Re;if(!K)return;R=!1,C.forEach(qe=>qe(m()));const je=((Re=E.onRehydrateStorage)==null?void 0:Re.call(E,m()))||void 0;return us(K.getItem.bind(K))(E.name).then(qe=>{if(qe)return E.deserialize(qe)}).then(qe=>{if(qe)if(typeof qe.version=="number"&&qe.version!==E.version){if(E.migrate)return E.migrate(qe.state,qe.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return qe.state}).then(qe=>{var xt;return Le=E.merge(qe,(xt=m())!=null?xt:Me),d(Le,!0),Y()}).then(()=>{je==null||je(Le,void 0),R=!0,G.forEach(qe=>qe(Le))}).catch(qe=>{je==null||je(void 0,qe)})};return y.persist={setOptions:Re=>{E={...E,...Re},Re.getStorage&&(K=Re.getStorage())},clearStorage:()=>{K==null||K.removeItem(E.name)},getOptions:()=>E,rehydrate:()=>ce(),hasHydrated:()=>R,onHydrate:Re=>(C.add(Re),()=>{C.delete(Re)}),onFinishHydration:Re=>(G.add(Re),()=>{G.delete(Re)})},ce(),Le||Me},Ya=(o,u)=>(d,m,y)=>{let E={storage:Yl(()=>localStorage),partialize:ce=>ce,version:0,merge:(ce,Re)=>({...Re,...ce}),...u},R=!1;const C=new Set,G=new Set;let K=E.storage;if(!K)return o((...ce)=>{console.warn(`[zustand persist middleware] Unable to update item '${E.name}', the given storage is currently unavailable.`),d(...ce)},m,y);const ne=()=>{const ce=E.partialize({...m()});return K.setItem(E.name,{state:ce,version:E.version})},Y=y.setState;y.setState=(ce,Re)=>{Y(ce,Re),ne()};const Pe=o((...ce)=>{d(...ce),ne()},m,y);y.getInitialState=()=>Pe;let Me;const Le=()=>{var ce,Re;if(!K)return;R=!1,C.forEach(qe=>{var xt;return qe((xt=m())!=null?xt:Pe)});const je=((Re=E.onRehydrateStorage)==null?void 0:Re.call(E,(ce=m())!=null?ce:Pe))||void 0;return us(K.getItem.bind(K))(E.name).then(qe=>{if(qe)if(typeof qe.version=="number"&&qe.version!==E.version){if(E.migrate)return[!0,E.migrate(qe.state,qe.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,qe.state];return[!1,void 0]}).then(qe=>{var xt;const[jt,Ft]=qe;if(Me=E.merge(Ft,(xt=m())!=null?xt:Pe),d(Me,!0),jt)return ne()}).then(()=>{je==null||je(Me,void 0),Me=m(),R=!0,G.forEach(qe=>qe(Me))}).catch(qe=>{je==null||je(void 0,qe)})};return y.persist={setOptions:ce=>{E={...E,...ce},ce.storage&&(K=ce.storage)},clearStorage:()=>{K==null||K.removeItem(E.name)},getOptions:()=>E,rehydrate:()=>Le(),hasHydrated:()=>R,onHydrate:ce=>(C.add(ce),()=>{C.delete(ce)}),onFinishHydration:ce=>(G.add(ce),()=>{G.delete(ce)})},E.skipHydration||Le(),Me||Pe},lm=(o,u)=>"getStorage"in u||"serialize"in u||"deserialize"in u?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ed(o,u)):Ya(o,u);var dm=D(9538),fm=D(48155),Xe=D(27178),ec=D(29799);async function nd(o,u){if(o.features["sui:signAndExecuteTransaction"])return o.features["sui:signAndExecuteTransaction"].signAndExecuteTransaction(u);if(!o.features["sui:signAndExecuteTransactionBlock"])throw new Error(`Provided wallet (${o.name}) does not support the signAndExecuteTransaction feature.`);const{signAndExecuteTransactionBlock:d}=o.features["sui:signAndExecuteTransactionBlock"],m=Transaction.from(await u.transaction.toJSON()),{digest:y,rawEffects:E,rawTransaction:R}=await d({account:u.account,chain:u.chain,transactionBlock:m,options:{showRawEffects:!0,showRawInput:!0}}),[{txSignatures:[C],intentMessage:{value:G}}]=bcs.SenderSignedData.parse(fromB64(R)),K=bcs.TransactionData.serialize(G).toBase64();return{digest:y,signature:C,bytes:K,effects:toB64(new Uint8Array(E))}}async function Df(o,u){if(o.features["sui:signTransaction"])return o.features["sui:signTransaction"].signTransaction(u);if(!o.features["sui:signTransactionBlock"])throw new Error(`Provided wallet (${o.name}) does not support the signTransaction feature.`);const{signTransactionBlock:d}=o.features["sui:signTransactionBlock"],m=Pu.Y.from(await u.transaction.toJSON()),{transactionBlockBytes:y,signature:E}=await d({transactionBlock:m,account:u.account,chain:u.chain});return{bytes:y,signature:E}}var hm=Object.create,ya=Object.defineProperty,Lf=Object.getOwnPropertyDescriptor,va=Object.getOwnPropertyNames,tc=Object.getPrototypeOf,pm=Object.prototype.hasOwnProperty,mn=o=>{throw TypeError(o)},Hg=(o,u)=>function(){return o&&(u=(0,o[va(o)[0]])(o=0)),u},Qo=(o,u)=>function(){return u||(0,o[va(o)[0]])((u={exports:{}}).exports,u),u.exports},si=(o,u,d,m)=>{if(u&&typeof u=="object"||typeof u=="function")for(let y of va(u))!pm.call(o,y)&&y!==d&&ya(o,y,{get:()=>u[y],enumerable:!(m=Lf(u,y))||m.enumerable});return o},ku=(o,u,d)=>(d=o!=null?hm(tc(o)):{},si(u||!o||!o.__esModule?ya(d,"default",{value:o,enumerable:!0}):d,o)),Ou=(o,u,d)=>u.has(o)||mn("Cannot "+d),Po=(o,u,d)=>(Ou(o,u,"read from private field"),d?d.call(o):u.get(o)),zs=(o,u,d)=>u.has(o)?mn("Cannot add the same private member more than once"):u instanceof WeakSet?u.add(o):u.set(o,d),mm=Hg({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),sr=Qo({"src/components/styling/StyleMarker.css.ts"(){"use strict";mm()}}),mr={all:{baseScope:"wallet"},connectWallet:ki("connect-wallet"),autoconnectWallet:ki("autoconnect-wallet"),disconnectWallet:ki("disconnect-wallet"),signPersonalMessage:ki("sign-personal-message"),signTransaction:ki("sign-transaction"),signAndExecuteTransaction:ki("sign-and-execute-transaction"),switchAccount:ki("switch-account"),reportTransactionEffects:ki("report-transaction-effects")};function ki(o){return function(d=[]){return[{...mr.all,baseEntity:o},...d]}}var Ff=(0,x.createContext)(null);function fr(o){const u=(0,x.useContext)(Ff);if(!u)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return cn(u,o)}function Bu({mutationKey:o,...u}={}){const d=fr(y=>y.setWalletConnected),m=fr(y=>y.setConnectionStatus);return(0,Sn.D)({mutationKey:mr.connectWallet(o),mutationFn:async({wallet:y,accountAddress:E,...R})=>{try{m("connecting");const C=await y.features["standard:connect"].connect(R),G=C.accounts.filter(ne=>ne.chains.some(Y=>Y.split(":")[0]==="sui")),K=gm(G,E);return d(y,G,K,C.supportedIntents),{accounts:G}}catch(C){throw m("disconnected"),C}},...u})}function gm(o,u){return o.length===0?null:u?o.find(m=>m.address===u)??o[0]:o[0]}function fi(o,u){const y=(0,pn.M)().get().filter(E=>(0,Pn.c)(E)&&(!u||u(E)));return[...o.map(E=>y.find(R=>R.name===E)).filter(Boolean),...y.filter(E=>!o.includes(E.name))]}function Zo(o){return(o==null?void 0:o.id)??(o==null?void 0:o.name)}function ym(o){return(0,v.jsx)("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:(0,v.jsx)("path",{d:"M7.57 12.262c0 .341.13.629.403.895l5.175 5.059c.204.205.45.307.751.307.609 0 1.101-.485 1.101-1.087 0-.293-.123-.574-.349-.8L10.14 12.27l4.511-4.375A1.13 1.13 0 0 0 15 7.087C15 6.485 14.508 6 13.9 6c-.295 0-.54.103-.752.308l-5.175 5.058c-.28.28-.404.56-.404.896Z",fill:"currentColor"})})}function Mu(o){return(0,v.jsx)("svg",{width:10,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:(0,v.jsx)("path",{d:"M9.708.292a.999.999 0 0 0-1.413 0l-3.289 3.29L1.717.291A.999.999 0 0 0 .305 1.705l3.289 3.289-3.29 3.289a.999.999 0 1 0 1.413 1.412l3.29-3.289 3.288 3.29a.999.999 0 0 0 1.413-1.413l-3.29-3.29 3.29-3.288a.999.999 0 0 0 0-1.413Z",fill:"currentColor"})})}var Uf="data-dapp-kit",rd=`[${Uf}]`,vm={[Uf]:""},bm=ku(sr()),Hc=(0,x.forwardRef)(({children:o,...u},d)=>(0,v.jsx)(fe,{ref:d,...u,...vm,children:o}));Hc.displayName="StyleMarker";var Hf=(0,Un.c)({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),ba=(0,x.forwardRef)(({children:o,className:u,asChild:d=!1,as:m="h1",size:y,weight:E,truncate:R,...C},G)=>(0,v.jsx)(fe,{...C,ref:G,className:(0,dt.Z)(Hf({size:y,weight:E,truncate:R}),u),children:d?o:(0,v.jsx)(m,{children:o})}));ba.displayName="Heading";var Ro="IconButton_container__s6n7bq0",Ks=(0,x.forwardRef)(({className:o,asChild:u=!1,...d},m)=>{const y=u?fe:"button";return(0,v.jsx)(y,{...d,className:(0,dt.Z)(Ro,o),ref:m})});Ks.displayName="Button";var wa="ConnectModal_backButtonContainer__gz8z96",wm="ConnectModal_closeButtonContainer__gz8z97",_m="ConnectModal_content__gz8z92",oo="ConnectModal_overlay__gz8z90",jf="ConnectModal_selectedViewContainer__gz8z95",Gf="ConnectModal_title__gz8z91",sd="ConnectModal_viewContainer__gz8z94",Em="ConnectModal_walletListContainer__gz8z99",Am="ConnectModal_walletListContainerWithViewSelected__gz8z9a",xm="ConnectModal_walletListContent__gz8z98",Tm="ConnectModal_whatIsAWalletButton__gz8z93",Im=(0,Un.c)({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),jc=(0,x.forwardRef)(({className:o,variant:u,size:d,asChild:m=!1,...y},E)=>{const R=m?fe:"button";return(0,v.jsx)(R,{...y,className:(0,dt.Z)(Im({variant:u,size:d}),o),ref:E})});jc.displayName="Button";var Sm=(0,Un.c)({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),nc=(0,x.forwardRef)(({children:o,className:u,asChild:d=!1,as:m="div",size:y,weight:E,color:R,mono:C,...G},K)=>(0,v.jsx)(fe,{...G,ref:K,className:(0,dt.Z)(Sm({size:y,weight:E,color:R,mono:C}),u),children:d?o:(0,v.jsx)(m,{children:o})}));nc.displayName="Text";var Pm="ConnectionStatus_connectionStatus__nckm2d3",Rm="ConnectionStatus_container__nckm2d0",Cm="ConnectionStatus_retryButtonContainer__nckm2d4",qo="ConnectionStatus_title__nckm2d2",kn="ConnectionStatus_walletIcon__nckm2d1";function Wf({selectedWallet:o,hadConnectionError:u,onRetryConnection:d}){return(0,v.jsxs)("div",{className:Rm,children:[(0,v.jsx)("img",{className:kn,src:o.icon,alt:`${o.name} logo`}),(0,v.jsx)("div",{className:qo,children:(0,v.jsxs)(ba,{as:"h2",size:"xl",children:["Opening ",o.name]})}),(0,v.jsx)("div",{className:Pm,children:u?(0,v.jsx)(nc,{color:"danger",children:"Connection failed"}):(0,v.jsx)(nc,{color:"muted",children:"Confirm connection in the wallet..."})}),u?(0,v.jsx)("div",{className:Cm,children:(0,v.jsx)(jc,{type:"button",variant:"outline",onClick:()=>d(o),children:"Retry Connection"})}):null]})}var Jo="InfoSection_container__1wtioi70";function ao({title:o,children:u}){return(0,v.jsxs)("section",{className:Jo,children:[(0,v.jsx)(ba,{as:"h3",size:"sm",weight:"normal",children:o}),(0,v.jsx)(nc,{weight:"medium",color:"muted",children:u})]})}var Vf="GettingStarted_container__1fp07e10",zf="GettingStarted_content__1fp07e11",Gc="GettingStarted_installButtonContainer__1fp07e12";function Kf(){return(0,v.jsxs)("div",{className:Vf,children:[(0,v.jsx)(ba,{as:"h2",children:"Get Started with Sui"}),(0,v.jsxs)("div",{className:zf,children:[(0,v.jsx)(ao,{title:"Install the Sui Wallet Extension",children:"We recommend pinning Sui Wallet to your taskbar for quicker access."}),(0,v.jsx)(ao,{title:"Create or Import a Wallet",children:"Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."}),(0,v.jsx)(ao,{title:"Refresh Your Browser",children:"Once you set up your wallet, refresh this window browser to load up the extension."}),(0,v.jsx)("div",{className:Gc,children:(0,v.jsx)(jc,{variant:"outline",asChild:!0,children:(0,v.jsx)("a",{href:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",target:"_blank",rel:"noreferrer",children:"Install Wallet Extension"})})})]})]})}var Nm="WhatIsAWallet_container__1ktpkq90",km="WhatIsAWallet_content__1ktpkq91";function co(){return(0,v.jsxs)("div",{className:Nm,children:[(0,v.jsx)(ba,{as:"h2",children:"What is a Wallet"}),(0,v.jsxs)("div",{className:km,children:[(0,v.jsx)(ao,{title:"Easy Login",children:"No need to create new accounts and passwords for every website. Just connect your wallet and get going."}),(0,v.jsx)(ao,{title:"Store your Digital Assets",children:"Send, receive, store, and display your digital assets like NFTs & coins."})]})]})}function id(){return fr(o=>o.wallets)}function Wc(o){return(0,v.jsxs)("svg",{width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:[(0,v.jsx)("rect",{width:28,height:28,rx:6,fill:"#6FBCF0"}),(0,v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.942 20.527A6.875 6.875 0 0 0 13.957 24c2.51 0 4.759-1.298 6.015-3.473a6.875 6.875 0 0 0 0-6.945l-5.29-9.164a.837.837 0 0 0-1.45 0l-5.29 9.164a6.875 6.875 0 0 0 0 6.945Zm4.524-11.75 1.128-1.953a.418.418 0 0 1 .725 0l4.34 7.516a5.365 5.365 0 0 1 .449 4.442 4.675 4.675 0 0 0-.223-.73c-.599-1.512-1.954-2.68-4.029-3.47-1.426-.54-2.336-1.336-2.706-2.364-.476-1.326.021-2.77.316-3.44Zm-1.923 3.332L9.255 14.34a5.373 5.373 0 0 0 0 5.43 5.373 5.373 0 0 0 4.702 2.714 5.38 5.38 0 0 0 3.472-1.247c.125-.314.51-1.462.034-2.646-.44-1.093-1.5-1.965-3.15-2.594-1.864-.707-3.076-1.811-3.6-3.28a4.601 4.601 0 0 1-.17-.608Z",fill:"#fff"})]})}var $f="WalletList_container__1v2s6cz0",Du="WalletListItem_container__1dqqtqs0",At="WalletListItem_selectedWalletItem__1dqqtqs2",Qf="WalletListItem_walletIcon__1dqqtqs3",rc="WalletListItem_walletItem__1dqqtqs1";function sc({name:o,icon:u,onClick:d,isSelected:m=!1}){return(0,v.jsx)("li",{className:Du,children:(0,v.jsxs)("button",{className:(0,dt.W)(rc,{[At]:m}),type:"button",onClick:d,children:[typeof u=="string"?(0,v.jsx)("img",{className:Qf,src:u,alt:`${o} logo`}):u,(0,v.jsx)(ba,{size:"md",truncate:!0,asChild:!0,children:(0,v.jsx)("div",{children:o})})]})})}function Ai({selectedWalletName:o,onPlaceholderClick:u,onSelect:d}){const m=id();return(0,v.jsx)("ul",{className:$f,children:m.length>0?m.map(y=>(0,v.jsx)(sc,{name:y.name,icon:y.icon,isSelected:Zo(y)===o,onClick:()=>d(y)},Zo(y))):(0,v.jsx)(sc,{name:"Sui Wallet",icon:(0,v.jsx)(Wc,{}),onClick:u,isSelected:!0})})}function Zf({trigger:o,open:u,defaultOpen:d,onOpenChange:m}){const[y,E]=(0,x.useState)(u??d),[R,C]=(0,x.useState)(),[G,K]=(0,x.useState)(),{mutate:ne,isError:Y}=Bu(),Pe=()=>{K(void 0),C(void 0)},Me=Re=>{Re||Pe(),E(Re),m==null||m(Re)},Le=Re=>{C("connection-status"),ne({wallet:Re},{onSuccess:()=>Me(!1)})};let ce;switch(R){case"what-is-a-wallet":ce=(0,v.jsx)(co,{});break;case"getting-started":ce=(0,v.jsx)(Kf,{});break;case"connection-status":ce=(0,v.jsx)(Wf,{selectedWallet:G,hadConnectionError:Y,onRetryConnection:Le});break;default:ce=(0,v.jsx)(co,{})}return(0,v.jsxs)(z,{open:u??y,onOpenChange:Me,children:[(0,v.jsx)(Ie,{asChild:!0,children:o}),(0,v.jsx)(Ce,{children:(0,v.jsx)(Hc,{children:(0,v.jsx)(Ge,{className:oo,children:(0,v.jsxs)(tt,{className:_m,"aria-describedby":void 0,children:[(0,v.jsxs)("div",{className:(0,dt.Z)(Em,{[Am]:!!R}),children:[(0,v.jsxs)("div",{className:xm,children:[(0,v.jsx)(st,{className:Gf,asChild:!0,children:(0,v.jsx)(ba,{as:"h2",children:"Connect a Wallet"})}),(0,v.jsx)(Ai,{selectedWalletName:Zo(G),onPlaceholderClick:()=>C("getting-started"),onSelect:Re=>{Zo(G)!==Zo(Re)&&(K(Re),Le(Re))}})]}),(0,v.jsx)("button",{className:Tm,onClick:()=>C("what-is-a-wallet"),type:"button",children:"What is a Wallet?"})]}),(0,v.jsxs)("div",{className:(0,dt.Z)(sd,{[jf]:!!R}),children:[(0,v.jsx)("div",{className:wa,children:(0,v.jsx)(Ks,{type:"button","aria-label":"Back",onClick:()=>Pe(),children:(0,v.jsx)(ym,{})})}),ce]}),(0,v.jsx)($t,{className:wm,asChild:!0,children:(0,v.jsx)(Ks,{type:"button","aria-label":"Close",children:(0,v.jsx)(Mu,{})})})]})})})})]})}function ic(){return fr(o=>o.currentAccount)}var Vc=(0,x.createContext)(null),qf={localnet:{url:(0,Iu.I)("localnet")}},Jf=function(u,d){return(0,Lc.p)(d)?d:new Lc.u(d)};function Xf(o){const{onNetworkChange:u,network:d,children:m}=o,y=o.networks??qf,E=o.createClient??Jf,[R,C]=(0,x.useState)(o.network??o.defaultNetwork??Object.keys(y)[0]),G=o.network??R,K=(0,x.useMemo)(()=>E(G,y[G]),[E,G,y]),ne=(0,x.useMemo)(()=>({client:K,networks:y,network:G,config:y[G]instanceof Lc.u?null:y[G],selectNetwork:Y=>{G!==Y&&(!d&&Y!==R&&C(Y),u==null||u(Y))}}),[K,y,R,G,d,u]);return(0,v.jsx)(Vc.Provider,{value:ne,children:m})}function Co(){const o=(0,x.useContext)(Vc);if(!o)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return o}function Lu(){return Co().client}function Yf(...o){const[u,d,{queryKey:m=[],...y}={}]=o,E=Co();return(0,Tu.a)({...y,queryKey:[E.network,u,d,...m],queryFn:async()=>await E.client[u](d)})}function od(o,u){return Yf("resolveNameServiceNames",{address:o,limit:1},{...u,refetchOnWindowFocus:!1,retry:!1,select:d=>d.data.length>0?d.data[0]:null,enabled:!!o&&(u==null?void 0:u.enabled)!==!1})}function eh(){return fr(o=>o.accounts)}var zc=class extends Error{},Xo=class extends Error{},ad=class extends Error{},Fu=class extends Error{};function uo(){const o=fr(m=>m.currentWallet),u=fr(m=>m.connectionStatus),d=fr(m=>m.supportedIntents);switch(u){case"connecting":return{connectionStatus:u,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:u,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:u,currentWallet:o,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:d}}}function cd({mutationKey:o,...u}={}){const{currentWallet:d}=uo(),m=fr(y=>y.setWalletDisconnected);return(0,Sn.D)({mutationKey:mr.disconnectWallet(o),mutationFn:async()=>{var y;if(!d)throw new zc("No wallet is connected.");try{await((y=d.features["standard:disconnect"])==null?void 0:y.disconnect())}catch(E){console.error("Failed to disconnect the application from the current wallet.",E)}m()},...u})}function Uu({mutationKey:o,...u}={}){const{currentWallet:d}=uo(),m=fr(y=>y.setAccountSwitched);return(0,Sn.D)({mutationKey:mr.switchAccount(o),mutationFn:async({account:y})=>{if(!d)throw new zc("No wallet is connected.");const E=d.accounts.find(R=>R.address===y.address);if(!E)throw new Fu(`No account with address ${y.address} is connected to ${d.name}.`);m(E)},...u})}var Om="AccountDropdownMenu_connectedAccount__div2ql0",ud="AccountDropdownMenu_menuContainer__div2ql1",th="AccountDropdownMenu_menuContent__div2ql2",Hu="AccountDropdownMenu_menuItem__div2ql3",ld="AccountDropdownMenu_separator__div2ql5",Yo="AccountDropdownMenu_switchAccountMenuItem__div2ql4";function ea(o){return(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...o,children:(0,v.jsx)("path",{fill:"currentColor",d:"m11.726 5.048-4.73 5.156-1.722-1.879a.72.72 0 0 0-.529-.23.722.722 0 0 0-.525.24.858.858 0 0 0-.22.573.86.86 0 0 0 .211.576l2.255 2.458c.14.153.332.24.53.24.2 0 .391-.087.532-.24l5.261-5.735A.86.86 0 0 0 13 5.63a.858.858 0 0 0-.22-.572.722.722 0 0 0-.525-.24.72.72 0 0 0-.529.23Z"})})}function ju(o){return(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...o,children:(0,v.jsx)("path",{stroke:"#A0B6C3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m4 6 4 4 4-4"})})}function nh({currentAccount:o}){const{mutate:u}=cd(),{data:d}=od(o.label?null:o.address),m=eh();return(0,v.jsxs)(Dg,{modal:!1,children:[(0,v.jsx)(Hc,{children:(0,v.jsx)(ro,{asChild:!0,children:(0,v.jsxs)(jc,{size:"lg",className:Om,children:[(0,v.jsx)(nc,{mono:!0,weight:"bold",children:o.label??d??Wr(o.address)}),(0,v.jsx)(ju,{})]})})}),(0,v.jsx)(im,{children:(0,v.jsx)(Hc,{className:ud,children:(0,v.jsxs)(qa,{className:th,children:[m.map(y=>(0,v.jsx)(Gu,{account:y,active:o.address===y.address},y.address)),(0,v.jsx)(Fg,{className:ld}),(0,v.jsx)(xu,{className:(0,dt.Z)(Hu),onSelect:()=>u(),children:"Disconnect"})]})})})]})}function Gu({account:o,active:u}){const{mutate:d}=Uu(),{data:m}=od(o.label?null:o.address);return(0,v.jsxs)(xu,{className:(0,dt.Z)(Hu,Yo),onSelect:()=>d({account:o}),children:[(0,v.jsx)(nc,{mono:!0,children:o.label??m??Wr(o.address)}),u?(0,v.jsx)(ea,{}):null]})}function dd({connectText:o="Connect Wallet",...u}){const d=ic();return d?(0,v.jsx)(nh,{currentAccount:d}):(0,v.jsx)(Zf,{trigger:(0,v.jsx)(Hc,{children:(0,v.jsx)(jc,{...u,children:o})})})}function oc(){const o=new Map;return{getItem(u){return o.get(u)},setItem(u,d){o.set(u,d)},removeItem(u){o.delete(u)}}}var Wu="Sui Wallet",rh=typeof window<"u"&&window.localStorage?localStorage:oc(),_a="sui-dapp-kit:wallet-connection-info",fd=["sui:signTransaction","sui:signTransactionBlock"],Gi=o=>fd.some(u=>o.features[u]),Vu=[Wu,Su.lV];function zu(){const{mutateAsync:o}=Bu(),u=fr(ne=>ne.autoConnectEnabled),d=fr(ne=>ne.lastConnectedWalletName),m=fr(ne=>ne.lastConnectedAccountAddress),y=id(),{isConnected:E}=uo(),[R,C]=(0,x.useState)(!1);(0,x.useLayoutEffect)(()=>{C(!0)},[]);const{data:G,isError:K}=(0,Tu.a)({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:E,autoConnectEnabled:u,lastConnectedWalletName:d,lastConnectedAccountAddress:m,walletCount:y.length}],queryFn:async()=>{if(!u)return"disabled";if(!d||!m||E)return"attempted";const ne=y.find(Y=>Zo(Y)===d);return ne&&await o({wallet:ne,accountAddress:m,silent:!0}),"attempted"},enabled:u,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return u?R?E||!d||K?"attempted":G??"idle":"idle":"disabled"}function Ku(o){const u=zu(),[d,m]=(0,x.useState)(null),[y,E]=(0,x.useState)(null),{mutate:R}=Bu();(0,x.useEffect)(()=>{!d||!y||u!=="attempted"||(R({wallet:y,silent:!0}),m(null))},[d,u,R,y]),(0,x.useLayoutEffect)(()=>{if(!(o!=null&&o.name))return;const{wallet:C,unregister:G,addressFromRedirect:K}=(0,Su.aK)(o.name,{origin:o.origin});return K&&(E(C),m(K)),G},[o==null?void 0:o.name,o==null?void 0:o.origin])}var hd="Unsafe Burner Wallet";function sh(o){const u=Lu();(0,x.useEffect)(()=>o?pd(u):void 0,[o,u])}function pd(o){var u,d,m,y,E,R,C;const G=(0,pn.M)();if(G.get().find(Me=>Me.name===hd)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const ne=new Fc.r,Y=new Ru.Il({address:ne.getPublicKey().toSuiAddress(),publicKey:ne.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class Pe{constructor(){zs(this,u,()=>()=>{}),zs(this,d,async()=>({accounts:this.accounts})),zs(this,m,async Le=>{const{bytes:ce,signature:Re}=await ne.signPersonalMessage(Le.message);return{bytes:ce,signature:Re}}),zs(this,y,async Le=>{const{bytes:ce,signature:Re}=await Le.transactionBlock.sign({client:o,signer:ne});return{transactionBlockBytes:ce,signature:Re}}),zs(this,E,async Le=>{var je;const{bytes:ce,signature:Re}=await Pu.Y.from(await Le.transaction.toJSON()).sign({client:o,signer:ne});return(je=Le.signal)==null||je.throwIfAborted(),{bytes:ce,signature:Re}}),zs(this,R,async Le=>{const{bytes:ce,signature:Re}=await Le.transactionBlock.sign({client:o,signer:ne});return o.executeTransactionBlock({signature:Re,transactionBlock:ce,options:Le.options})}),zs(this,C,async Le=>{var xt;const{bytes:ce,signature:Re}=await Pu.Y.from(await Le.transaction.toJSON()).sign({client:o,signer:ne});(xt=Le.signal)==null||xt.throwIfAborted();const{rawEffects:je,digest:qe}=await o.executeTransactionBlock({signature:Re,transactionBlock:ce,options:{showRawEffects:!0}});return{bytes:ce,signature:Re,digest:qe,effects:(0,ga.z)(new Uint8Array(je))}})}get version(){return"1.0.0"}get name(){return hd}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return Cu.KE}get accounts(){return[Y]}get features(){return{"standard:connect":{version:"1.0.0",connect:Po(this,d)},"standard:events":{version:"1.0.0",on:Po(this,u)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:Po(this,m)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:Po(this,y)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:Po(this,R)},"sui:signTransaction":{version:"2.0.0",signTransaction:Po(this,E)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:Po(this,C)}}}}return u=new WeakMap,d=new WeakMap,m=new WeakMap,y=new WeakMap,E=new WeakMap,R=new WeakMap,C=new WeakMap,G.register(new Pe)}function md(){const{currentWallet:o}=uo(),u=fr(d=>d.updateWalletAccounts);(0,x.useEffect)(()=>o==null?void 0:o.features["standard:events"].on("change",({accounts:m})=>{m&&u(m)}),[o==null?void 0:o.features,u])}function Bm(o,u){const d=fr(y=>y.setWalletRegistered),m=fr(y=>y.setWalletUnregistered);(0,x.useEffect)(()=>{const y=(0,pn.M)();d(fi(o,u));const E=y.on("register",()=>{d(fi(o,u))}),R=y.on("unregister",C=>{m(fi(o,u),C)});return()=>{E(),R()}},[o,u,d,m])}var ih={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function oh({wallets:o,storage:u,storageKey:d,autoConnectEnabled:m}){return io()(lm((y,E)=>({autoConnectEnabled:m,wallets:o,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(R){y(()=>({connectionStatus:R}))},setWalletConnected(R,C,G,K=[]){y(()=>({accounts:C,currentWallet:R,currentAccount:G,lastConnectedWalletName:Zo(R),lastConnectedAccountAddress:G==null?void 0:G.address,connectionStatus:"connected",supportedIntents:K}))},setWalletDisconnected(){y(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(R){y(()=>({currentAccount:R,lastConnectedAccountAddress:R.address}))},setWalletRegistered(R){y(()=>({wallets:R}))},setWalletUnregistered(R,C){C===E().currentWallet?y(()=>({wallets:R,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):y(()=>({wallets:R}))},updateWalletAccounts(R){const C=E().currentAccount;y(()=>({accounts:R,currentAccount:C&&R.find(({address:G})=>G===C.address)||R[0]}))}}),{name:d,storage:Yl(()=>u),partialize:({lastConnectedWalletName:y,lastConnectedAccountAddress:E})=>({lastConnectedWalletName:y,lastConnectedAccountAddress:E})}))}var $u={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},Ea=(0,fm.bn)($u,(o,u)=>`dapp-kit-${u.join("-")}`);function Mm({theme:o}){const u=Array.isArray(o)?Dm(o):ah(o);return(0,v.jsx)("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:u}})}function Dm(o){return o.map(({mediaQuery:u,selector:d,variables:m})=>{const y=ah(m),E=d?`${d} ${y}`:y;return u?`@media ${u}{${E}}`:E}).join(" ")}function ah(o){return`${rd} {${Qu(o)}}`}function Qu(o){return Object.entries((0,dm.L)(Ea,o)).map(([u,d])=>`${u}:${d};`).join("")}function ac({preferredWallets:o=Vu,walletFilter:u=Gi,storage:d=rh,storageKey:m=_a,enableUnsafeBurner:y=!1,autoConnect:E=!1,stashedWallet:R,theme:C=ih,children:G}){const K=(0,x.useRef)(oh({autoConnectEnabled:E,wallets:fi(o,u),storage:d||oc(),storageKey:m}));return(0,v.jsx)(Ff.Provider,{value:K.current,children:(0,v.jsxs)(Lm,{preferredWallets:o,walletFilter:u,enableUnsafeBurner:y,stashedWallet:R,children:[C?(0,v.jsx)(Mm,{theme:C}):null,G]})})}function Lm({preferredWallets:o=Vu,walletFilter:u=Gi,enableUnsafeBurner:d=!1,stashedWallet:m,children:y}){return Bm(o,u),md(),Ku(m),sh(d),zu(),y}function ch(o){function u(){const{config:y}=Co();if(!y)throw new Error("No network config found");return y}function d(){const{variables:y}=u();return y??{}}function m(y){return d()[y]}return{networkConfig:o,useNetworkConfig:u,useNetworkVariables:d,useNetworkVariable:m}}function uh(o,u,{queryKey:d=[],enabled:m=!!u,...y}={}){const E=Co();return(0,Xe.N)({...y,initialPageParam:null,queryKey:[E.network,o,u,...d],enabled:m,queryFn:({pageParam:R})=>E.client[o]({...u??{},cursor:R}),getNextPageParam:R=>R.hasNextPage?R.nextCursor??null:null})}function jg(o,u={}){const d=Co();return(0,Sn.D)({...u,mutationFn:async m=>await d.client[o](m)})}function lh({queries:o,combine:u}){const d=Co();return(0,ec.h)({combine:u,queries:o.map(m=>{const{method:y,params:E,options:{queryKey:R=[],...C}={}}=m;return{...C,queryKey:[d.network,y,E,...R],queryFn:async()=>await d.client[y](E)}})})}function Zu({mutationKey:o,...u}={}){const{currentWallet:d}=uo(),m=ic();return(0,Sn.D)({mutationKey:mr.reportTransactionEffects(o),mutationFn:async({effects:y,chain:E=d==null?void 0:d.chains[0],account:R=m})=>{if(!d)throw new zc("No wallet is connected.");if(!R)throw new Xo("No wallet account is selected to report transaction effects for");const C=d.features["sui:reportTransactionEffects"];if(C)return await C.reportTransactionEffects({effects:Array.isArray(y)?(0,ga.z)(new Uint8Array(y)):y,account:R,chain:E??(d==null?void 0:d.chains[0])})},...u})}function dh({mutationKey:o,execute:u,...d}={}){const{currentWallet:m,supportedIntents:y}=uo(),E=ic(),R=Lu(),{mutate:C}=Zu(),G=u??(async({bytes:K,signature:ne})=>{const{digest:Y,rawEffects:Pe}=await R.executeTransactionBlock({transactionBlock:K,signature:ne,options:{showRawEffects:!0}});return{digest:Y,rawEffects:Pe,effects:(0,ga.z)(new Uint8Array(Pe)),bytes:K,signature:ne}});return(0,Sn.D)({mutationKey:mr.signAndExecuteTransaction(o),mutationFn:async({transaction:K,...ne})=>{var je;if(!m)throw new zc("No wallet is connected.");const Y=ne.account??E;if(!Y)throw new Xo("No wallet account is selected to sign the transaction with.");const Pe=ne.chain??(Y==null?void 0:Y.chains[0]);if(!m.features["sui:signTransaction"]&&!m.features["sui:signTransactionBlock"])throw new ad("This wallet doesn't support the `signTransaction` feature.");const{signature:Me,bytes:Le}=await Df(m,{...ne,transaction:{async toJSON(){return typeof K=="string"?K:await K.toJSON({supportedIntents:y,client:R})}},account:Y,chain:ne.chain??Y.chains[0]}),ce=await G({bytes:Le,signature:Me});let Re;if("effects"in ce&&((je=ce.effects)!=null&&je.bcs))Re=ce.effects.bcs;else if("rawEffects"in ce)Re=(0,ga.z)(new Uint8Array(ce.rawEffects));else throw new Error("Could not parse effects from transaction result.");return C({effects:Re,account:Y,chain:Pe}),ce},...d})}function fh({mutationKey:o,...u}={}){const{currentWallet:d}=uo(),m=ic();return(0,Sn.D)({mutationKey:mr.signPersonalMessage(o),mutationFn:async y=>{if(!d)throw new zc("No wallet is connected.");const E=y.account??m;if(!E)throw new Xo("No wallet account is selected to sign the personal message with.");const R=d.features["sui:signPersonalMessage"];if(R)return await R.signPersonalMessage({...y,account:E});const C=d.features["sui:signMessage"];if(C){console.warn("This wallet doesn't support the `signPersonalMessage` feature... falling back to `signMessage`.");const{messageBytes:G,signature:K}=await C.signMessage({...y,account:E});return{bytes:G,signature:K}}throw new ad("This wallet doesn't support the `signPersonalMessage` feature.")},...u})}function qu({mutationKey:o,...u}={}){const{currentWallet:d}=uo(),m=ic(),y=Lu(),{mutate:E}=Zu();return(0,Sn.D)({mutationKey:mr.signTransaction(o),mutationFn:async({transaction:R,...C})=>{if(!d)throw new zc("No wallet is connected.");const G=C.account??m;if(!G)throw new Xo("No wallet account is selected to sign the transaction with.");if(!d.features["sui:signTransaction"]&&!d.features["sui:signTransactionBlock"])throw new ad("This wallet doesn't support the `signTransaction` feature.");const{bytes:K,signature:ne}=await Df(d,{...C,transaction:{toJSON:async()=>typeof R=="string"?R:await R.toJSON({supportedIntents:[],client:y})},account:G,chain:C.chain??G.chains[0]});return{bytes:K,signature:ne,reportTransactionEffects:Y=>{E({effects:Y,account:G,chain:C.chain??G.chains[0]})}}},...u})}},60149:function(Zt,ct,D){"use strict";D.d(ct,{Gg:function(){return de},J8:function(){return Te},Rx:function(){return x},aI:function(){return le},vp:function(){return J}});function x(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`Wrong positive integer: ${L}`)}function ie(L){if(typeof L!="boolean")throw new Error(`Expected boolean, not ${L}`)}function le(L,...be){if(!(L instanceof Uint8Array))throw new Error("Expected Uint8Array");if(be.length>0&&!be.includes(L.length))throw new Error(`Expected Uint8Array of length ${be}, not of length=${L.length}`)}function J(L){if(typeof L!="function"||typeof L.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");x(L.outputLen),x(L.blockLen)}function de(L,be=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(be&&L.finished)throw new Error("Hash#digest() has already been called")}function Te(L,be){le(L);const P=be.outputLen;if(L.length<P)throw new Error(`digestInto() expects output buffer of length at least ${P}`)}const v={number:x,bool:ie,bytes:le,hash:J,exists:de,output:Te};var O=null},82403:function(Zt,ct,D){"use strict";D.d(ct,{kb:function(){return se},eV:function(){return $},GL:function(){return de},O6:function(){return _e},np:function(){return Te},O0:function(){return j},Jq:function(){return J},hE:function(){return fe}});const x=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const ie=ee=>ee instanceof Uint8Array,le=ee=>new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength),J=ee=>new Uint32Array(ee.buffer,ee.byteOffset,Math.floor(ee.byteLength/4)),de=ee=>new DataView(ee.buffer,ee.byteOffset,ee.byteLength),Te=(ee,S)=>ee<<32-S|ee>>>S;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const O=Array.from({length:256},(ee,S)=>S.toString(16).padStart(2,"0"));function L(ee){if(!ie(ee))throw new Error("Uint8Array expected");let S="";for(let oe=0;oe<ee.length;oe++)S+=O[ee[oe]];return S}function be(ee){if(typeof ee!="string")throw new Error("hex string expected, got "+typeof ee);const S=ee.length;if(S%2)throw new Error("padded hex string expected, got unpadded hex of length "+S);const oe=new Uint8Array(S/2);for(let F=0;F<oe.length;F++){const re=F*2,Be=ee.slice(re,re+2),Ye=Number.parseInt(Be,16);if(Number.isNaN(Ye)||Ye<0)throw new Error("Invalid byte sequence");oe[F]=Ye}return oe}const P=async()=>{};async function Ae(ee,S,oe){let F=Date.now();for(let re=0;re<ee;re++){oe(re);const Be=Date.now()-F;Be>=0&&Be<S||(await P(),F+=Be)}}function ae(ee){if(typeof ee!="string")throw new Error(`utf8ToBytes expected string, got ${typeof ee}`);return new Uint8Array(new TextEncoder().encode(ee))}function j(ee){if(typeof ee=="string"&&(ee=ae(ee)),!ie(ee))throw new Error(`expected Uint8Array, got ${typeof ee}`);return ee}function $(...ee){const S=new Uint8Array(ee.reduce((F,re)=>F+re.length,0));let oe=0;return ee.forEach(F=>{if(!ie(F))throw new Error("Uint8Array expected");S.set(F,oe),oe+=F.length}),S}class se{clone(){return this._cloneInto()}}const Se={}.toString;function M(ee,S){if(S!==void 0&&Se.call(S)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(ee,S)}function fe(ee){const S=F=>ee().update(j(F)).digest(),oe=ee();return S.outputLen=oe.outputLen,S.blockLen=oe.blockLen,S.create=()=>ee(),S}function q(ee){const S=(F,re)=>ee(re).update(j(F)).digest(),oe=ee({});return S.outputLen=oe.outputLen,S.blockLen=oe.blockLen,S.create=F=>ee(F),S}function ue(ee){const S=(F,re)=>ee(re).update(j(F)).digest(),oe=ee({});return S.outputLen=oe.outputLen,S.blockLen=oe.blockLen,S.create=F=>ee(F),S}function _e(ee=32){if(x&&typeof x.getRandomValues=="function")return x.getRandomValues(new Uint8Array(ee));throw new Error("crypto.getRandomValues must be defined")}},20926:function(Zt,ct,D){"use strict";var O,L,be,P,Ae,ae,j,$,sb,J0,X0,Y0,q;D.d(ct,{y:function(){return v}});var x=D(19983),ie=D(66019),le=D(94779),J=D(52952);function de(ue,_e){return ue.filter(ee=>!_e.includes(ee))}function Te(ue,_e,ee){const S=ue.slice(0);return S[_e]=ee,S}var v=(q=class extends le.l{constructor(_e,ee,S){super();Ze(this,$);Ze(this,O);Ze(this,L);Ze(this,be);Ze(this,P);Ze(this,Ae);Ze(this,ae);Ze(this,j);Q(this,O,_e),Q(this,be,[]),Q(this,P,[]),Q(this,L,[]),this.setQueries(ee)}onSubscribe(){this.listeners.size===1&&I(this,P).forEach(_e=>{_e.subscribe(ee=>{Ot(this,$,X0).call(this,_e,ee)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,I(this,P).forEach(_e=>{_e.destroy()})}setQueries(_e,ee,S){Q(this,be,_e),x.V.batch(()=>{const oe=I(this,P),F=Ot(this,$,J0).call(this,I(this,be));F.forEach(pe=>pe.observer.setOptions(pe.defaultedQueryOptions,S));const re=F.map(pe=>pe.observer),Be=re.map(pe=>pe.getCurrentResult()),Ye=re.some((pe,V)=>pe!==oe[V]);oe.length===re.length&&!Ye||(Q(this,P,re),Q(this,L,Be),this.hasListeners()&&(de(oe,re).forEach(pe=>{pe.destroy()}),de(re,oe).forEach(pe=>{pe.subscribe(V=>{Ot(this,$,X0).call(this,pe,V)})}),Ot(this,$,Y0).call(this)))})}getCurrentResult(){return I(this,L)}getQueries(){return I(this,P).map(_e=>_e.getCurrentQuery())}getObservers(){return I(this,P)}getOptimisticResult(_e,ee){const S=Ot(this,$,J0).call(this,_e),oe=S.map(F=>F.observer.getOptimisticResult(F.defaultedQueryOptions));return[oe,F=>Ot(this,$,sb).call(this,F??oe,ee),()=>S.map((F,re)=>{const Be=oe[re];return F.defaultedQueryOptions.notifyOnChangeProps?Be:F.observer.trackResult(Be,Ye=>{S.forEach(pe=>{pe.observer.trackProp(Ye)})})})]}},O=new WeakMap,L=new WeakMap,be=new WeakMap,P=new WeakMap,Ae=new WeakMap,ae=new WeakMap,j=new WeakMap,$=new WeakSet,sb=function(_e,ee){return ee?((!I(this,Ae)||I(this,L)!==I(this,j)||ee!==I(this,ae))&&(Q(this,ae,ee),Q(this,j,I(this,L)),Q(this,Ae,(0,J.Q$)(I(this,Ae),ee(_e)))),I(this,Ae)):_e},J0=function(_e){const ee=I(this,P),S=new Map(ee.map(U=>[U.options.queryHash,U])),oe=_e.map(U=>I(this,O).defaultQueryOptions(U)),F=oe.flatMap(U=>{const X=S.get(U.queryHash);return X!=null?[{defaultedQueryOptions:U,observer:X}]:[]}),re=new Set(F.map(U=>U.defaultedQueryOptions.queryHash)),Be=oe.filter(U=>!re.has(U.queryHash)),Ye=U=>{const X=I(this,O).defaultQueryOptions(U);return I(this,P).find(ke=>ke.options.queryHash===X.queryHash)??new ie.z(I(this,O),X)},pe=Be.map(U=>({defaultedQueryOptions:U,observer:Ye(U)})),V=(U,X)=>oe.indexOf(U.defaultedQueryOptions)-oe.indexOf(X.defaultedQueryOptions);return F.concat(pe).sort(V)},X0=function(_e,ee){const S=I(this,P).indexOf(_e);S!==-1&&(Q(this,L,Te(I(this,L),S,ee)),Ot(this,$,Y0).call(this))},Y0=function(){x.V.batch(()=>{this.listeners.forEach(_e=>{_e(I(this,L))})})},q)},94928:function(Zt,ct,D){"use strict";D.d(ct,{wO:function(){return ae},_8:function(){return be},VR:function(){return P},mT:function(){return Ae}});function x(j){return j}function ie(j){return{mutationKey:j.options.mutationKey,state:j.state,...j.options.scope&&{scope:j.options.scope},...j.meta&&{meta:j.meta}}}function le(j,$){var se;return{state:{...j.state,...j.state.data!==void 0&&{data:$(j.state.data)}},queryKey:j.queryKey,queryHash:j.queryHash,...j.state.status==="pending"&&{promise:(se=j.promise)==null?void 0:se.then($).catch(Se=>Promise.reject(new Error("redacted")))},...j.meta&&{meta:j.meta}}}function J(j){return j.state.isPaused}function de(j){return j.state.status==="success"}function Te(j,$={}){var ue,_e,ee;const se=$.shouldDehydrateMutation??((ue=j.getDefaultOptions().dehydrate)==null?void 0:ue.shouldDehydrateMutation)??J,Se=j.getMutationCache().getAll().flatMap(S=>se(S)?[ie(S)]:[]),M=$.shouldDehydrateQuery??((_e=j.getDefaultOptions().dehydrate)==null?void 0:_e.shouldDehydrateQuery)??de,fe=$.serializeData??((ee=j.getDefaultOptions().dehydrate)==null?void 0:ee.serializeData)??x,q=j.getQueryCache().getAll().flatMap(S=>M(S)?[le(S,fe)]:[]);return{mutations:Se,queries:q}}function v(j,$,se){var _e,ee;if(typeof $!="object"||$===null)return;const Se=j.getMutationCache(),M=j.getQueryCache(),fe=((_e=se==null?void 0:se.defaultOptions)==null?void 0:_e.deserializeData)??((ee=j.getDefaultOptions().hydrate)==null?void 0:ee.deserializeData)??x,q=$.mutations||[],ue=$.queries||[];q.forEach(({state:S,...oe})=>{var F,re;Se.build(j,{...(F=j.getDefaultOptions().hydrate)==null?void 0:F.mutations,...(re=se==null?void 0:se.defaultOptions)==null?void 0:re.mutations,...oe},S)}),ue.forEach(({queryKey:S,state:oe,queryHash:F,meta:re,promise:Be})=>{var V,U;let Ye=M.get(F);const pe=oe.data===void 0?oe.data:fe(oe.data);if(Ye){if(Ye.state.dataUpdatedAt<oe.dataUpdatedAt){const{fetchStatus:X,...me}=oe;Ye.setState({...me,data:pe})}}else Ye=M.build(j,{...(V=j.getDefaultOptions().hydrate)==null?void 0:V.queries,...(U=se==null?void 0:se.defaultOptions)==null?void 0:U.queries,queryKey:S,queryHash:F,meta:re},{...oe,data:pe,fetchStatus:"idle"});if(Be){const X=Promise.resolve(Be).then(fe);Ye.fetch(void 0,{initialPromise:X})}})}var O=["added","removed","updated"];function L(j){return O.includes(j)}async function be({queryClient:j,persister:$,maxAge:se=1e3*60*60*24,buster:Se="",hydrateOptions:M}){try{const fe=await $.restoreClient();if(fe)if(fe.timestamp){const q=Date.now()-fe.timestamp>se,ue=fe.buster!==Se;q||ue?$.removeClient():v(j,fe.clientState,M)}else $.removeClient()}catch{$.removeClient()}}async function P({queryClient:j,persister:$,buster:se="",dehydrateOptions:Se}){const M={buster:se,timestamp:Date.now(),clientState:Te(j,Se)};await $.persistClient(M)}function Ae(j){const $=j.queryClient.getQueryCache().subscribe(Se=>{L(Se.type)&&P(j)}),se=j.queryClient.getMutationCache().subscribe(Se=>{L(Se.type)&&P(j)});return()=>{$(),se()}}function ae(j){let $=!1,se;const Se=()=>{$=!0,se==null||se()},M=be(j).then(()=>{$||(se=Ae(j))});return[Se,M]}},86889:function(Zt,ct,D){"use strict";D.r(ct),D.d(ct,{createSyncStoragePersister:function(){return ie}});function x(){}function ie({storage:J,key:de="REACT_QUERY_OFFLINE_CACHE",throttleTime:Te=1e3,serialize:v=JSON.stringify,deserialize:O=JSON.parse,retry:L}){if(J){const be=P=>{try{J.setItem(de,v(P));return}catch(Ae){return Ae}};return{persistClient:le(P=>{let Ae=P,ae=be(Ae),j=0;for(;ae&&Ae;)j++,Ae=L==null?void 0:L({persistedClient:Ae,error:ae,errorCount:j}),Ae&&(ae=be(Ae))},Te),restoreClient:()=>{const P=J.getItem(de);if(P)return O(P)},removeClient:()=>{J.removeItem(de)}}}return{persistClient:x,restoreClient:()=>{},removeClient:x}}function le(J,de=100){let Te=null,v;return function(...O){v=O,Te===null&&(Te=setTimeout(()=>{J(...v),Te=null},de))}}},40196:function(Zt,ct,D){"use strict";D.d(ct,{S:function(){return Te}});var x=D(1735),ie=D(94928),le=D(84984),J=D(95297),de=D(72152),Te=({client:v,children:O,persistOptions:L,onSuccess:be,...P})=>{const[Ae,ae]=x.useState(!0),j=x.useRef({persistOptions:L,onSuccess:be}),$=x.useRef(!1);return x.useEffect(()=>{j.current={persistOptions:L,onSuccess:be}}),x.useEffect(()=>{const se={...j.current.persistOptions,queryClient:v};return $.current||($.current=!0,ae(!0),(0,ie._8)(se).then(async()=>{var Se,M;try{await((M=(Se=j.current).onSuccess)==null?void 0:M.call(Se))}finally{ae(!1)}})),Ae?void 0:(0,ie.mT)(se)},[v,Ae]),(0,de.jsx)(le.aH,{client:v,...P,children:(0,de.jsx)(J.u,{value:Ae,children:O})})}},29799:function(Zt,ct,D){"use strict";D.d(ct,{h:function(){return be}});var x=D(1735),ie=D(20926),le=D(19983),J=D(66019),de=D(84984),Te=D(95297),v=D(80172),O=D(30003),L=D(32105);function be({queries:P,...Ae},ae){const j=(0,de.NL)(ae),$=(0,Te.S)(),se=(0,v._)(),Se=x.useMemo(()=>P.map(oe=>{const F=j.defaultQueryOptions(oe);return F._optimisticResults=$?"isRestoring":"optimistic",F}),[P,j,$]);Se.forEach(oe=>{(0,L.Fb)(oe),(0,O.pf)(oe,se)}),(0,O.JN)(se);const[M]=x.useState(()=>new ie.y(j,Se,Ae)),[fe,q,ue]=M.getOptimisticResult(Se,Ae.combine);x.useSyncExternalStore(x.useCallback(oe=>$?()=>{}:M.subscribe(le.V.batchCalls(oe)),[M,$]),()=>M.getCurrentResult(),()=>M.getCurrentResult()),x.useEffect(()=>{M.setQueries(Se,Ae,{listeners:!1})},[Se,Ae,M]);const ee=fe.some((oe,F)=>(0,L.SB)(Se[F],oe))?fe.flatMap((oe,F)=>{const re=Se[F];if(re){const Be=new J.z(j,re);if((0,L.SB)(re,oe))return(0,L.j8)(re,Be,se);(0,L.Z$)(oe,$)&&(0,L.j8)(re,Be,se)}return[]}):[];if(ee.length>0)throw Promise.all(ee);const S=fe.find((oe,F)=>{const re=Se[F];return re&&(0,O.KJ)({result:oe,errorResetBoundary:se,throwOnError:re.throwOnError,query:j.getQueryCache().get(re.queryHash)})});if(S!=null&&S.error)throw S.error;return q(ue())}},42993:function(Zt,ct,D){"use strict";var me,_l;D.d(ct,{R:function(){return X}});var x=D(55669),ie=D(57582),le=D(89),J=D(94295),de=D(19420);class Te extends ie.XI{constructor(ze){super("address","address",ze,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(ze,De){let Fe=de._.dereference(De,"string");try{Fe=(0,le.K)(Fe)}catch(at){return this._throwError(at.message,De)}return ze.writeValue(Fe)}decode(ze){return(0,le.K)((0,J.m9)(ze.readValue(),20))}}var v=D(87410);class O extends ie.XI{constructor(De){super(De.name,De.type,"_",De.dynamic);Ve(this,"coder");this.coder=De}defaultValue(){return this.coder.defaultValue()}encode(De,Fe){return this.coder.encode(De,Fe)}decode(De){return this.coder.decode(De)}}function L(nt,ze,De){let Fe=[];if(Array.isArray(De))Fe=De;else if(De&&typeof De=="object"){let wr={};Fe=ze.map(zt=>{const tn=zt.localName;return(0,x.hu)(tn,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:zt},value:De}),(0,x.hu)(!wr[tn],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:zt},value:De}),wr[tn]=!0,De[tn]})}else(0,x.en)(!1,"invalid tuple value","tuple",De);(0,x.en)(ze.length===Fe.length,"types/value length mismatch","tuple",De);let at=new ie.QV,_t=new ie.QV,Pt=[];ze.forEach((wr,zt)=>{let tn=Fe[zt];if(wr.dynamic){let $n=_t.length;wr.encode(_t,tn);let tr=at.writeUpdatableValue();Pt.push(Gn=>{tr(Gn+$n)})}else wr.encode(at,tn)}),Pt.forEach(wr=>{wr(at.length)});let En=nt.appendWriter(at);return En+=nt.appendWriter(_t),En}function be(nt,ze){let De=[],Fe=[],at=nt.subReader(0);return ze.forEach(_t=>{let Pt=null;if(_t.dynamic){let En=nt.readIndex(),wr=at.subReader(En);try{Pt=_t.decode(wr)}catch(zt){if((0,x.VZ)(zt,"BUFFER_OVERRUN"))throw zt;Pt=zt,Pt.baseType=_t.name,Pt.name=_t.localName,Pt.type=_t.type}}else try{Pt=_t.decode(nt)}catch(En){if((0,x.VZ)(En,"BUFFER_OVERRUN"))throw En;Pt=En,Pt.baseType=_t.name,Pt.name=_t.localName,Pt.type=_t.type}if(Pt==null)throw new Error("investigate");De.push(Pt),Fe.push(_t.localName||null)}),ie.x4.fromItems(De,Fe)}class P extends ie.XI{constructor(De,Fe,at){const _t=De.type+"["+(Fe>=0?Fe:"")+"]",Pt=Fe===-1||De.dynamic;super("array",_t,at,Pt);Ve(this,"coder");Ve(this,"length");(0,v.h)(this,{coder:De,length:Fe})}defaultValue(){const De=this.coder.defaultValue(),Fe=[];for(let at=0;at<this.length;at++)Fe.push(De);return Fe}encode(De,Fe){const at=de._.dereference(Fe,"array");Array.isArray(at)||this._throwError("expected array value",at);let _t=this.length;_t===-1&&(_t=at.length,De.writeValue(at.length)),(0,x.fG)(at.length,_t,"coder array"+(this.localName?" "+this.localName:""));let Pt=[];for(let En=0;En<at.length;En++)Pt.push(this.coder);return L(De,Pt,at)}decode(De){let Fe=this.length;Fe===-1&&(Fe=De.readIndex(),(0,x.hu)(Fe*ie.Bx<=De.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:De.bytes,offset:Fe*ie.Bx,length:De.dataLength}));let at=[];for(let _t=0;_t<Fe;_t++)at.push(new O(this.coder));return be(De,at)}}class Ae extends ie.XI{constructor(ze){super("bool","bool",ze,!1)}defaultValue(){return!1}encode(ze,De){const Fe=de._.dereference(De,"bool");return ze.writeValue(Fe?1:0)}decode(ze){return!!ze.readValue()}}var ae=D(86503);class j extends ie.XI{constructor(ze,De){super(ze,ze,De,!0)}defaultValue(){return"0x"}encode(ze,De){De=(0,ae.h_)(De);let Fe=ze.writeValue(De.length);return Fe+=ze.writeBytes(De),Fe}decode(ze){return ze.readBytes(ze.readIndex(),!0)}}class $ extends j{constructor(ze){super("bytes",ze)}decode(ze){return(0,ae.Dv)(super.decode(ze))}}class se extends ie.XI{constructor(De,Fe){let at="bytes"+String(De);super(at,at,Fe,!1);Ve(this,"size");(0,v.h)(this,{size:De},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(De,Fe){let at=(0,ae.h_)(de._.dereference(Fe,this.type));return at.length!==this.size&&this._throwError("incorrect data length",Fe),De.writeBytes(at)}decode(De){return(0,ae.Dv)(De.readBytes(this.size))}}const Se=new Uint8Array([]);class M extends ie.XI{constructor(ze){super("null","",ze,!1)}defaultValue(){return null}encode(ze,De){return De!=null&&this._throwError("not null",De),ze.writeBytes(Se)}decode(ze){return ze.readBytes(0),null}}const fe=BigInt(0),q=BigInt(1),ue=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class _e extends ie.XI{constructor(De,Fe,at){const _t=(Fe?"int":"uint")+De*8;super(_t,_t,at,!1);Ve(this,"size");Ve(this,"signed");(0,v.h)(this,{size:De,signed:Fe},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(De,Fe){let at=(0,J.yT)(de._.dereference(Fe,this.type)),_t=(0,J.sS)(ue,ie.Bx*8);if(this.signed){let Pt=(0,J.sS)(_t,this.size*8-1);(at>Pt||at<-(Pt+q))&&this._throwError("value out-of-bounds",Fe),at=(0,J.$j)(at,8*ie.Bx)}else(at<fe||at>(0,J.sS)(_t,this.size*8))&&this._throwError("value out-of-bounds",Fe);return De.writeValue(at)}decode(De){let Fe=(0,J.sS)(De.readValue(),this.size*8);return this.signed&&(Fe=(0,J._Y)(Fe,this.size*8)),Fe}}var ee=D(3330);class S extends j{constructor(ze){super("string",ze)}defaultValue(){return""}encode(ze,De){return super.encode(ze,(0,ee.Y0)(de._.dereference(De,"string")))}decode(ze){return(0,ee.ZN)(super.decode(ze))}}class oe extends ie.XI{constructor(De,Fe){let at=!1;const _t=[];De.forEach(En=>{En.dynamic&&(at=!0),_t.push(En.type)});const Pt="tuple("+_t.join(",")+")";super("tuple",Pt,Fe,at);Ve(this,"coders");(0,v.h)(this,{coders:Object.freeze(De.slice())})}defaultValue(){const De=[];this.coders.forEach(at=>{De.push(at.defaultValue())});const Fe=this.coders.reduce((at,_t)=>{const Pt=_t.localName;return Pt&&(at[Pt]||(at[Pt]=0),at[Pt]++),at},{});return this.coders.forEach((at,_t)=>{let Pt=at.localName;!Pt||Fe[Pt]!==1||(Pt==="length"&&(Pt="_length"),De[Pt]==null&&(De[Pt]=De[_t]))}),Object.freeze(De)}encode(De,Fe){const at=de._.dereference(Fe,"tuple");return L(De,this.coders,at)}decode(De){return be(De,this.coders)}}var F=D(4921);const re=new Map;re.set(0,"GENERIC_PANIC"),re.set(1,"ASSERT_FALSE"),re.set(17,"OVERFLOW"),re.set(18,"DIVIDE_BY_ZERO"),re.set(33,"ENUM_RANGE_ERROR"),re.set(34,"BAD_STORAGE_DATA"),re.set(49,"STACK_UNDERFLOW"),re.set(50,"ARRAY_RANGE_ERROR"),re.set(65,"OUT_OF_MEMORY"),re.set(81,"UNINITIALIZED_FUNCTION_CALL");const Be=new RegExp(/^bytes([0-9]*)$/),Ye=new RegExp(/^(u?int)([0-9]*)$/);let pe=null,V=1024;function U(nt,ze,De,Fe){let at="missing revert data",_t=null;const Pt=null;let En=null;if(De){at="execution reverted";const zt=(0,ae.Pw)(De);if(De=(0,ae.Dv)(De),zt.length===0)at+=" (no data present; likely require(false) occurred",_t="require(false)";else if(zt.length%32!==4)at+=" (could not decode reason; invalid data length)";else if((0,ae.Dv)(zt.slice(0,4))==="0x08c379a0")try{_t=Fe.decode(["string"],zt.slice(4))[0],En={signature:"Error(string)",name:"Error",args:[_t]},at+=`: ${JSON.stringify(_t)}`}catch{at+=" (could not decode reason; invalid string data)"}else if((0,ae.Dv)(zt.slice(0,4))==="0x4e487b71")try{const tn=Number(Fe.decode(["uint256"],zt.slice(4))[0]);En={signature:"Panic(uint256)",name:"Panic",args:[tn]},_t=`Panic due to ${re.get(tn)||"UNKNOWN"}(${tn})`,at+=`: ${_t}`}catch{at+=" (could not decode panic code)"}else at+=" (unknown custom error)"}const wr={to:ze.to?(0,le.K)(ze.to):null,data:ze.data||"0x"};return ze.from&&(wr.from=(0,le.K)(ze.from)),(0,x.wf)(at,"CALL_EXCEPTION",{action:nt,data:De,reason:_t,transaction:wr,invocation:Pt,revert:En})}const Ke=class Ke{constructor(){Ze(this,me)}getDefaultValue(ze){const De=ze.map(at=>Ot(this,me,_l).call(this,F._R.from(at)));return new oe(De,"_").defaultValue()}encode(ze,De){(0,x.fG)(De.length,ze.length,"types/values length mismatch");const Fe=ze.map(Pt=>Ot(this,me,_l).call(this,F._R.from(Pt))),at=new oe(Fe,"_"),_t=new ie.QV;return at.encode(_t,De),_t.data}decode(ze,De,Fe){const at=ze.map(Pt=>Ot(this,me,_l).call(this,F._R.from(Pt)));return new oe(at,"_").decode(new ie.Ej(De,Fe,V))}static _setDefaultMaxInflation(ze){(0,x.en)(typeof ze=="number"&&Number.isInteger(ze),"invalid defaultMaxInflation factor","value",ze),V=ze}static defaultAbiCoder(){return pe==null&&(pe=new Ke),pe}static getBuiltinCallException(ze,De,Fe){return U(ze,De,Fe,Ke.defaultAbiCoder())}};me=new WeakSet,_l=function(ze){if(ze.isArray())return new P(Ot(this,me,_l).call(this,ze.arrayChildren),ze.arrayLength,ze.name);if(ze.isTuple())return new oe(ze.components.map(Fe=>Ot(this,me,_l).call(this,Fe)),ze.name);switch(ze.baseType){case"address":return new Te(ze.name);case"bool":return new Ae(ze.name);case"string":return new S(ze.name);case"bytes":return new $(ze.name);case"":return new M(ze.name)}let De=ze.type.match(Ye);if(De){let Fe=parseInt(De[2]||"256");return(0,x.en)(Fe!==0&&Fe<=256&&Fe%8===0,"invalid "+De[1]+" bit length","param",ze),new _e(Fe/8,De[1]==="int",ze.name)}if(De=ze.type.match(Be),De){let Fe=parseInt(De[1]);return(0,x.en)(Fe!==0&&Fe<=32,"invalid bytes length","param",ze),new se(Fe,ze.name)}(0,x.en)(!1,"invalid type","type",ze.type)};let X=Ke},57582:function(Zt,ct,D){"use strict";var se,M,fe,q,Jh,_e,ee,S,oe,F,re,eg,ib;D.d(ct,{Bx:function(){return de},Ej:function(){return $},QV:function(){return j},XI:function(){return ae},x4:function(){return be}});var x=D(94295),ie=D(55669),le=D(86503),J=D(87410);const de=32,Te=new Uint8Array(de),v=["then"],O={};function L(V,U){const X=new Error(`deferred error during ABI decoding triggered accessing ${V}`);throw X.error=U,X}const Se=class Se extends Array{constructor(...X){const me=X[0];let ke=X[1],Ke=(X[2]||[]).slice(),nt=!0;me!==O&&(ke=X,Ke=[],nt=!1);super(ke.length);Ze(this,se);ke.forEach((De,Fe)=>{this[Fe]=De});const ze=Ke.reduce((De,Fe)=>(typeof Fe=="string"&&De.set(Fe,(De.get(Fe)||0)+1),De),new Map);if(Q(this,se,Object.freeze(ke.map((De,Fe)=>{const at=Ke[Fe];return at!=null&&ze.get(at)===1?at:null}))),!!nt)return Object.freeze(this),new Proxy(this,{get:(De,Fe,at)=>{if(typeof Fe=="string"){if(Fe.match(/^[0-9]+$/)){const Pt=(0,x.Dx)(Fe,"%index");if(Pt<0||Pt>=this.length)throw new RangeError("out of result range");const En=De[Pt];return En instanceof Error&&L(`index ${Pt}`,En),En}if(v.indexOf(Fe)>=0)return Reflect.get(De,Fe,at);const _t=De[Fe];if(_t instanceof Function)return function(...Pt){return _t.apply(this===at?De:this,Pt)};if(!(Fe in De))return De.getValue.apply(this===at?De:this,[Fe])}return Reflect.get(De,Fe,at)}})}toArray(){const X=[];return this.forEach((me,ke)=>{me instanceof Error&&L(`index ${ke}`,me),X.push(me)}),X}toObject(){return I(this,se).reduce((X,me,ke)=>((0,ie.hu)(me!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),me in X||(X[me]=this.getValue(me)),X),{})}slice(X,me){X==null&&(X=0),X<0&&(X+=this.length,X<0&&(X=0)),me==null&&(me=this.length),me<0&&(me+=this.length,me<0&&(me=0)),me>this.length&&(me=this.length);const ke=[],Ke=[];for(let nt=X;nt<me;nt++)ke.push(this[nt]),Ke.push(I(this,se)[nt]);return new Se(O,ke,Ke)}filter(X,me){const ke=[],Ke=[];for(let nt=0;nt<this.length;nt++){const ze=this[nt];ze instanceof Error&&L(`index ${nt}`,ze),X.call(me,ze,nt,this)&&(ke.push(ze),Ke.push(I(this,se)[nt]))}return new Se(O,ke,Ke)}map(X,me){const ke=[];for(let Ke=0;Ke<this.length;Ke++){const nt=this[Ke];nt instanceof Error&&L(`index ${Ke}`,nt),ke.push(X.call(me,nt,Ke,this))}return ke}getValue(X){const me=I(this,se).indexOf(X);if(me===-1)return;const ke=this[me];return ke instanceof Error&&L(`property ${JSON.stringify(X)}`,ke.error),ke}static fromItems(X,me){return new Se(O,X,me)}};se=new WeakMap;let be=Se;function P(V){const U=[],X=function(me,ke){if(Array.isArray(ke))for(let Ke in ke){const nt=me.slice();nt.push(Ke);try{X(nt,ke[Ke])}catch(ze){U.push({path:nt,error:ze})}}};return X([],V),U}function Ae(V){let U=(0,x.ot)(V);return(0,ie.hu)(U.length<=de,"value out-of-bounds","BUFFER_OVERRUN",{buffer:U,length:de,offset:U.length}),U.length!==de&&(U=(0,le.h_)((0,le.zo)([Te.slice(U.length%de),U]))),U}class ae{constructor(U,X,me,ke){Ve(this,"name");Ve(this,"type");Ve(this,"localName");Ve(this,"dynamic");(0,J.h)(this,{name:U,type:X,localName:me,dynamic:ke},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(U,X){(0,ie.en)(!1,U,this.localName,X)}}class j{constructor(){Ze(this,q);Ze(this,M);Ze(this,fe);Q(this,M,[]),Q(this,fe,0)}get data(){return(0,le.zo)(I(this,M))}get length(){return I(this,fe)}appendWriter(U){return Ot(this,q,Jh).call(this,(0,le.h_)(U.data))}writeBytes(U){let X=(0,le.h_)(U);const me=X.length%de;return me&&(X=(0,le.h_)((0,le.zo)([X,Te.slice(me)]))),Ot(this,q,Jh).call(this,X)}writeValue(U){return Ot(this,q,Jh).call(this,Ae(U))}writeUpdatableValue(){const U=I(this,M).length;return I(this,M).push(Te),Q(this,fe,I(this,fe)+de),X=>{I(this,M)[U]=Ae(X)}}}M=new WeakMap,fe=new WeakMap,q=new WeakSet,Jh=function(U){return I(this,M).push(U),Q(this,fe,I(this,fe)+U.length),U.length};const pe=class pe{constructor(U,X,me){Ze(this,re);Ve(this,"allowLoose");Ze(this,_e);Ze(this,ee);Ze(this,S);Ze(this,oe);Ze(this,F);(0,J.h)(this,{allowLoose:!!X}),Q(this,_e,(0,le.h_)(U)),Q(this,S,0),Q(this,oe,null),Q(this,F,me??1024),Q(this,ee,0)}get data(){return(0,le.Dv)(I(this,_e))}get dataLength(){return I(this,_e).length}get consumed(){return I(this,ee)}get bytes(){return new Uint8Array(I(this,_e))}subReader(U){const X=new pe(I(this,_e).slice(I(this,ee)+U),this.allowLoose,I(this,F));return Q(X,oe,this),X}readBytes(U,X){let me=Ot(this,re,ib).call(this,0,U,!!X);return Ot(this,re,eg).call(this,U),Q(this,ee,I(this,ee)+me.length),me.slice(0,U)}readValue(){return(0,x.Gh)(this.readBytes(de))}readIndex(){return(0,x.He)(this.readBytes(de))}};_e=new WeakMap,ee=new WeakMap,S=new WeakMap,oe=new WeakMap,F=new WeakMap,re=new WeakSet,eg=function(U){var X;if(I(this,oe))return Ot(X=I(this,oe),re,eg).call(X,U);Q(this,S,I(this,S)+U),(0,ie.hu)(I(this,F)<1||I(this,S)<=I(this,F)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${I(this,F)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,le.h_)(I(this,_e)),offset:I(this,ee),length:U,info:{bytesRead:I(this,S),dataLength:this.dataLength}})},ib=function(U,X,me){let ke=Math.ceil(X/de)*de;return I(this,ee)+ke>I(this,_e).length&&(this.allowLoose&&me&&I(this,ee)+X<=I(this,_e).length?ke=X:(0,ie.hu)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,le.h_)(I(this,_e)),length:I(this,_e).length,offset:I(this,ee)+ke})),I(this,_e).slice(I(this,ee),I(this,ee)+ke)};let $=pe},4921:function(Zt,ct,D){"use strict";var nr,_n,Oe,tg,Kt,Xh;D.d(ct,{HY:function(){return En},IC:function(){return tn},QV:function(){return $n},Xg:function(){return tr},YW:function(){return _r},_R:function(){return Pt}});var x=D(94295),ie=D(55669),le=D(87410),J=D(617);function de(He){const k=new Set;return He.forEach(N=>k.add(N)),Object.freeze(k)}const v=de("external public payable override".split(" ")),O="constant external internal payable private public pure view override",L=de(O.split(" ")),be="constructor error event fallback function receive struct",P=de(be.split(" ")),Ae="calldata memory storage payable indexed",ae=de(Ae.split(" ")),$=[be,Ae,"tuple returns",O].join(" "),se=de($.split(" ")),Se={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},M=new RegExp("^(\\s*)"),fe=new RegExp("^([0-9]+)"),q=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),ue=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),_e=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Ht=class Ht{constructor(k){Ze(this,Oe);Ze(this,nr);Ze(this,_n);Q(this,nr,0),Q(this,_n,k.slice())}get offset(){return I(this,nr)}get length(){return I(this,_n).length-I(this,nr)}clone(){return new Ht(I(this,_n))}reset(){Q(this,nr,0)}popKeyword(k){const N=this.peek();if(N.type!=="KEYWORD"||!k.has(N.text))throw new Error(`expected keyword ${N.text}`);return this.pop().text}popType(k){if(this.peek().type!==k){const N=this.peek();throw new Error(`expected ${k}; got ${N.type} ${JSON.stringify(N.text)}`)}return this.pop().text}popParen(){const k=this.peek();if(k.type!=="OPEN_PAREN")throw new Error("bad start");const N=Ot(this,Oe,tg).call(this,I(this,nr)+1,k.match+1);return Q(this,nr,k.match+1),N}popParams(){const k=this.peek();if(k.type!=="OPEN_PAREN")throw new Error("bad start");const N=[];for(;I(this,nr)<k.match-1;){const xe=this.peek().linkNext;N.push(Ot(this,Oe,tg).call(this,I(this,nr)+1,xe)),Q(this,nr,xe)}return Q(this,nr,k.match+1),N}peek(){if(I(this,nr)>=I(this,_n).length)throw new Error("out-of-bounds");return I(this,_n)[I(this,nr)]}peekKeyword(k){const N=this.peekType("KEYWORD");return N!=null&&k.has(N)?N:null}peekType(k){if(this.length===0)return null;const N=this.peek();return N.type===k?N.text:null}pop(){const k=this.peek();return kd(this,nr)._++,k}toString(){const k=[];for(let N=I(this,nr);N<I(this,_n).length;N++){const xe=I(this,_n)[N];k.push(`${xe.type}:${xe.text}`)}return`<TokenString ${k.join(" ")}>`}};nr=new WeakMap,_n=new WeakMap,Oe=new WeakSet,tg=function(k=0,N=0){return new Ht(I(this,_n).slice(k,N).map(xe=>Object.freeze(Object.assign({},xe,{match:xe.match-k,linkBack:xe.linkBack-k,linkNext:xe.linkNext-k}))))};let ee=Ht;function S(He){const k=[],N=ot=>{const bt=pt<He.length?JSON.stringify(He[pt]):"$EOI";throw new Error(`invalid token ${bt} at ${pt}: ${ot}`)};let xe=[],Je=[],pt=0;for(;pt<He.length;){let ot=He.substring(pt),bt=ot.match(M);bt&&(pt+=bt[1].length,ot=He.substring(pt));const kt={depth:xe.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:pt,value:-1};k.push(kt);let In=Se[ot[0]]||"";if(In){if(kt.type=In,kt.text=ot[0],pt++,In==="OPEN_PAREN")xe.push(k.length-1),Je.push(k.length-1);else if(In=="CLOSE_PAREN")xe.length===0&&N("no matching open bracket"),kt.match=xe.pop(),k[kt.match].match=k.length-1,kt.depth--,kt.linkBack=Je.pop(),k[kt.linkBack].linkNext=k.length-1;else if(In==="COMMA")kt.linkBack=Je.pop(),k[kt.linkBack].linkNext=k.length-1,Je.push(k.length-1);else if(In==="OPEN_BRACKET")kt.type="BRACKET";else if(In==="CLOSE_BRACKET"){let Qn=k.pop().text;if(k.length>0&&k[k.length-1].type==="NUMBER"){const ys=k.pop().text;Qn=ys+Qn,k[k.length-1].value=(0,x.Dx)(ys)}if(k.length===0||k[k.length-1].type!=="BRACKET")throw new Error("missing opening bracket");k[k.length-1].text+=Qn}continue}if(bt=ot.match(q),bt){if(kt.text=bt[1],pt+=kt.text.length,se.has(kt.text)){kt.type="KEYWORD";continue}if(kt.text.match(_e)){kt.type="TYPE";continue}kt.type="ID";continue}if(bt=ot.match(fe),bt){kt.text=bt[1],kt.type="NUMBER",pt+=kt.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(ot[0])} at position ${pt}`)}return new ee(k.map(ot=>Object.freeze(ot)))}function oe(He,k){let N=[];for(const xe in k.keys())He.has(xe)&&N.push(xe);if(N.length>1)throw new Error(`conflicting types: ${N.join(", ")}`)}function F(He,k){if(k.peekKeyword(P)){const N=k.pop().text;if(N!==He)throw new Error(`expected ${He}, got ${N}`)}return k.popType("ID")}function re(He,k){const N=new Set;for(;;){const xe=He.peekType("KEYWORD");if(xe==null||k&&!k.has(xe))break;if(He.pop(),N.has(xe))throw new Error(`duplicate keywords: ${JSON.stringify(xe)}`);N.add(xe)}return Object.freeze(N)}function Be(He){let k=re(He,L);return oe(k,de("constant payable nonpayable".split(" "))),oe(k,de("pure view payable nonpayable".split(" "))),k.has("view")?"view":k.has("pure")?"pure":k.has("payable")?"payable":k.has("nonpayable")?"nonpayable":k.has("constant")?"view":"nonpayable"}function Ye(He,k){return He.popParams().map(N=>Pt.from(N,k))}function pe(He){if(He.peekType("AT")){if(He.pop(),He.peekType("NUMBER"))return(0,x.yT)(He.pop().text);throw new Error("invalid gas")}return null}function V(He){if(He.length)throw new Error(`unexpected tokens at offset ${He.offset}: ${He.toString()}`)}const U=new RegExp(/^(.*)\[([0-9]*)\]$/);function X(He){const k=He.match(_e);if((0,ie.en)(k,"invalid type","type",He),He==="uint")return"uint256";if(He==="int")return"int256";if(k[2]){const N=parseInt(k[2]);(0,ie.en)(N!==0&&N<=32,"invalid bytes length","type",He)}else if(k[3]){const N=parseInt(k[3]);(0,ie.en)(N!==0&&N<=256&&N%8===0,"invalid numeric width","type",He)}return He}const me={},ke=Symbol.for("_ethers_internal"),Ke="_ParamTypeInternal",nt="_ErrorInternal",ze="_EventInternal",De="_ConstructorInternal",Fe="_FallbackInternal",at="_FunctionInternal",_t="_StructInternal",xn=class xn{constructor(k,N,xe,Je,pt,ot,bt,kt){Ze(this,Kt);Ve(this,"name");Ve(this,"type");Ve(this,"baseType");Ve(this,"indexed");Ve(this,"components");Ve(this,"arrayLength");Ve(this,"arrayChildren");if((0,ie.NK)(k,me,"ParamType"),Object.defineProperty(this,ke,{value:Ke}),ot&&(ot=Object.freeze(ot.slice())),Je==="array"){if(bt==null||kt==null)throw new Error("")}else if(bt!=null||kt!=null)throw new Error("");if(Je==="tuple"){if(ot==null)throw new Error("")}else if(ot!=null)throw new Error("");(0,le.h)(this,{name:N,type:xe,baseType:Je,indexed:pt,components:ot,arrayLength:bt,arrayChildren:kt})}format(k){if(k==null&&(k="sighash"),k==="json"){const xe=this.name||"";if(this.isArray()){const pt=JSON.parse(this.arrayChildren.format("json"));return pt.name=xe,pt.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(pt)}const Je={type:this.baseType==="tuple"?"tuple":this.type,name:xe};return typeof this.indexed=="boolean"&&(Je.indexed=this.indexed),this.isTuple()&&(Je.components=this.components.map(pt=>JSON.parse(pt.format(k)))),JSON.stringify(Je)}let N="";return this.isArray()?(N+=this.arrayChildren.format(k),N+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?N+="("+this.components.map(xe=>xe.format(k)).join(k==="full"?", ":",")+")":N+=this.type,k!=="sighash"&&(this.indexed===!0&&(N+=" indexed"),k==="full"&&this.name&&(N+=" "+this.name)),N}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(k,N){if(this.isArray()){if(!Array.isArray(k))throw new Error("invalid array value");if(this.arrayLength!==-1&&k.length!==this.arrayLength)throw new Error("array is wrong length");const xe=this;return k.map(Je=>xe.arrayChildren.walk(Je,N))}if(this.isTuple()){if(!Array.isArray(k))throw new Error("invalid tuple value");if(k.length!==this.components.length)throw new Error("array is wrong length");const xe=this;return k.map((Je,pt)=>xe.components[pt].walk(Je,N))}return N(this.type,k)}async walkAsync(k,N){const xe=[],Je=[k];return Ot(this,Kt,Xh).call(this,xe,k,N,pt=>{Je[0]=pt}),xe.length&&await Promise.all(xe),Je[0]}static from(k,N){if(xn.isParamType(k))return k;if(typeof k=="string")try{return xn.from(S(k),N)}catch{(0,ie.en)(!1,"invalid param type","obj",k)}else if(k instanceof ee){let bt="",kt="",In=null;re(k,de(["tuple"])).has("tuple")||k.peekType("OPEN_PAREN")?(kt="tuple",In=k.popParams().map(ir=>xn.from(ir)),bt=`tuple(${In.map(ir=>ir.format()).join(",")})`):(bt=X(k.popType("TYPE")),kt=bt);let Qn=null,ys=null;for(;k.length&&k.peekType("BRACKET");){const ir=k.pop();Qn=new xn(me,"",bt,kt,null,In,ys,Qn),ys=ir.value,bt+=ir.text,kt="array",In=null}let Os=null;if(re(k,ae).has("indexed")){if(!N)throw new Error("");Os=!0}const Zs=k.peekType("ID")?k.pop().text:"";if(k.length)throw new Error("leftover tokens");return new xn(me,Zs,bt,kt,Os,In,ys,Qn)}const xe=k.name;(0,ie.en)(!xe||typeof xe=="string"&&xe.match(ue),"invalid name","obj.name",xe);let Je=k.indexed;Je!=null&&((0,ie.en)(N,"parameter cannot be indexed","obj.indexed",k.indexed),Je=!!Je);let pt=k.type,ot=pt.match(U);if(ot){const bt=parseInt(ot[2]||"-1"),kt=xn.from({type:ot[1],components:k.components});return new xn(me,xe||"",pt,"array",Je,null,bt,kt)}if(pt==="tuple"||pt.startsWith("tuple(")||pt.startsWith("(")){const bt=k.components!=null?k.components.map(In=>xn.from(In)):null;return new xn(me,xe||"",pt,"tuple",Je,bt,null,null)}return pt=X(k.type),new xn(me,xe||"",pt,pt,Je,null,null,null)}static isParamType(k){return k&&k[ke]===Ke}};Kt=new WeakSet,Xh=function(k,N,xe,Je){if(this.isArray()){if(!Array.isArray(N))throw new Error("invalid array value");if(this.arrayLength!==-1&&N.length!==this.arrayLength)throw new Error("array is wrong length");const ot=this.arrayChildren,bt=N.slice();bt.forEach((kt,In)=>{var Qn;Ot(Qn=ot,Kt,Xh).call(Qn,k,kt,xe,ys=>{bt[In]=ys})}),Je(bt);return}if(this.isTuple()){const ot=this.components;let bt;if(Array.isArray(N))bt=N.slice();else{if(N==null||typeof N!="object")throw new Error("invalid tuple value");bt=ot.map(kt=>{if(!kt.name)throw new Error("cannot use object value with unnamed components");if(!(kt.name in N))throw new Error(`missing value for component ${kt.name}`);return N[kt.name]})}if(bt.length!==this.components.length)throw new Error("array is wrong length");bt.forEach((kt,In)=>{var Qn;Ot(Qn=ot[In],Kt,Xh).call(Qn,k,kt,xe,ys=>{bt[In]=ys})}),Je(bt);return}const pt=xe(this.type,N);pt.then?k.push(async function(){Je(await pt)}()):Je(pt)};let Pt=xn;class En{constructor(k,N,xe){Ve(this,"type");Ve(this,"inputs");(0,ie.NK)(k,me,"Fragment"),xe=Object.freeze(xe.slice()),(0,le.h)(this,{type:N,inputs:xe})}static from(k){if(typeof k=="string"){try{En.from(JSON.parse(k))}catch{}return En.from(S(k))}if(k instanceof ee)switch(k.peekKeyword(P)){case"constructor":return tr.from(k);case"error":return tn.from(k);case"event":return $n.from(k);case"fallback":case"receive":return Gn.from(k);case"function":return _r.from(k);case"struct":return Cr.from(k)}else if(typeof k=="object"){switch(k.type){case"constructor":return tr.from(k);case"error":return tn.from(k);case"event":return $n.from(k);case"fallback":case"receive":return Gn.from(k);case"function":return _r.from(k);case"struct":return Cr.from(k)}(0,ie.hu)(!1,`unsupported type: ${k.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,ie.en)(!1,"unsupported frgament object","obj",k)}static isConstructor(k){return tr.isFragment(k)}static isError(k){return tn.isFragment(k)}static isEvent(k){return $n.isFragment(k)}static isFunction(k){return _r.isFragment(k)}static isStruct(k){return Cr.isFragment(k)}}class wr extends En{constructor(N,xe,Je,pt){super(N,xe,pt);Ve(this,"name");(0,ie.en)(typeof Je=="string"&&Je.match(ue),"invalid identifier","name",Je),pt=Object.freeze(pt.slice()),(0,le.h)(this,{name:Je})}}function zt(He,k){return"("+k.map(N=>N.format(He)).join(He==="full"?", ":",")+")"}class tn extends wr{constructor(k,N,xe){super(k,"error",N,xe),Object.defineProperty(this,ke,{value:nt})}get selector(){return(0,J.id)(this.format("sighash")).substring(0,10)}format(k){if(k==null&&(k="sighash"),k==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(xe=>JSON.parse(xe.format(k)))});const N=[];return k!=="sighash"&&N.push("error"),N.push(this.name+zt(k,this.inputs)),N.join(" ")}static from(k){if(tn.isFragment(k))return k;if(typeof k=="string")return tn.from(S(k));if(k instanceof ee){const N=F("error",k),xe=Ye(k);return V(k),new tn(me,N,xe)}return new tn(me,k.name,k.inputs?k.inputs.map(Pt.from):[])}static isFragment(k){return k&&k[ke]===nt}}class $n extends wr{constructor(N,xe,Je,pt){super(N,"event",xe,Je);Ve(this,"anonymous");Object.defineProperty(this,ke,{value:ze}),(0,le.h)(this,{anonymous:pt})}get topicHash(){return(0,J.id)(this.format("sighash"))}format(N){if(N==null&&(N="sighash"),N==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(Je=>JSON.parse(Je.format(N)))});const xe=[];return N!=="sighash"&&xe.push("event"),xe.push(this.name+zt(N,this.inputs)),N!=="sighash"&&this.anonymous&&xe.push("anonymous"),xe.join(" ")}static getTopicHash(N,xe){return xe=(xe||[]).map(pt=>Pt.from(pt)),new $n(me,N,xe,!1).topicHash}static from(N){if($n.isFragment(N))return N;if(typeof N=="string")try{return $n.from(S(N))}catch{(0,ie.en)(!1,"invalid event fragment","obj",N)}else if(N instanceof ee){const xe=F("event",N),Je=Ye(N,!0),pt=!!re(N,de(["anonymous"])).has("anonymous");return V(N),new $n(me,xe,Je,pt)}return new $n(me,N.name,N.inputs?N.inputs.map(xe=>Pt.from(xe,!0)):[],!!N.anonymous)}static isFragment(N){return N&&N[ke]===ze}}class tr extends En{constructor(N,xe,Je,pt,ot){super(N,xe,Je);Ve(this,"payable");Ve(this,"gas");Object.defineProperty(this,ke,{value:De}),(0,le.h)(this,{payable:pt,gas:ot})}format(N){if((0,ie.hu)(N!=null&&N!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),N==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(Je=>JSON.parse(Je.format(N)))});const xe=[`constructor${zt(N,this.inputs)}`];return this.payable&&xe.push("payable"),this.gas!=null&&xe.push(`@${this.gas.toString()}`),xe.join(" ")}static from(N){if(tr.isFragment(N))return N;if(typeof N=="string")try{return tr.from(S(N))}catch{(0,ie.en)(!1,"invalid constuctor fragment","obj",N)}else if(N instanceof ee){re(N,de(["constructor"]));const xe=Ye(N),Je=!!re(N,v).has("payable"),pt=pe(N);return V(N),new tr(me,"constructor",xe,Je,pt)}return new tr(me,"constructor",N.inputs?N.inputs.map(Pt.from):[],!!N.payable,N.gas!=null?N.gas:null)}static isFragment(N){return N&&N[ke]===De}}class Gn extends En{constructor(N,xe,Je){super(N,"fallback",xe);Ve(this,"payable");Object.defineProperty(this,ke,{value:Fe}),(0,le.h)(this,{payable:Je})}format(N){const xe=this.inputs.length===0?"receive":"fallback";if(N==="json"){const Je=this.payable?"payable":"nonpayable";return JSON.stringify({type:xe,stateMutability:Je})}return`${xe}()${this.payable?" payable":""}`}static from(N){if(Gn.isFragment(N))return N;if(typeof N=="string")try{return Gn.from(S(N))}catch{(0,ie.en)(!1,"invalid fallback fragment","obj",N)}else if(N instanceof ee){const xe=N.toString(),Je=N.peekKeyword(de(["fallback","receive"]));if((0,ie.en)(Je,"type must be fallback or receive","obj",xe),N.popKeyword(de(["fallback","receive"]))==="receive"){const kt=Ye(N);return(0,ie.en)(kt.length===0,"receive cannot have arguments","obj.inputs",kt),re(N,de(["payable"])),V(N),new Gn(me,[],!0)}let ot=Ye(N);ot.length?(0,ie.en)(ot.length===1&&ot[0].type==="bytes","invalid fallback inputs","obj.inputs",ot.map(kt=>kt.format("minimal")).join(", ")):ot=[Pt.from("bytes")];const bt=Be(N);if((0,ie.en)(bt==="nonpayable"||bt==="payable","fallback cannot be constants","obj.stateMutability",bt),re(N,de(["returns"])).has("returns")){const kt=Ye(N);(0,ie.en)(kt.length===1&&kt[0].type==="bytes","invalid fallback outputs","obj.outputs",kt.map(In=>In.format("minimal")).join(", "))}return V(N),new Gn(me,ot,bt==="payable")}if(N.type==="receive")return new Gn(me,[],!0);if(N.type==="fallback"){const xe=[Pt.from("bytes")],Je=N.stateMutability==="payable";return new Gn(me,xe,Je)}(0,ie.en)(!1,"invalid fallback description","obj",N)}static isFragment(N){return N&&N[ke]===Fe}}class _r extends wr{constructor(N,xe,Je,pt,ot,bt){super(N,"function",xe,pt);Ve(this,"constant");Ve(this,"outputs");Ve(this,"stateMutability");Ve(this,"payable");Ve(this,"gas");Object.defineProperty(this,ke,{value:at}),ot=Object.freeze(ot.slice());const kt=Je==="view"||Je==="pure",In=Je==="payable";(0,le.h)(this,{constant:kt,gas:bt,outputs:ot,payable:In,stateMutability:Je})}get selector(){return(0,J.id)(this.format("sighash")).substring(0,10)}format(N){if(N==null&&(N="sighash"),N==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(Je=>JSON.parse(Je.format(N))),outputs:this.outputs.map(Je=>JSON.parse(Je.format(N)))});const xe=[];return N!=="sighash"&&xe.push("function"),xe.push(this.name+zt(N,this.inputs)),N!=="sighash"&&(this.stateMutability!=="nonpayable"&&xe.push(this.stateMutability),this.outputs&&this.outputs.length&&(xe.push("returns"),xe.push(zt(N,this.outputs))),this.gas!=null&&xe.push(`@${this.gas.toString()}`)),xe.join(" ")}static getSelector(N,xe){return xe=(xe||[]).map(pt=>Pt.from(pt)),new _r(me,N,"view",xe,[],null).selector}static from(N){if(_r.isFragment(N))return N;if(typeof N=="string")try{return _r.from(S(N))}catch{(0,ie.en)(!1,"invalid function fragment","obj",N)}else if(N instanceof ee){const Je=F("function",N),pt=Ye(N),ot=Be(N);let bt=[];re(N,de(["returns"])).has("returns")&&(bt=Ye(N));const kt=pe(N);return V(N),new _r(me,Je,ot,pt,bt,kt)}let xe=N.stateMutability;return xe==null&&(xe="payable",typeof N.constant=="boolean"?(xe="view",N.constant||(xe="payable",typeof N.payable=="boolean"&&!N.payable&&(xe="nonpayable"))):typeof N.payable=="boolean"&&!N.payable&&(xe="nonpayable")),new _r(me,N.name,xe,N.inputs?N.inputs.map(Pt.from):[],N.outputs?N.outputs.map(Pt.from):[],N.gas!=null?N.gas:null)}static isFragment(N){return N&&N[ke]===at}}class Cr extends wr{constructor(k,N,xe){super(k,"struct",N,xe),Object.defineProperty(this,ke,{value:_t})}format(){throw new Error("@TODO")}static from(k){if(typeof k=="string")try{return Cr.from(S(k))}catch{(0,ie.en)(!1,"invalid struct fragment","obj",k)}else if(k instanceof ee){const N=F("struct",k),xe=Ye(k);return V(k),new Cr(me,N,xe)}return new Cr(me,k.name,k.inputs?k.inputs.map(Pt.from):[])}static isFragment(k){return k&&k[ke]===_t}}},19420:function(Zt,ct,D){"use strict";var O;D.d(ct,{_:function(){return v}});var x=D(55669),ie=D(87410);const le={};function J(be,P){let Ae=!1;return P<0&&(Ae=!0,P*=-1),new v(le,`${Ae?"":"u"}int${P}`,be,{signed:Ae,width:P})}function de(be,P){return new v(le,`bytes${P||""}`,be,{size:P})}const Te=Symbol.for("_ethers_typed"),L=class L{constructor(P,Ae,ae,j){Ve(this,"type");Ve(this,"value");Ze(this,O);Ve(this,"_typedSymbol");j==null&&(j=null),(0,x.NK)(le,P,"Typed"),(0,ie.h)(this,{_typedSymbol:Te,type:Ae,value:ae}),Q(this,O,j),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(P=>P.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return I(this,O)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return I(this,O)===!0?-1:I(this,O)===!1?this.value.length:null}static from(P,Ae){return new L(le,P,Ae)}static uint8(P){return J(P,8)}static uint16(P){return J(P,16)}static uint24(P){return J(P,24)}static uint32(P){return J(P,32)}static uint40(P){return J(P,40)}static uint48(P){return J(P,48)}static uint56(P){return J(P,56)}static uint64(P){return J(P,64)}static uint72(P){return J(P,72)}static uint80(P){return J(P,80)}static uint88(P){return J(P,88)}static uint96(P){return J(P,96)}static uint104(P){return J(P,104)}static uint112(P){return J(P,112)}static uint120(P){return J(P,120)}static uint128(P){return J(P,128)}static uint136(P){return J(P,136)}static uint144(P){return J(P,144)}static uint152(P){return J(P,152)}static uint160(P){return J(P,160)}static uint168(P){return J(P,168)}static uint176(P){return J(P,176)}static uint184(P){return J(P,184)}static uint192(P){return J(P,192)}static uint200(P){return J(P,200)}static uint208(P){return J(P,208)}static uint216(P){return J(P,216)}static uint224(P){return J(P,224)}static uint232(P){return J(P,232)}static uint240(P){return J(P,240)}static uint248(P){return J(P,248)}static uint256(P){return J(P,256)}static uint(P){return J(P,256)}static int8(P){return J(P,-8)}static int16(P){return J(P,-16)}static int24(P){return J(P,-24)}static int32(P){return J(P,-32)}static int40(P){return J(P,-40)}static int48(P){return J(P,-48)}static int56(P){return J(P,-56)}static int64(P){return J(P,-64)}static int72(P){return J(P,-72)}static int80(P){return J(P,-80)}static int88(P){return J(P,-88)}static int96(P){return J(P,-96)}static int104(P){return J(P,-104)}static int112(P){return J(P,-112)}static int120(P){return J(P,-120)}static int128(P){return J(P,-128)}static int136(P){return J(P,-136)}static int144(P){return J(P,-144)}static int152(P){return J(P,-152)}static int160(P){return J(P,-160)}static int168(P){return J(P,-168)}static int176(P){return J(P,-176)}static int184(P){return J(P,-184)}static int192(P){return J(P,-192)}static int200(P){return J(P,-200)}static int208(P){return J(P,-208)}static int216(P){return J(P,-216)}static int224(P){return J(P,-224)}static int232(P){return J(P,-232)}static int240(P){return J(P,-240)}static int248(P){return J(P,-248)}static int256(P){return J(P,-256)}static int(P){return J(P,-256)}static bytes1(P){return de(P,1)}static bytes2(P){return de(P,2)}static bytes3(P){return de(P,3)}static bytes4(P){return de(P,4)}static bytes5(P){return de(P,5)}static bytes6(P){return de(P,6)}static bytes7(P){return de(P,7)}static bytes8(P){return de(P,8)}static bytes9(P){return de(P,9)}static bytes10(P){return de(P,10)}static bytes11(P){return de(P,11)}static bytes12(P){return de(P,12)}static bytes13(P){return de(P,13)}static bytes14(P){return de(P,14)}static bytes15(P){return de(P,15)}static bytes16(P){return de(P,16)}static bytes17(P){return de(P,17)}static bytes18(P){return de(P,18)}static bytes19(P){return de(P,19)}static bytes20(P){return de(P,20)}static bytes21(P){return de(P,21)}static bytes22(P){return de(P,22)}static bytes23(P){return de(P,23)}static bytes24(P){return de(P,24)}static bytes25(P){return de(P,25)}static bytes26(P){return de(P,26)}static bytes27(P){return de(P,27)}static bytes28(P){return de(P,28)}static bytes29(P){return de(P,29)}static bytes30(P){return de(P,30)}static bytes31(P){return de(P,31)}static bytes32(P){return de(P,32)}static address(P){return new L(le,"address",P)}static bool(P){return new L(le,"bool",!!P)}static bytes(P){return new L(le,"bytes",P)}static string(P){return new L(le,"string",P)}static array(P,Ae){throw new Error("not implemented yet")}static tuple(P,Ae){throw new Error("not implemented yet")}static overrides(P){return new L(le,"overrides",Object.assign({},P))}static isTyped(P){return P&&typeof P=="object"&&"_typedSymbol"in P&&P._typedSymbol===Te}static dereference(P,Ae){if(L.isTyped(P)){if(P.type!==Ae)throw new Error(`invalid type: expecetd ${Ae}, got ${P.type}`);return P.value}return P}};O=new WeakMap;let v=L},89:function(Zt,ct,D){"use strict";D.d(ct,{K:function(){return Ae}});var x=D(95166),ie=D(86503),le=D(55669);const J=BigInt(0),de=BigInt(36);function Te(j){j=j.toLowerCase();const $=j.substring(2).split(""),se=new Uint8Array(40);for(let M=0;M<40;M++)se[M]=$[M].charCodeAt(0);const Se=(0,ie.Pw)((0,x.w)(se));for(let M=0;M<40;M+=2)Se[M>>1]>>4>=8&&($[M]=$[M].toUpperCase()),(Se[M>>1]&15)>=8&&($[M+1]=$[M+1].toUpperCase());return"0x"+$.join("")}const v={};for(let j=0;j<10;j++)v[String(j)]=String(j);for(let j=0;j<26;j++)v[String.fromCharCode(65+j)]=String(10+j);const O=15;function L(j){j=j.toUpperCase(),j=j.substring(4)+j.substring(0,2)+"00";let $=j.split("").map(Se=>v[Se]).join("");for(;$.length>=O;){let Se=$.substring(0,O);$=parseInt(Se,10)%97+$.substring(Se.length)}let se=String(98-parseInt($,10)%97);for(;se.length<2;)se="0"+se;return se}const be=function(){const j={};for(let $=0;$<36;$++){const se="0123456789abcdefghijklmnopqrstuvwxyz"[$];j[se]=BigInt($)}return j}();function P(j){j=j.toLowerCase();let $=J;for(let se=0;se<j.length;se++)$=$*de+be[j[se]];return $}function Ae(j){if((0,le.en)(typeof j=="string","invalid address","address",j),j.match(/^(0x)?[0-9a-fA-F]{40}$/)){j.startsWith("0x")||(j="0x"+j);const $=Te(j);return(0,le.en)(!j.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||$===j,"bad address checksum","address",j),$}if(j.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,le.en)(j.substring(2,4)===L(j),"bad icap checksum","address",j);let $=P(j.substring(4)).toString(16);for(;$.length<40;)$="0"+$;return Te("0x"+$)}(0,le.en)(!1,"invalid address","address",j)}function ae(j){let $=BigInt(Ae(j)).toString(36).toUpperCase();for(;$.length<30;)$="0"+$;return"XE"+L("XE00"+$)+$}},84563:function(Zt,ct,D){"use strict";D.d(ct,{RC:function(){return le},ru:function(){return Te}});var x=D(55669),ie=D(89);function le(v){return v&&typeof v.getAddress=="function"}function J(v){try{return getAddress(v),!0}catch{}return!1}async function de(v,O){const L=await O;return(L==null||L==="0x0000000000000000000000000000000000000000")&&((0,x.hu)(typeof v!="string","unconfigured name","UNCONFIGURED_NAME",{value:v}),(0,x.en)(!1,"invalid AddressLike value; did not resolve to a value address","target",v)),(0,ie.K)(L)}function Te(v,O){if(typeof v=="string")return v.match(/^0x[0-9a-f]{40}$/i)?(0,ie.K)(v):((0,x.hu)(O!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),de(v,O.resolveName(v)));if(le(v))return de(v,v.getAddress());if(v&&typeof v.then=="function")return de(v,v);(0,x.en)(!1,"unsupported addressable value","target",v)}},51771:function(Zt,ct,D){"use strict";D.d(ct,{N:function(){return x}});const x="0x0000000000000000000000000000000000000000"},95166:function(Zt,ct,D){"use strict";D.d(ct,{w:function(){return xn}});var x=D(60149);const ie=BigInt(2**32-1),le=BigInt(32);function J(He,k=!1){return k?{h:Number(He&ie),l:Number(He>>le&ie)}:{h:Number(He>>le&ie)|0,l:Number(He&ie)|0}}function de(He,k=!1){let N=new Uint32Array(He.length),xe=new Uint32Array(He.length);for(let Je=0;Je<He.length;Je++){const{h:pt,l:ot}=J(He[Je],k);[N[Je],xe[Je]]=[pt,ot]}return[N,xe]}const Te=(He,k)=>BigInt(He>>>0)<<le|BigInt(k>>>0),v=(He,k,N)=>He>>>N,O=(He,k,N)=>He<<32-N|k>>>N,L=(He,k,N)=>He>>>N|k<<32-N,be=(He,k,N)=>He<<32-N|k>>>N,P=(He,k,N)=>He<<64-N|k>>>N-32,Ae=(He,k,N)=>He>>>N-32|k<<64-N,ae=(He,k)=>k,j=(He,k)=>He,$=(He,k,N)=>He<<N|k>>>32-N,se=(He,k,N)=>k<<N|He>>>32-N,Se=(He,k,N)=>k<<N-32|He>>>64-N,M=(He,k,N)=>He<<N-32|k>>>64-N;function fe(He,k,N,xe){const Je=(k>>>0)+(xe>>>0);return{h:He+N+(Je/2**32|0)|0,l:Je|0}}const F={fromBig:J,split:de,toBig:Te,shrSH:v,shrSL:O,rotrSH:L,rotrSL:be,rotrBH:P,rotrBL:Ae,rotr32H:ae,rotr32L:j,rotlSH:$,rotlSL:se,rotlBH:Se,rotlBL:M,add:fe,add3L:(He,k,N)=>(He>>>0)+(k>>>0)+(N>>>0),add3H:(He,k,N,xe)=>k+N+xe+(He/2**32|0)|0,add4L:(He,k,N,xe)=>(He>>>0)+(k>>>0)+(N>>>0)+(xe>>>0),add4H:(He,k,N,xe,Je)=>k+N+xe+Je+(He/2**32|0)|0,add5H:(He,k,N,xe,Je,pt)=>k+N+xe+Je+pt+(He/2**32|0)|0,add5L:(He,k,N,xe,Je)=>(He>>>0)+(k>>>0)+(N>>>0)+(xe>>>0)+(Je>>>0)};var re=null,Be=D(82403);const[Ye,pe,V]=[[],[],[]],U=BigInt(0),X=BigInt(1),me=BigInt(2),ke=BigInt(7),Ke=BigInt(256),nt=BigInt(113);for(let He=0,k=X,N=1,xe=0;He<24;He++){[N,xe]=[xe,(2*N+3*xe)%5],Ye.push(2*(5*xe+N)),pe.push((He+1)*(He+2)/2%64);let Je=U;for(let pt=0;pt<7;pt++)k=(k<<X^(k>>ke)*nt)%Ke,k&me&&(Je^=X<<(X<<BigInt(pt))-X);V.push(Je)}const[ze,De]=de(V,!0),Fe=(He,k,N)=>N>32?Se(He,k,N):$(He,k,N),at=(He,k,N)=>N>32?M(He,k,N):se(He,k,N);function _t(He,k=24){const N=new Uint32Array(10);for(let xe=24-k;xe<24;xe++){for(let ot=0;ot<10;ot++)N[ot]=He[ot]^He[ot+10]^He[ot+20]^He[ot+30]^He[ot+40];for(let ot=0;ot<10;ot+=2){const bt=(ot+8)%10,kt=(ot+2)%10,In=N[kt],Qn=N[kt+1],ys=Fe(In,Qn,1)^N[bt],Os=at(In,Qn,1)^N[bt+1];for(let ns=0;ns<50;ns+=10)He[ot+ns]^=ys,He[ot+ns+1]^=Os}let Je=He[2],pt=He[3];for(let ot=0;ot<24;ot++){const bt=pe[ot],kt=Fe(Je,pt,bt),In=at(Je,pt,bt),Qn=Ye[ot];Je=He[Qn],pt=He[Qn+1],He[Qn]=kt,He[Qn+1]=In}for(let ot=0;ot<50;ot+=10){for(let bt=0;bt<10;bt++)N[bt]=He[ot+bt];for(let bt=0;bt<10;bt++)He[ot+bt]^=~N[(bt+2)%10]&N[(bt+4)%10]}He[0]^=ze[xe],He[1]^=De[xe]}N.fill(0)}class Pt extends Be.kb{constructor(k,N,xe,Je=!1,pt=24){if(super(),this.blockLen=k,this.suffix=N,this.outputLen=xe,this.enableXOF=Je,this.rounds=pt,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,x.Rx)(xe),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Be.Jq)(this.state)}keccak(){_t(this.state32,this.rounds),this.posOut=0,this.pos=0}update(k){(0,x.Gg)(this);const{blockLen:N,state:xe}=this;k=(0,Be.O0)(k);const Je=k.length;for(let pt=0;pt<Je;){const ot=Math.min(N-this.pos,Je-pt);for(let bt=0;bt<ot;bt++)xe[this.pos++]^=k[pt++];this.pos===N&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:k,suffix:N,pos:xe,blockLen:Je}=this;k[xe]^=N,N&128&&xe===Je-1&&this.keccak(),k[Je-1]^=128,this.keccak()}writeInto(k){(0,x.Gg)(this,!1),(0,x.aI)(k),this.finish();const N=this.state,{blockLen:xe}=this;for(let Je=0,pt=k.length;Je<pt;){this.posOut>=xe&&this.keccak();const ot=Math.min(xe-this.posOut,pt-Je);k.set(N.subarray(this.posOut,this.posOut+ot),Je),this.posOut+=ot,Je+=ot}return k}xofInto(k){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(k)}xof(k){return(0,x.Rx)(k),this.xofInto(new Uint8Array(k))}digestInto(k){if((0,x.J8)(k,this),this.finished)throw new Error("digest() was already called");return this.writeInto(k),this.destroy(),k}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(k){const{blockLen:N,suffix:xe,outputLen:Je,rounds:pt,enableXOF:ot}=this;return k||(k=new Pt(N,xe,Je,ot,pt)),k.state32.set(this.state32),k.pos=this.pos,k.posOut=this.posOut,k.finished=this.finished,k.rounds=pt,k.suffix=xe,k.outputLen=Je,k.enableXOF=ot,k.destroyed=this.destroyed,k}}const En=(He,k,N)=>(0,Be.hE)(()=>new Pt(k,He,N)),wr=null,zt=null,tn=null,$n=null,tr=null,Gn=En(1,136,256/8),_r=null,Cr=null,nr=(He,k,N)=>wrapXOFConstructorWithOpts((xe={})=>new Pt(k,He,xe.dkLen===void 0?N:xe.dkLen,!0)),_n=null,Oe=null;var Mt=D(86503);let Ht=!1;const Kt=function(He){return Gn(He)};let zr=Kt;function xn(He){const k=(0,Mt.Pw)(He,"data");return(0,Mt.Dv)(zr(k))}xn._=Kt,xn.lock=function(){Ht=!0},xn.register=function(He){if(Ht)throw new TypeError("keccak256 is locked");zr=He},Object.freeze(xn)},92422:function(Zt,ct,D){"use strict";var j,$,se,Se;D.d(ct,{P:function(){return ae}});const x="0x0000000000000000000000000000000000000000000000000000000000000000";var ie=D(86503),le=D(94295),J=D(55669);const de=BigInt(0),Te=BigInt(1),v=BigInt(2),O=BigInt(27),L=BigInt(28),be=BigInt(35),P={};function Ae(fe){return(0,ie.U3)((0,le.ot)(fe),32)}const M=class M{constructor(q,ue,_e,ee){Ze(this,j);Ze(this,$);Ze(this,se);Ze(this,Se);(0,J.NK)(q,P,"Signature"),Q(this,j,ue),Q(this,$,_e),Q(this,se,ee),Q(this,Se,null)}get r(){return I(this,j)}set r(q){(0,J.en)((0,ie.M5)(q)===32,"invalid r","value",q),Q(this,j,(0,ie.Dv)(q))}get s(){return I(this,$)}set s(q){(0,J.en)((0,ie.M5)(q)===32,"invalid s","value",q);const ue=(0,ie.Dv)(q);(0,J.en)(parseInt(ue.substring(0,3))<8,"non-canonical s","value",ue),Q(this,$,ue)}get v(){return I(this,se)}set v(q){const ue=(0,le.Dx)(q,"value");(0,J.en)(ue===27||ue===28,"invalid v","v",q),Q(this,se,ue)}get networkV(){return I(this,Se)}get legacyChainId(){const q=this.networkV;return q==null?null:M.getChainId(q)}get yParity(){return this.v===27?0:1}get yParityAndS(){const q=(0,ie.Pw)(this.s);return this.yParity&&(q[0]|=128),(0,ie.Dv)(q)}get compactSerialized(){return(0,ie.zo)([this.r,this.yParityAndS])}get serialized(){return(0,ie.zo)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const q=new M(P,this.r,this.s,this.v);return this.networkV&&Q(q,Se,this.networkV),q}toJSON(){const q=this.networkV;return{_type:"signature",networkV:q!=null?q.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(q){const ue=(0,le.yT)(q,"v");return ue==O||ue==L?de:((0,J.en)(ue>=be,"invalid EIP-155 v","v",q),(ue-be)/v)}static getChainIdV(q,ue){return(0,le.yT)(q)*v+BigInt(35+ue-27)}static getNormalizedV(q){const ue=(0,le.yT)(q);return ue===de||ue===O?27:ue===Te||ue===L?28:((0,J.en)(ue>=be,"invalid v","v",q),ue&Te?27:28)}static from(q){function ue(Be,Ye){(0,J.en)(Be,Ye,"signature",q)}if(q==null)return new M(P,x,x,27);if(typeof q=="string"){const Be=(0,ie.Pw)(q,"signature");if(Be.length===64){const Ye=(0,ie.Dv)(Be.slice(0,32)),pe=Be.slice(32,64),V=pe[0]&128?28:27;return pe[0]&=127,new M(P,Ye,(0,ie.Dv)(pe),V)}if(Be.length===65){const Ye=(0,ie.Dv)(Be.slice(0,32)),pe=Be.slice(32,64);ue((pe[0]&128)===0,"non-canonical s");const V=M.getNormalizedV(Be[64]);return new M(P,Ye,(0,ie.Dv)(pe),V)}ue(!1,"invalid raw signature length")}if(q instanceof M)return q.clone();const _e=q.r;ue(_e!=null,"missing r");const ee=Ae(_e),S=function(Be,Ye){if(Be!=null)return Ae(Be);if(Ye!=null){ue((0,ie.A7)(Ye,32),"invalid yParityAndS");const pe=(0,ie.Pw)(Ye);return pe[0]&=127,(0,ie.Dv)(pe)}ue(!1,"missing s")}(q.s,q.yParityAndS);ue(((0,ie.Pw)(S)[0]&128)==0,"non-canonical s");const{networkV:oe,v:F}=function(Be,Ye,pe){if(Be!=null){const V=(0,le.yT)(Be);return{networkV:V>=be?V:void 0,v:M.getNormalizedV(V)}}if(Ye!=null)return ue((0,ie.A7)(Ye,32),"invalid yParityAndS"),{v:(0,ie.Pw)(Ye)[0]&128?28:27};if(pe!=null){switch((0,le.Dx)(pe,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}ue(!1,"invalid yParity")}ue(!1,"missing v")}(q.v,q.yParityAndS,q.yParity),re=new M(P,ee,S,F);return oe&&Q(re,Se,oe),ue(q.yParity==null||(0,le.Dx)(q.yParity,"sig.yParity")===re.yParity,"yParity mismatch"),ue(q.yParityAndS==null||q.yParityAndS===re.yParityAndS,"yParityAndS mismatch"),re}};j=new WeakMap,$=new WeakMap,se=new WeakMap,Se=new WeakMap;let ae=M},617:function(Zt,ct,D){"use strict";D.d(ct,{id:function(){return le}});var x=D(95166),ie=D(3330);function le(J){return(0,x.w)((0,ie.Y0)(J))}},46560:function(Zt,ct,D){"use strict";var Ps,Ms,Ur,sn,hn,Yh,ep,As,ci,gi,Ys,ui,Hs,xs,lr,El,yi,ob,$r,wn,rs,li,ur,rr,ti,Ii,vo,Hr,vi,ni,Wn,zi,ng,rg,Od,sg,Bd,tp;D.d(ct,{u:function(){return fn},P:function(){return it}});var x=D(84563),ie=D(89),le=D(51771),J=D(19420),de=D(95166),Te=D(617),v=D(87410),O=D(55669),L=D(86503),be=D(94295),P=D(42993),Ae=D(57582),ae=D(4921);class j{constructor(h,_,T){Ve(this,"fragment");Ve(this,"name");Ve(this,"signature");Ve(this,"topic");Ve(this,"args");const B=h.name,Z=h.format();(0,v.h)(this,{fragment:h,name:B,signature:Z,topic:_,args:T})}}class ${constructor(h,_,T,B){Ve(this,"fragment");Ve(this,"name");Ve(this,"args");Ve(this,"signature");Ve(this,"selector");Ve(this,"value");const Z=h.name,Ee=h.format();(0,v.h)(this,{fragment:h,name:Z,args:T,signature:Ee,selector:_,value:B})}}class se{constructor(h,_,T){Ve(this,"fragment");Ve(this,"name");Ve(this,"args");Ve(this,"signature");Ve(this,"selector");const B=h.name,Z=h.format();(0,v.h)(this,{fragment:h,name:B,args:T,signature:Z,selector:_})}}class Se{constructor(h){Ve(this,"hash");Ve(this,"_isIndexed");(0,v.h)(this,{hash:h,_isIndexed:!0})}static isIndexed(h){return!!(h&&h._isIndexed)}}const M={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},fe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:H=>`reverted with reason string ${JSON.stringify(H)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:H=>{let h="unknown panic code";return H>=0&&H<=255&&M[H.toString()]&&(h=M[H.toString()]),`reverted with panic code 0x${H.toString(16)} (${h})`}}},ai=class ai{constructor(h){Ze(this,hn);Ve(this,"fragments");Ve(this,"deploy");Ve(this,"fallback");Ve(this,"receive");Ze(this,Ps);Ze(this,Ms);Ze(this,Ur);Ze(this,sn);let _=[];typeof h=="string"?_=JSON.parse(h):_=h,Q(this,Ur,new Map),Q(this,Ps,new Map),Q(this,Ms,new Map);const T=[];for(const Ee of _)try{T.push(ae.HY.from(Ee))}catch(et){console.log(`[Warning] Invalid Fragment ${JSON.stringify(Ee)}:`,et.message)}(0,v.h)(this,{fragments:Object.freeze(T)});let B=null,Z=!1;Q(this,sn,this.getAbiCoder()),this.fragments.forEach((Ee,et)=>{let ut;switch(Ee.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,v.h)(this,{deploy:Ee});return;case"fallback":Ee.inputs.length===0?Z=!0:((0,O.en)(!B||Ee.payable!==B.payable,"conflicting fallback fragments",`fragments[${et}]`,Ee),B=Ee,Z=B.payable);return;case"function":ut=I(this,Ur);break;case"event":ut=I(this,Ms);break;case"error":ut=I(this,Ps);break;default:return}const wt=Ee.format();ut.has(wt)||ut.set(wt,Ee)}),this.deploy||(0,v.h)(this,{deploy:ae.Xg.from("constructor()")}),(0,v.h)(this,{fallback:B,receive:Z})}format(h){const _=h?"minimal":"full";return this.fragments.map(B=>B.format(_))}formatJson(){const h=this.fragments.map(_=>_.format("json"));return JSON.stringify(h.map(_=>JSON.parse(_)))}getAbiCoder(){return P.R.defaultAbiCoder()}getFunctionName(h){const _=Ot(this,hn,Yh).call(this,h,null,!1);return(0,O.en)(_,"no matching function","key",h),_.name}hasFunction(h){return!!Ot(this,hn,Yh).call(this,h,null,!1)}getFunction(h,_){return Ot(this,hn,Yh).call(this,h,_||null,!0)}forEachFunction(h){const _=Array.from(I(this,Ur).keys());_.sort((T,B)=>T.localeCompare(B));for(let T=0;T<_.length;T++){const B=_[T];h(I(this,Ur).get(B),T)}}getEventName(h){const _=Ot(this,hn,ep).call(this,h,null,!1);return(0,O.en)(_,"no matching event","key",h),_.name}hasEvent(h){return!!Ot(this,hn,ep).call(this,h,null,!1)}getEvent(h,_){return Ot(this,hn,ep).call(this,h,_||null,!0)}forEachEvent(h){const _=Array.from(I(this,Ms).keys());_.sort((T,B)=>T.localeCompare(B));for(let T=0;T<_.length;T++){const B=_[T];h(I(this,Ms).get(B),T)}}getError(h,_){if((0,L.A7)(h)){const B=h.toLowerCase();if(fe[B])return ae.IC.from(fe[B].signature);for(const Z of I(this,Ps).values())if(B===Z.selector)return Z;return null}if(h.indexOf("(")===-1){const B=[];for(const[Z,Ee]of I(this,Ps))Z.split("(")[0]===h&&B.push(Ee);if(B.length===0)return h==="Error"?ae.IC.from("error Error(string)"):h==="Panic"?ae.IC.from("error Panic(uint256)"):null;if(B.length>1){const Z=B.map(Ee=>JSON.stringify(Ee.format())).join(", ");(0,O.en)(!1,`ambiguous error description (i.e. ${Z})`,"name",h)}return B[0]}if(h=ae.IC.from(h).format(),h==="Error(string)")return ae.IC.from("error Error(string)");if(h==="Panic(uint256)")return ae.IC.from("error Panic(uint256)");const T=I(this,Ps).get(h);return T||null}forEachError(h){const _=Array.from(I(this,Ps).keys());_.sort((T,B)=>T.localeCompare(B));for(let T=0;T<_.length;T++){const B=_[T];h(I(this,Ps).get(B),T)}}_decodeParams(h,_){return I(this,sn).decode(h,_)}_encodeParams(h,_){return I(this,sn).encode(h,_)}encodeDeploy(h){return this._encodeParams(this.deploy.inputs,h||[])}decodeErrorResult(h,_){if(typeof h=="string"){const T=this.getError(h);(0,O.en)(T,"unknown error","fragment",h),h=T}return(0,O.en)((0,L.QB)(_,0,4)===h.selector,`data signature does not match error ${h.name}.`,"data",_),this._decodeParams(h.inputs,(0,L.QB)(_,4))}encodeErrorResult(h,_){if(typeof h=="string"){const T=this.getError(h);(0,O.en)(T,"unknown error","fragment",h),h=T}return(0,L.zo)([h.selector,this._encodeParams(h.inputs,_||[])])}decodeFunctionData(h,_){if(typeof h=="string"){const T=this.getFunction(h);(0,O.en)(T,"unknown function","fragment",h),h=T}return(0,O.en)((0,L.QB)(_,0,4)===h.selector,`data signature does not match function ${h.name}.`,"data",_),this._decodeParams(h.inputs,(0,L.QB)(_,4))}encodeFunctionData(h,_){if(typeof h=="string"){const T=this.getFunction(h);(0,O.en)(T,"unknown function","fragment",h),h=T}return(0,L.zo)([h.selector,this._encodeParams(h.inputs,_||[])])}decodeFunctionResult(h,_){if(typeof h=="string"){const Z=this.getFunction(h);(0,O.en)(Z,"unknown function","fragment",h),h=Z}let T="invalid length for result data";const B=(0,L.h_)(_);if(B.length%32===0)try{return I(this,sn).decode(h.outputs,B)}catch{T="could not decode result data"}(0,O.hu)(!1,T,"BAD_DATA",{value:(0,L.Dv)(B),info:{method:h.name,signature:h.format()}})}makeError(h,_){const T=(0,L.Pw)(h,"data"),B=P.R.getBuiltinCallException("call",_,T);if(B.message.startsWith("execution reverted (unknown custom error)")){const et=(0,L.Dv)(T.slice(0,4)),ut=this.getError(et);if(ut)try{const wt=I(this,sn).decode(ut.inputs,T.slice(4));B.revert={name:ut.name,signature:ut.format(),args:wt},B.reason=B.revert.signature,B.message=`execution reverted: ${B.reason}`}catch{B.message="execution reverted (coult not decode custom error)"}}const Ee=this.parseTransaction(_);return Ee&&(B.invocation={method:Ee.name,signature:Ee.signature,args:Ee.args}),B}encodeFunctionResult(h,_){if(typeof h=="string"){const T=this.getFunction(h);(0,O.en)(T,"unknown function","fragment",h),h=T}return(0,L.Dv)(I(this,sn).encode(h.outputs,_||[]))}encodeFilterTopics(h,_){if(typeof h=="string"){const Z=this.getEvent(h);(0,O.en)(Z,"unknown event","eventFragment",h),h=Z}(0,O.hu)(_.length<=h.inputs.length,`too many arguments for ${h.format()}`,"UNEXPECTED_ARGUMENT",{count:_.length,expectedCount:h.inputs.length});const T=[];h.anonymous||T.push(h.topicHash);const B=(Z,Ee)=>Z.type==="string"?(0,Te.id)(Ee):Z.type==="bytes"?(0,de.w)((0,L.Dv)(Ee)):(Z.type==="bool"&&typeof Ee=="boolean"?Ee=Ee?"0x01":"0x00":Z.type.match(/^u?int/)?Ee=(0,be.m9)(Ee):Z.type.match(/^bytes/)?Ee=(0,L.SK)(Ee,32):Z.type==="address"&&I(this,sn).encode(["address"],[Ee]),(0,L.U3)((0,L.Dv)(Ee),32));for(_.forEach((Z,Ee)=>{const et=h.inputs[Ee];if(!et.indexed){(0,O.en)(Z==null,"cannot filter non-indexed parameters; must be null","contract."+et.name,Z);return}Z==null?T.push(null):et.baseType==="array"||et.baseType==="tuple"?(0,O.en)(!1,"filtering with tuples or arrays not supported","contract."+et.name,Z):Array.isArray(Z)?T.push(Z.map(ut=>B(et,ut))):T.push(B(et,Z))});T.length&&T[T.length-1]===null;)T.pop();return T}encodeEventLog(h,_){if(typeof h=="string"){const Ee=this.getEvent(h);(0,O.en)(Ee,"unknown event","eventFragment",h),h=Ee}const T=[],B=[],Z=[];return h.anonymous||T.push(h.topicHash),(0,O.en)(_.length===h.inputs.length,"event arguments/values mismatch","values",_),h.inputs.forEach((Ee,et)=>{const ut=_[et];if(Ee.indexed)if(Ee.type==="string")T.push((0,Te.id)(ut));else if(Ee.type==="bytes")T.push((0,de.w)(ut));else{if(Ee.baseType==="tuple"||Ee.baseType==="array")throw new Error("not implemented");T.push(I(this,sn).encode([Ee.type],[ut]))}else B.push(Ee),Z.push(ut)}),{data:I(this,sn).encode(B,Z),topics:T}}decodeEventLog(h,_,T){if(typeof h=="string"){const An=this.getEvent(h);(0,O.en)(An,"unknown event","eventFragment",h),h=An}if(T!=null&&!h.anonymous){const An=h.topicHash;(0,O.en)((0,L.A7)(T[0],32)&&T[0].toLowerCase()===An,"fragment/topic mismatch","topics[0]",T[0]),T=T.slice(1)}const B=[],Z=[],Ee=[];h.inputs.forEach((An,Xn)=>{An.indexed?An.type==="string"||An.type==="bytes"||An.baseType==="tuple"||An.baseType==="array"?(B.push(ae._R.from({type:"bytes32",name:An.name})),Ee.push(!0)):(B.push(An),Ee.push(!1)):(Z.push(An),Ee.push(!1))});const et=T!=null?I(this,sn).decode(B,(0,L.zo)(T)):null,ut=I(this,sn).decode(Z,_,!0),wt=[],Nt=[];let It=0,Xt=0;return h.inputs.forEach((An,Xn)=>{let w=null;if(An.indexed)if(et==null)w=new Se(null);else if(Ee[Xn])w=new Se(et[Xt++]);else try{w=et[Xt++]}catch(g){w=g}else try{w=ut[It++]}catch(g){w=g}wt.push(w),Nt.push(An.name||null)}),Ae.x4.fromItems(wt,Nt)}parseTransaction(h){const _=(0,L.Pw)(h.data,"tx.data"),T=(0,be.yT)(h.value!=null?h.value:0,"tx.value"),B=this.getFunction((0,L.Dv)(_.slice(0,4)));if(!B)return null;const Z=I(this,sn).decode(B.inputs,_.slice(4));return new $(B,B.selector,Z,T)}parseCallResult(h){throw new Error("@TODO")}parseLog(h){const _=this.getEvent(h.topics[0]);return!_||_.anonymous?null:new j(_,_.topicHash,this.decodeEventLog(_,h.data,h.topics))}parseError(h){const _=(0,L.Dv)(h),T=this.getError((0,L.QB)(_,0,4));if(!T)return null;const B=I(this,sn).decode(T.inputs,(0,L.QB)(_,4));return new se(T,T.selector,B)}static from(h){return h instanceof ai?h:typeof h=="string"?new ai(JSON.parse(h)):typeof h.format=="function"?new ai(h.format("json")):new ai(h)}};Ps=new WeakMap,Ms=new WeakMap,Ur=new WeakMap,sn=new WeakMap,hn=new WeakSet,Yh=function(h,_,T){if((0,L.A7)(h)){const Z=h.toLowerCase();for(const Ee of I(this,Ur).values())if(Z===Ee.selector)return Ee;return null}if(h.indexOf("(")===-1){const Z=[];for(const[Ee,et]of I(this,Ur))Ee.split("(")[0]===h&&Z.push(et);if(_){const Ee=_.length>0?_[_.length-1]:null;let et=_.length,ut=!0;J._.isTyped(Ee)&&Ee.type==="overrides"&&(ut=!1,et--);for(let wt=Z.length-1;wt>=0;wt--){const Nt=Z[wt].inputs.length;Nt!==et&&(!ut||Nt!==et-1)&&Z.splice(wt,1)}for(let wt=Z.length-1;wt>=0;wt--){const Nt=Z[wt].inputs;for(let It=0;It<_.length;It++)if(J._.isTyped(_[It])){if(It>=Nt.length){if(_[It].type==="overrides")continue;Z.splice(wt,1);break}if(_[It].type!==Nt[It].baseType){Z.splice(wt,1);break}}}}if(Z.length===1&&_&&_.length!==Z[0].inputs.length){const Ee=_[_.length-1];(Ee==null||Array.isArray(Ee)||typeof Ee!="object")&&Z.splice(0,1)}if(Z.length===0)return null;if(Z.length>1&&T){const Ee=Z.map(et=>JSON.stringify(et.format())).join(", ");(0,O.en)(!1,`ambiguous function description (i.e. matches ${Ee})`,"key",h)}return Z[0]}const B=I(this,Ur).get(ae.YW.from(h).format());return B||null},ep=function(h,_,T){if((0,L.A7)(h)){const Z=h.toLowerCase();for(const Ee of I(this,Ms).values())if(Z===Ee.topicHash)return Ee;return null}if(h.indexOf("(")===-1){const Z=[];for(const[Ee,et]of I(this,Ms))Ee.split("(")[0]===h&&Z.push(et);if(_){for(let Ee=Z.length-1;Ee>=0;Ee--)Z[Ee].inputs.length<_.length&&Z.splice(Ee,1);for(let Ee=Z.length-1;Ee>=0;Ee--){const et=Z[Ee].inputs;for(let ut=0;ut<_.length;ut++)if(J._.isTyped(_[ut])&&_[ut].type!==et[ut].baseType){Z.splice(Ee,1);break}}}if(Z.length===0)return null;if(Z.length>1&&T){const Ee=Z.map(et=>JSON.stringify(et.format())).join(", ");(0,O.en)(!1,`ambiguous event description (i.e. matches ${Ee})`,"key",h)}return Z[0]}const B=I(this,Ms).get(ae.QV.from(h).format());return B||null};let q=ai;var ue=D(38150);class _e{constructor(h,_,T){Ve(this,"filter");Ve(this,"emitter");Ze(this,As);Q(this,As,_),(0,v.h)(this,{emitter:h,filter:T})}async removeListener(){I(this,As)!=null&&await this.emitter.off(this.filter,I(this,As))}}As=new WeakMap;class ee extends ue.Zb{constructor(_,T,B){super(_,_.provider);Ve(this,"interface");Ve(this,"fragment");Ve(this,"args");const Z=T.decodeEventLog(B,_.data,_.topics);(0,v.h)(this,{args:Z,fragment:B,interface:T})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class S extends ue.Zb{constructor(_,T){super(_,_.provider);Ve(this,"error");(0,v.h)(this,{error:T})}}class oe extends ue.IX{constructor(_,T,B){super(B,T);Ze(this,ci);Q(this,ci,_)}get logs(){return super.logs.map(_=>{const T=_.topics.length?I(this,ci).getEvent(_.topics[0]):null;if(T)try{return new ee(_,I(this,ci),T)}catch(B){return new S(_,B)}return _})}}ci=new WeakMap;class F extends ue.Mw{constructor(_,T,B){super(B,T);Ze(this,gi);Q(this,gi,_)}async wait(_,T){const B=await super.wait(_,T);return B==null?null:new oe(I(this,gi),this.provider,B)}}gi=new WeakMap;class re extends _e{constructor(_,T,B,Z){super(_,T,B);Ve(this,"log");(0,v.h)(this,{log:Z})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Be extends re{constructor(h,_,T,B,Z){super(h,_,T,new ee(Z,h.interface,B));const Ee=h.interface.decodeEventLog(B,this.log.data,this.log.topics);(0,v.h)(this,{args:Ee,fragment:B})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Ye=BigInt(0);function pe(H){return H&&typeof H.call=="function"}function V(H){return H&&typeof H.estimateGas=="function"}function U(H){return H&&typeof H.resolveName=="function"}function X(H){return H&&typeof H.sendTransaction=="function"}function me(H){if(H!=null){if(U(H))return H;if(H.provider)return H.provider}}class ke{constructor(h,_,T){Ze(this,Ys);Ve(this,"fragment");if((0,v.h)(this,{fragment:_}),_.inputs.length<T.length)throw new Error("too many arguments");const B=Ke(h.runner,"resolveName"),Z=U(B)?B:null;Q(this,Ys,async function(){const Ee=await Promise.all(_.inputs.map((et,ut)=>T[ut]==null?null:et.walkAsync(T[ut],(Nt,It)=>Nt==="address"?Array.isArray(It)?Promise.all(It.map(Xt=>(0,x.ru)(Xt,Z))):(0,x.ru)(It,Z):It)));return h.interface.encodeFilterTopics(_,Ee)}())}getTopicFilter(){return I(this,Ys)}}Ys=new WeakMap;function Ke(H,h){return H==null?null:typeof H[h]=="function"?H:H.provider&&typeof H.provider[h]=="function"?H.provider:null}function nt(H){return H==null?null:H.provider||null}async function ze(H,h){const _=J._.dereference(H,"overrides");(0,O.en)(typeof _=="object","invalid overrides parameter","overrides",H);const T=(0,ue.kK)(_);return(0,O.en)(T.to==null||(h||[]).indexOf("to")>=0,"cannot override to","overrides.to",T.to),(0,O.en)(T.data==null||(h||[]).indexOf("data")>=0,"cannot override data","overrides.data",T.data),T.from&&(T.from=T.from),T}async function De(H,h,_){const T=Ke(H,"resolveName"),B=U(T)?T:null;return await Promise.all(h.map((Z,Ee)=>Z.walkAsync(_[Ee],(et,ut)=>(ut=J._.dereference(ut,et),et==="address"?(0,x.ru)(ut,B):ut))))}function Fe(H){const h=async function(Ee){const et=await ze(Ee,["data"]);et.to=await H.getAddress(),et.from&&(et.from=await(0,x.ru)(et.from,me(H.runner)));const ut=H.interface,wt=(0,be.yT)(et.value||Ye,"overrides.value")===Ye,Nt=(et.data||"0x")==="0x";ut.fallback&&!ut.fallback.payable&&ut.receive&&!Nt&&!wt&&(0,O.en)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",Ee),(0,O.en)(ut.fallback||Nt,"cannot send data to receive-only contract","overrides.data",et.data);const It=ut.receive||ut.fallback&&ut.fallback.payable;return(0,O.en)(It||wt,"cannot send value to non-payable fallback","overrides.value",et.value),(0,O.en)(ut.fallback||Nt,"cannot send data to receive-only contract","overrides.data",et.data),et},_=async function(Ee){const et=Ke(H.runner,"call");(0,O.hu)(pe(et),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const ut=await h(Ee);try{return await et.call(ut)}catch(wt){throw(0,O.Hl)(wt)&&wt.data?H.interface.makeError(wt.data,ut):wt}},T=async function(Ee){const et=H.runner;(0,O.hu)(X(et),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const ut=await et.sendTransaction(await h(Ee)),wt=nt(H.runner);return new F(H.interface,wt,ut)},B=async function(Ee){const et=Ke(H.runner,"estimateGas");return(0,O.hu)(V(et),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await et.estimateGas(await h(Ee))},Z=async Ee=>await T(Ee);return(0,v.h)(Z,{_contract:H,estimateGas:B,populateTransaction:h,send:T,staticCall:_}),Z}function at(H,h){const _=function(...wt){const Nt=H.interface.getFunction(h,wt);return(0,O.hu)(Nt,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:h,args:wt}}),Nt},T=async function(...wt){const Nt=_(...wt);let It={};if(Nt.inputs.length+1===wt.length&&(It=await ze(wt.pop()),It.from&&(It.from=await(0,x.ru)(It.from,me(H.runner)))),Nt.inputs.length!==wt.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const Xt=await De(H.runner,Nt.inputs,wt);return Object.assign({},It,await(0,v.m)({to:H.getAddress(),data:H.interface.encodeFunctionData(Nt,Xt)}))},B=async function(...wt){const Nt=await et(...wt);return Nt.length===1?Nt[0]:Nt},Z=async function(...wt){const Nt=H.runner;(0,O.hu)(X(Nt),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const It=await Nt.sendTransaction(await T(...wt)),Xt=nt(H.runner);return new F(H.interface,Xt,It)},Ee=async function(...wt){const Nt=Ke(H.runner,"estimateGas");return(0,O.hu)(V(Nt),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await Nt.estimateGas(await T(...wt))},et=async function(...wt){const Nt=Ke(H.runner,"call");(0,O.hu)(pe(Nt),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const It=await T(...wt);let Xt="0x";try{Xt=await Nt.call(It)}catch(Xn){throw(0,O.Hl)(Xn)&&Xn.data?H.interface.makeError(Xn.data,It):Xn}const An=_(...wt);return H.interface.decodeFunctionResult(An,Xt)},ut=async(...wt)=>_(...wt).constant?await B(...wt):await Z(...wt);return(0,v.h)(ut,{name:H.interface.getFunctionName(h),_contract:H,_key:h,getFragment:_,estimateGas:Ee,populateTransaction:T,send:Z,staticCall:B,staticCallResult:et}),Object.defineProperty(ut,"fragment",{configurable:!1,enumerable:!0,get:()=>{const wt=H.interface.getFunction(h);return(0,O.hu)(wt,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:h}}),wt}}),ut}function _t(H,h){const _=function(...B){const Z=H.interface.getEvent(h,B);return(0,O.hu)(Z,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:h,args:B}}),Z},T=function(...B){return new ke(H,_(...B),B)};return(0,v.h)(T,{name:H.interface.getEventName(h),_contract:H,_key:h,getFragment:_}),Object.defineProperty(T,"fragment",{configurable:!1,enumerable:!0,get:()=>{const B=H.interface.getEvent(h);return(0,O.hu)(B,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:h}}),B}}),T}const Pt=Symbol.for("_ethersInternal_contract"),En=new WeakMap;function wr(H,h){En.set(H[Pt],h)}function zt(H){return En.get(H[Pt])}function tn(H){return H&&typeof H=="object"&&"getTopicFilter"in H&&typeof H.getTopicFilter=="function"&&H.fragment}async function $n(H,h){let _,T=null;if(Array.isArray(h)){const Z=function(Ee){if((0,L.A7)(Ee,32))return Ee;const et=H.interface.getEvent(Ee);return(0,O.en)(et,"unknown fragment","name",Ee),et.topicHash};_=h.map(Ee=>Ee==null?null:Array.isArray(Ee)?Ee.map(Z):Z(Ee))}else h==="*"?_=[null]:typeof h=="string"?(0,L.A7)(h,32)?_=[h]:(T=H.interface.getEvent(h),(0,O.en)(T,"unknown fragment","event",h),_=[T.topicHash]):tn(h)?_=await h.getTopicFilter():"fragment"in h?(T=h.fragment,_=[T.topicHash]):(0,O.en)(!1,"unknown event name","event",h);_=_.map(Z=>{if(Z==null)return null;if(Array.isArray(Z)){const Ee=Array.from(new Set(Z.map(et=>et.toLowerCase())).values());return Ee.length===1?Ee[0]:(Ee.sort(),Ee)}return Z.toLowerCase()});const B=_.map(Z=>Z==null?"null":Array.isArray(Z)?Z.join("|"):Z).join("&");return{fragment:T,tag:B,topics:_}}async function tr(H,h){const{subs:_}=zt(H);return _.get((await $n(H,h)).tag)||null}async function Gn(H,h,_){const T=nt(H.runner);(0,O.hu)(T,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:h});const{fragment:B,tag:Z,topics:Ee}=await $n(H,_),{addr:et,subs:ut}=zt(H);let wt=ut.get(Z);if(!wt){const It={address:et||H,topics:Ee},Xt=g=>{let A=B;if(A==null)try{A=H.interface.getEvent(g.topics[0])}catch{}if(A){const z=A,Ie=B?H.interface.decodeEventLog(B,g.data,g.topics):[];nr(H,_,Ie,Ce=>new Be(H,Ce,_,z,g))}else nr(H,_,[],z=>new re(H,z,_,g))};let An=[];wt={tag:Z,listeners:[],start:()=>{An.length||An.push(T.on(It,Xt))},stop:async()=>{if(An.length==0)return;let g=An;An=[],await Promise.all(g),T.off(It,Xt)}},ut.set(Z,wt)}return wt}let _r=Promise.resolve();async function Cr(H,h,_,T){await _r;const B=await tr(H,h);if(!B)return!1;const Z=B.listeners.length;return B.listeners=B.listeners.filter(({listener:Ee,once:et})=>{const ut=Array.from(_);T&&ut.push(T(et?null:Ee));try{Ee.call(H,...ut)}catch{}return!et}),B.listeners.length===0&&(B.stop(),zt(H).subs.delete(B.tag)),Z>0}async function nr(H,h,_,T){try{await _r}catch{}const B=Cr(H,h,_,T);return _r=B,await B}const _n=["then"];ui=Pt;const ei=class ei{constructor(h,_,T,B){Ve(this,"target");Ve(this,"interface");Ve(this,"runner");Ve(this,"filters");Ve(this,ui);Ve(this,"fallback");(0,O.en)(typeof h=="string"||(0,x.RC)(h),"invalid value for Contract target","target",h),T==null&&(T=null);const Z=q.from(_);(0,v.h)(this,{target:h,runner:T,interface:Z}),Object.defineProperty(this,Pt,{value:{}});let Ee,et=null,ut=null;if(B){const It=nt(T);ut=new F(this.interface,It,B)}let wt=new Map;if(typeof h=="string")if((0,L.A7)(h))et=h,Ee=Promise.resolve(h);else{const It=Ke(T,"resolveName");if(!U(It))throw(0,O.wf)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});Ee=It.resolveName(h).then(Xt=>{if(Xt==null)throw(0,O.wf)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:h});return zt(this).addr=Xt,Xt})}else Ee=h.getAddress().then(It=>{if(It==null)throw new Error("TODO");return zt(this).addr=It,It});wr(this,{addrPromise:Ee,addr:et,deployTx:ut,subs:wt});const Nt=new Proxy({},{get:(It,Xt,An)=>{if(typeof Xt=="symbol"||_n.indexOf(Xt)>=0)return Reflect.get(It,Xt,An);try{return this.getEvent(Xt)}catch(Xn){if(!(0,O.VZ)(Xn,"INVALID_ARGUMENT")||Xn.argument!=="key")throw Xn}},has:(It,Xt)=>_n.indexOf(Xt)>=0?Reflect.has(It,Xt):Reflect.has(It,Xt)||this.interface.hasEvent(String(Xt))});return(0,v.h)(this,{filters:Nt}),(0,v.h)(this,{fallback:Z.receive||Z.fallback?Fe(this):null}),new Proxy(this,{get:(It,Xt,An)=>{if(typeof Xt=="symbol"||Xt in It||_n.indexOf(Xt)>=0)return Reflect.get(It,Xt,An);try{return It.getFunction(Xt)}catch(Xn){if(!(0,O.VZ)(Xn,"INVALID_ARGUMENT")||Xn.argument!=="key")throw Xn}},has:(It,Xt)=>typeof Xt=="symbol"||Xt in It||_n.indexOf(Xt)>=0?Reflect.has(It,Xt):It.interface.hasFunction(Xt)})}connect(h){return new ei(this.target,this.interface,h)}attach(h){return new ei(h,this.interface,this.runner)}async getAddress(){return await zt(this).addrPromise}async getDeployedCode(){const h=nt(this.runner);(0,O.hu)(h,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const _=await h.getCode(await this.getAddress());return _==="0x"?null:_}async waitForDeployment(){const h=this.deploymentTransaction();if(h)return await h.wait(),this;if(await this.getDeployedCode()!=null)return this;const T=nt(this.runner);return(0,O.hu)(T!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((B,Z)=>{const Ee=async()=>{try{if(await this.getDeployedCode()!=null)return B(this);T.once("block",Ee)}catch(et){Z(et)}};Ee()})}deploymentTransaction(){return zt(this).deployTx}getFunction(h){return typeof h!="string"&&(h=h.format()),at(this,h)}getEvent(h){return typeof h!="string"&&(h=h.format()),_t(this,h)}async queryTransaction(h){throw new Error("@TODO")}async queryFilter(h,_,T){_==null&&(_=0),T==null&&(T="latest");const{addr:B,addrPromise:Z}=zt(this),Ee=B||await Z,{fragment:et,topics:ut}=await $n(this,h),wt={address:Ee,topics:ut,fromBlock:_,toBlock:T},Nt=nt(this.runner);return(0,O.hu)(Nt,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await Nt.getLogs(wt)).map(It=>{let Xt=et;if(Xt==null)try{Xt=this.interface.getEvent(It.topics[0])}catch{}if(Xt)try{return new ee(It,this.interface,Xt)}catch(An){return new S(It,An)}return new ue.Zb(It,Nt)})}async on(h,_){const T=await Gn(this,"on",h);return T.listeners.push({listener:_,once:!1}),T.start(),this}async once(h,_){const T=await Gn(this,"once",h);return T.listeners.push({listener:_,once:!0}),T.start(),this}async emit(h,..._){return await nr(this,h,_,null)}async listenerCount(h){if(h){const B=await tr(this,h);return B?B.listeners.length:0}const{subs:_}=zt(this);let T=0;for(const{listeners:B}of _.values())T+=B.length;return T}async listeners(h){if(h){const B=await tr(this,h);return B?B.listeners.map(({listener:Z})=>Z):[]}const{subs:_}=zt(this);let T=[];for(const{listeners:B}of _.values())T=T.concat(B.map(({listener:Z})=>Z));return T}async off(h,_){const T=await tr(this,h);if(!T)return this;if(_){const B=T.listeners.map(({listener:Z})=>Z).indexOf(_);B>=0&&T.listeners.splice(B,1)}return(_==null||T.listeners.length===0)&&(T.stop(),zt(this).subs.delete(T.tag)),this}async removeAllListeners(h){if(h){const _=await tr(this,h);if(!_)return this;_.stop(),zt(this).subs.delete(_.tag)}else{const{subs:_}=zt(this);for(const{tag:T,stop:B}of _.values())B(),_.delete(T)}return this}async addListener(h,_){return await this.on(h,_)}async removeListener(h,_){return await this.off(h,_)}static buildClass(h){class _ extends ei{constructor(B,Z=null){super(B,h,Z)}}return _}static from(h,_,T){return T==null&&(T=null),new this(h,_,T)}};let Oe=ei;function Mt(){return Oe}class Ht extends Mt(){}var Kt=D(3330),zr=D(26495);const xn=new Uint8Array(32);xn.fill(0);function He(H){return(0,O.en)(H.length!==0,"invalid ENS name; empty component","comp",H),H}function k(H){const h=(0,Kt.Y0)(N(H)),_=[];if(H.length===0)return _;let T=0;for(let B=0;B<h.length;B++)h[B]===46&&(_.push(He(h.slice(T,B))),T=B+1);return(0,O.en)(T<h.length,"invalid ENS name; empty component","name",H),_.push(He(h.slice(T))),_}function N(H){try{if(H.length===0)throw new Error("empty label");return(0,zr.Q6)(H)}catch(h){(0,O.en)(!1,`invalid ENS name (${h.message})`,"name",H)}}function xe(H){try{return k(H).length!==0}catch{}return!1}function Je(H){(0,O.en)(typeof H=="string","invalid ENS name; not a string","name",H),(0,O.en)(H.length,"invalid ENS name (empty label)","name",H);let h=xn;const _=k(H);for(;_.length;)h=(0,de.w)((0,L.zo)([h,(0,de.w)(_.pop())]));return(0,L.Dv)(h)}function pt(H,h){const _=h??63;return(0,O.en)(_<=255,"DNS encoded label cannot exceed 255","length",_),(0,L.Dv)((0,L.zo)(k(H).map(T=>{(0,O.en)(T.length<=_,`label ${JSON.stringify(H)} exceeds ${_} bytes`,"name",H);const B=new Uint8Array(T.length+1);return B.set(T,1),B[0]=B.length-1,B})))+"00"}var ot=D(65383),bt=D(98098);const kt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let In=null;function Qn(H){if(In==null){In={};for(let _=0;_<kt.length;_++)In[kt[_]]=BigInt(_)}const h=In[H];return assertArgument(h!=null,"invalid base58 value","letter",H),h}const ys=BigInt(0),Os=BigInt(58);function ns(H){const h=(0,L.Pw)(H);let _=(0,be.Gh)(h),T="";for(;_;)T=kt[Number(_%Os)]+T,_/=Os;for(let B=0;B<h.length&&!h[B];B++)T=kt[0]+T;return T}function Zs(H){let h=ys;for(let _=0;_<H.length;_++)h*=Os,h+=Qn(H[_]);return h}function ir(H){return H.match(/^ipfs:\/\/ipfs\//i)?H=H.substring(12):H.match(/^ipfs:\/\//i)?H=H.substring(7):(0,O.en)(!1,"unsupported IPFS format","link",H),`https://gateway.ipfs.io/ipfs/${H}`}class hs{constructor(h){Ve(this,"name");(0,v.h)(this,{name:h})}connect(h){return this}supportsCoinType(h){return!1}async encodeAddress(h,_){throw new Error("unsupported coin")}async decodeAddress(h,_){throw new Error("unsupported coin")}}const as="org.ethers.plugins.provider.BasicMulticoin";class Es extends null{constructor(){super(as)}}const vs=new RegExp("^(ipfs)://(.*)$","i"),Gr=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),vs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],yn=class yn{constructor(h,_,T){Ze(this,lr);Ve(this,"provider");Ve(this,"address");Ve(this,"name");Ze(this,Hs);Ze(this,xs);(0,v.h)(this,{provider:h,address:_,name:T}),Q(this,Hs,null),Q(this,xs,new Ht(_,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],h))}async supportsWildcard(){return I(this,Hs)==null&&Q(this,Hs,(async()=>{try{return await I(this,xs).supportsInterface("0x9061b923")}catch(h){if((0,O.VZ)(h,"CALL_EXCEPTION"))return!1;throw Q(this,Hs,null),h}})()),await I(this,Hs)}async getAddress(h){if(h==null&&(h=60),h===60)try{const Z=await Ot(this,lr,El).call(this,"addr(bytes32)");return Z==null||Z===le.N?null:Z}catch(Z){if((0,O.VZ)(Z,"CALL_EXCEPTION"))return null;throw Z}if(h>=0&&h<2147483648){let Z=h+2147483648;const Ee=await Ot(this,lr,El).call(this,"addr(bytes32,uint)",[Z]);if((0,L.A7)(Ee,20))return(0,ie.K)(Ee)}let _=null;for(const Z of this.provider.plugins)if(Z instanceof hs&&Z.supportsCoinType(h)){_=Z;break}if(_==null)return null;const T=await Ot(this,lr,El).call(this,"addr(bytes32,uint)",[h]);if(T==null||T==="0x")return null;const B=await _.decodeAddress(h,T);if(B!=null)return B;(0,O.hu)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${h})`,info:{coinType:h,data:T}})}async getText(h){const _=await Ot(this,lr,El).call(this,"text(bytes32,string)",[h]);return _==null||_==="0x"?null:_}async getContentHash(){const h=await Ot(this,lr,El).call(this,"contenthash(bytes32)");if(h==null||h==="0x")return null;const _=h.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(_){const B=_[1]==="e3010170"?"ipfs":"ipns",Z=parseInt(_[4],16);if(_[5].length===Z*2)return`${B}://${ns("0x"+_[2])}`}const T=h.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(T&&T[1].length===64)return`bzz://${T[1]}`;(0,O.hu)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:h}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const h=[{type:"name",value:this.name}];try{const _=await this.getText("avatar");if(_==null)return h.push({type:"!avatar",value:""}),{url:null,linkage:h};h.push({type:"avatar",value:_});for(let T=0;T<Gr.length;T++){const B=_.match(Gr[T]);if(B==null)continue;const Z=B[1].toLowerCase();switch(Z){case"https":case"data":return h.push({type:"url",value:_}),{linkage:h,url:_};case"ipfs":{const Ee=ir(_);return h.push({type:"ipfs",value:_}),h.push({type:"url",value:Ee}),{linkage:h,url:Ee}}case"erc721":case"erc1155":{const Ee=Z==="erc721"?"tokenURI(uint256)":"uri(uint256)";h.push({type:Z,value:_});const et=await this.getAddress();if(et==null)return h.push({type:"!owner",value:""}),{url:null,linkage:h};const ut=(B[2]||"").split("/");if(ut.length!==2)return h.push({type:`!${Z}caip`,value:B[2]||""}),{url:null,linkage:h};const wt=ut[1],Nt=new Ht(ut[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(Z==="erc721"){const w=await Nt.ownerOf(wt);if(et!==w)return h.push({type:"!owner",value:w}),{url:null,linkage:h};h.push({type:"owner",value:w})}else if(Z==="erc1155"){const w=await Nt.balanceOf(et,wt);if(!w)return h.push({type:"!balance",value:"0"}),{url:null,linkage:h};h.push({type:"balance",value:w.toString()})}let It=await Nt[Ee](wt);if(It==null||It==="0x")return h.push({type:"!metadata-url",value:""}),{url:null,linkage:h};h.push({type:"metadata-url-base",value:It}),Z==="erc1155"&&(It=It.replace("{id}",(0,be.m9)(wt,32).substring(2)),h.push({type:"metadata-url-expanded",value:It})),It.match(/^ipfs:/i)&&(It=ir(It)),h.push({type:"metadata-url",value:It});let Xt={};const An=await new bt.gd(It).send();An.assertOk();try{Xt=An.bodyJson}catch{try{h.push({type:"!metadata",value:An.bodyText})}catch{const A=An.body;return A&&h.push({type:"!metadata",value:(0,L.Dv)(A)}),{url:null,linkage:h}}return{url:null,linkage:h}}if(!Xt)return h.push({type:"!metadata",value:""}),{url:null,linkage:h};h.push({type:"metadata",value:JSON.stringify(Xt)});let Xn=Xt.image;if(typeof Xn!="string")return h.push({type:"!imageUrl",value:""}),{url:null,linkage:h};if(!Xn.match(/^(https:\/\/|data:)/i)){if(Xn.match(vs)==null)return h.push({type:"!imageUrl-ipfs",value:Xn}),{url:null,linkage:h};h.push({type:"imageUrl-ipfs",value:Xn}),Xn=ir(Xn)}return h.push({type:"url",value:Xn}),{linkage:h,url:Xn}}}}}catch{}return{linkage:h,url:null}}static async getEnsAddress(h){const _=await h.getNetwork(),T=_.getPlugin("org.ethers.plugins.network.Ens");return(0,O.hu)(T,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:_}}),T.address}static async fromName(h,_){var B;let T=_;for(;;){if(T===""||T==="."||_!=="eth"&&T==="eth")return null;const Z=await Ot(B=yn,yi,ob).call(B,h,T);if(Z!=null){const Ee=new yn(h,Z,_);return T!==_&&!await Ee.supportsWildcard()?null:Ee}T=T.split(".").slice(1).join(".")}}};Hs=new WeakMap,xs=new WeakMap,lr=new WeakSet,El=async function(h,_){_=(_||[]).slice();const T=I(this,xs).interface;_.unshift(Je(this.name));let B=null;await this.supportsWildcard()&&(B=T.getFunction(h),(0,O.hu)(B,"missing fragment","UNKNOWN_ERROR",{info:{funcName:h}}),_=[pt(this.name,255),T.encodeFunctionData(B,_)],h="resolve(bytes,bytes)"),_.push({enableCcipRead:!0});try{const Z=await I(this,xs)[h](..._);return B?T.decodeFunctionResult(B,Z)[0]:Z}catch(Z){if(!(0,O.VZ)(Z,"CALL_EXCEPTION"))throw Z}return null},yi=new WeakSet,ob=async function(h,_){const T=await yn.getEnsAddress(h);try{const Z=await new Ht(T,["function resolver(bytes32) view returns (address)"],h).resolver(Je(_),{enableCcipRead:!0});return Z===le.N?null:Z}catch(B){throw B}return null},Ze(yn,yi);let qs=yn;var ka=D(45801);function Js(H){const h=(0,ie.K)(H.from);let T=(0,be.yT)(H.nonce,"tx.nonce").toString(16);return T==="0"?T="0x":T.length%2?T="0x0"+T:T="0x"+T,(0,ie.K)((0,L.QB)((0,de.w)((0,ka.e)([h,T])),12))}function ps(H,h,_){const T=getAddress(H),B=getBytes(h,"salt"),Z=getBytes(_,"initCodeHash");return assertArgument(B.length===32,"salt must be 32 bytes","salt",h),assertArgument(Z.length===32,"initCodeHash must be 32 bytes","initCodeHash",_),getAddress(dataSlice(keccak256(concat(["0xff",T,B,Z])),12))}var mt=D(92422),he=D(58145);const W=BigInt(0);function te(H,h){return function(_){return _==null?h:H(_)}}function rt(H,h){return _=>{if(h&&_==null)return null;if(!Array.isArray(_))throw new Error("not an array");return _.map(T=>H(T))}}function ht(H,h){return _=>{const T={};for(const B in H){let Z=B;if(h&&B in h&&!(Z in _)){for(const Ee of h[B])if(Ee in _){Z=Ee;break}}try{const Ee=H[B](_[Z]);Ee!==void 0&&(T[B]=Ee)}catch(Ee){const et=Ee instanceof Error?Ee.message:"not-an-error";(0,O.hu)(!1,`invalid value for value.${B} (${et})`,"BAD_DATA",{value:_})}}return T}}function Bt(H){switch(H){case!0:case"true":return!0;case!1:case"false":return!1}(0,O.en)(!1,`invalid boolean; ${JSON.stringify(H)}`,"value",H)}function en(H){return(0,O.en)((0,L.A7)(H,!0),"invalid data","value",H),H}function Tt(H){return(0,O.en)((0,L.A7)(H,32),"invalid hash","value",H),H}function Ln(H){if(!isHexString(H))throw new Error("invalid uint256");return zeroPadValue(H,32)}const Fn=ht({address:ie.K,blockHash:Tt,blockNumber:be.Dx,data:en,index:be.Dx,removed:te(Bt,!1),topics:rt(Tt),transactionHash:Tt,transactionIndex:be.Dx},{index:["logIndex"]});function Er(H){return Fn(H)}const Xs=ht({hash:te(Tt),parentHash:Tt,parentBeaconBlockRoot:te(Tt,null),number:be.Dx,timestamp:be.Dx,nonce:te(en),difficulty:be.yT,gasLimit:be.yT,gasUsed:be.yT,stateRoot:te(Tt,null),receiptsRoot:te(Tt,null),blobGasUsed:te(be.yT,null),excessBlobGas:te(be.yT,null),miner:te(ie.K),extraData:en,baseFeePerGas:te(be.yT)});function Ki(H){const h=Xs(H);return h.transactions=H.transactions.map(_=>typeof _=="string"?_:xi(_)),h}const Mo=ht({transactionIndex:be.Dx,blockNumber:be.Dx,transactionHash:Tt,address:ie.K,topics:rt(Tt),data:en,index:be.Dx,blockHash:Tt},{index:["logIndex"]});function $i(H){return Mo(H)}const oa=ht({to:te(ie.K,null),from:te(ie.K,null),contractAddress:te(ie.K,null),index:be.Dx,root:te(L.Dv),gasUsed:be.yT,blobGasUsed:te(be.yT,null),logsBloom:te(en),blockHash:Tt,hash:Tt,logs:rt($i),blockNumber:be.Dx,cumulativeGasUsed:be.yT,effectiveGasPrice:te(be.yT),blobGasPrice:te(be.yT,null),status:te(be.Dx),type:te(be.Dx,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function go(H){return oa(H)}function xi(H){H.to&&(0,be.yT)(H.to)===W&&(H.to="0x0000000000000000000000000000000000000000");const h=ht({hash:Tt,index:te(be.Dx,void 0),type:_=>_==="0x"||_==null?0:(0,be.Dx)(_),accessList:te(he.z,null),blobVersionedHashes:te(rt(Tt,!0),null),blockHash:te(Tt,null),blockNumber:te(be.Dx,null),transactionIndex:te(be.Dx,null),from:ie.K,gasPrice:te(be.yT),maxPriorityFeePerGas:te(be.yT),maxFeePerGas:te(be.yT),maxFeePerBlobGas:te(be.yT,null),gasLimit:be.yT,to:te(ie.K,null),value:be.yT,nonce:be.Dx,data:en,creates:te(ie.K,null),chainId:te(be.yT,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(H);if(h.to==null&&h.creates==null&&(h.creates=Js(h)),(H.type===1||H.type===2)&&H.accessList==null&&(h.accessList=[]),H.signature?h.signature=mt.P.from(H.signature):h.signature=mt.P.from(H),h.chainId==null){const _=h.signature.legacyChainId;_!=null&&(h.chainId=_)}return h.blockHash&&(0,be.yT)(h.blockHash)===W&&(h.blockHash=null),h}var Ss=D(85162),ii=D(78246);const ge=BigInt(2),$e=10;function Qe(H){return H&&typeof H.then=="function"}function lt(H,h){return H+":"+JSON.stringify(h,(_,T)=>{if(T==null)return"null";if(typeof T=="bigint")return`bigint:${T.toString()}`;if(typeof T=="string")return T.toLowerCase();if(typeof T=="object"&&!Array.isArray(T)){const B=Object.keys(T);return B.sort(),B.reduce((Z,Ee)=>(Z[Ee]=T[Ee],Z),{})}return T})}class it{constructor(h){Ve(this,"name");(0,v.h)(this,{name:h})}start(){}stop(){}pause(h){}resume(){}}function vt(H){return JSON.parse(JSON.stringify(H))}function Et(H){return H=Array.from(new Set(H).values()),H.sort(),H}async function Dt(H,h){if(H==null)throw new Error("invalid event");if(Array.isArray(H)&&(H={topics:H}),typeof H=="string")switch(H){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:H,tag:H}}if((0,L.A7)(H,32)){const _=H.toLowerCase();return{type:"transaction",tag:lt("tx",{hash:_}),hash:_}}if(H.orphan){const _=H;return{type:"orphan",tag:lt("orphan",_),filter:vt(_)}}if(H.address||H.topics){const _=H,T={topics:(_.topics||[]).map(B=>B==null?null:Array.isArray(B)?Et(B.map(Z=>Z.toLowerCase())):B.toLowerCase())};if(_.address){const B=[],Z=[],Ee=et=>{(0,L.A7)(et)?B.push(et):Z.push((async()=>{B.push(await(0,x.ru)(et,h))})())};Array.isArray(_.address)?_.address.forEach(Ee):Ee(_.address),Z.length&&await Promise.all(Z),T.address=Et(B.map(et=>et.toLowerCase()))}return{filter:T,tag:lt("event",T),type:"event"}}(0,O.en)(!1,"unknown ProviderEvent","event",H)}function Nn(){return new Date().getTime()}const or={cacheTimeout:250,pollingInterval:4e3};class fn{constructor(h,_){Ze(this,Wn);Ze(this,$r);Ze(this,wn);Ze(this,rs);Ze(this,li);Ze(this,ur);Ze(this,rr);Ze(this,ti);Ze(this,Ii);Ze(this,vo);Ze(this,Hr);Ze(this,vi);Ze(this,ni);if(Q(this,ni,Object.assign({},or,_||{})),h==="any")Q(this,rr,!0),Q(this,ur,null);else if(h){const T=Ss.Z.from(h);Q(this,rr,!1),Q(this,ur,Promise.resolve(T)),setTimeout(()=>{this.emit("network",T,null)},0)}else Q(this,rr,!1),Q(this,ur,null);Q(this,Ii,-1),Q(this,ti,new Map),Q(this,$r,new Map),Q(this,wn,new Map),Q(this,rs,null),Q(this,li,!1),Q(this,vo,1),Q(this,Hr,new Map),Q(this,vi,!1)}get pollingInterval(){return I(this,ni).pollingInterval}get provider(){return this}get plugins(){return Array.from(I(this,wn).values())}attachPlugin(h){if(I(this,wn).get(h.name))throw new Error(`cannot replace existing plugin: ${h.name} `);return I(this,wn).set(h.name,h.connect(this)),this}getPlugin(h){return I(this,wn).get(h)||null}get disableCcipRead(){return I(this,vi)}set disableCcipRead(h){Q(this,vi,!!h)}async ccipReadFetch(h,_,T){if(this.disableCcipRead||T.length===0||h.to==null)return null;const B=h.to.toLowerCase(),Z=_.toLowerCase(),Ee=[];for(let et=0;et<T.length;et++){const ut=T[et],wt=ut.replace("{sender}",B).replace("{data}",Z),Nt=new bt.gd(wt);ut.indexOf("{data}")===-1&&(Nt.body={data:Z,sender:B}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:Nt,index:et,urls:T});let It="unknown error";const Xt=await Nt.send();try{const An=Xt.bodyJson;if(An.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:Nt,result:An}),An.data;An.message&&(It=An.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:Nt,result:An})}catch{}(0,O.hu)(Xt.statusCode<400||Xt.statusCode>=500,`response not found during CCIP fetch: ${It}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:h,info:{url:ut,errorMessage:It}}),Ee.push(It)}(0,O.hu)(!1,`error encountered during CCIP fetch: ${Ee.map(et=>JSON.stringify(et)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:h,info:{urls:T,errorMessages:Ee}})}_wrapBlock(h,_){return new ue.gO(Ki(h),this)}_wrapLog(h,_){return new ue.Zb(Er(h),this)}_wrapTransactionReceipt(h,_){return new ue.IX(go(h),this)}_wrapTransactionResponse(h,_){return new ue.Mw(xi(h),this)}_detectNetwork(){(0,O.hu)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(h){(0,O.hu)(!1,`unsupported method: ${h.method}`,"UNSUPPORTED_OPERATION",{operation:h.method,info:h})}async getBlockNumber(){const h=(0,be.Dx)(await Ot(this,Wn,zi).call(this,{method:"getBlockNumber"}),"%response");return I(this,Ii)>=0&&Q(this,Ii,h),h}_getAddress(h){return(0,x.ru)(h,this)}_getBlockTag(h){if(h==null)return"latest";switch(h){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return h}if((0,L.A7)(h))return(0,L.A7)(h,32)?h:(0,be.B4)(h);if(typeof h=="bigint"&&(h=(0,be.Dx)(h,"blockTag")),typeof h=="number")return h>=0?(0,be.B4)(h):I(this,Ii)>=0?(0,be.B4)(I(this,Ii)+h):this.getBlockNumber().then(_=>(0,be.B4)(_+h));(0,O.en)(!1,"invalid blockTag","blockTag",h)}_getFilter(h){const _=(h.topics||[]).map(ut=>ut==null?null:Array.isArray(ut)?Et(ut.map(wt=>wt.toLowerCase())):ut.toLowerCase()),T="blockHash"in h?h.blockHash:void 0,B=(ut,wt,Nt)=>{let It;switch(ut.length){case 0:break;case 1:It=ut[0];break;default:ut.sort(),It=ut}if(T&&(wt!=null||Nt!=null))throw new Error("invalid filter");const Xt={};return It&&(Xt.address=It),_.length&&(Xt.topics=_),wt&&(Xt.fromBlock=wt),Nt&&(Xt.toBlock=Nt),T&&(Xt.blockHash=T),Xt};let Z=[];if(h.address)if(Array.isArray(h.address))for(const ut of h.address)Z.push(this._getAddress(ut));else Z.push(this._getAddress(h.address));let Ee;"fromBlock"in h&&(Ee=this._getBlockTag(h.fromBlock));let et;return"toBlock"in h&&(et=this._getBlockTag(h.toBlock)),Z.filter(ut=>typeof ut!="string").length||Ee!=null&&typeof Ee!="string"||et!=null&&typeof et!="string"?Promise.all([Promise.all(Z),Ee,et]).then(ut=>B(ut[0],ut[1],ut[2])):B(Z,Ee,et)}_getTransactionRequest(h){const _=(0,ue.kK)(h),T=[];if(["to","from"].forEach(B=>{if(_[B]==null)return;const Z=(0,x.ru)(_[B],this);Qe(Z)?T.push(async function(){_[B]=await Z}()):_[B]=Z}),_.blockTag!=null){const B=this._getBlockTag(_.blockTag);Qe(B)?T.push(async function(){_.blockTag=await B}()):_.blockTag=B}return T.length?async function(){return await Promise.all(T),_}():_}async getNetwork(){if(I(this,ur)==null){const B=(async()=>{try{const Z=await this._detectNetwork();return this.emit("network",Z,null),Z}catch(Z){throw I(this,ur)===B&&Q(this,ur,null),Z}})();return Q(this,ur,B),(await B).clone()}const h=I(this,ur),[_,T]=await Promise.all([h,this._detectNetwork()]);return _.chainId!==T.chainId&&(I(this,rr)?(this.emit("network",T,_),I(this,ur)===h&&Q(this,ur,Promise.resolve(T))):(0,O.hu)(!1,`network changed: ${_.chainId} => ${T.chainId} `,"NETWORK_ERROR",{event:"changed"})),_.clone()}async getFeeData(){const h=await this.getNetwork(),_=async()=>{const{_block:B,gasPrice:Z,priorityFee:Ee}=await(0,v.m)({_block:Ot(this,Wn,sg).call(this,"latest",!1),gasPrice:(async()=>{try{const Nt=await Ot(this,Wn,zi).call(this,{method:"getGasPrice"});return(0,be.yT)(Nt,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const Nt=await Ot(this,Wn,zi).call(this,{method:"getPriorityFee"});return(0,be.yT)(Nt,"%response")}catch{}return null})()});let et=null,ut=null;const wt=this._wrapBlock(B,h);return wt&&wt.baseFeePerGas&&(ut=Ee??BigInt("1000000000"),et=wt.baseFeePerGas*ge+ut),new ue.jW(Z,et,ut)},T=h.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(T){const B=new bt.gd(T.url),Z=await T.processFunc(_,this,B);return new ue.jW(Z.gasPrice,Z.maxFeePerGas,Z.maxPriorityFeePerGas)}return await _()}async estimateGas(h){let _=this._getTransactionRequest(h);return Qe(_)&&(_=await _),(0,be.yT)(await Ot(this,Wn,zi).call(this,{method:"estimateGas",transaction:_}),"%response")}async call(h){const{tx:_,blockTag:T}=await(0,v.m)({tx:this._getTransactionRequest(h),blockTag:this._getBlockTag(h.blockTag)});return await Ot(this,Wn,rg).call(this,Ot(this,Wn,ng).call(this,_,T,h.enableCcipRead?0:-1))}async getBalance(h,_){return(0,be.yT)(await Ot(this,Wn,Od).call(this,{method:"getBalance"},h,_),"%response")}async getTransactionCount(h,_){return(0,be.Dx)(await Ot(this,Wn,Od).call(this,{method:"getTransactionCount"},h,_),"%response")}async getCode(h,_){return(0,L.Dv)(await Ot(this,Wn,Od).call(this,{method:"getCode"},h,_))}async getStorage(h,_,T){const B=(0,be.yT)(_,"position");return(0,L.Dv)(await Ot(this,Wn,Od).call(this,{method:"getStorage",position:B},h,T))}async broadcastTransaction(h){const{blockNumber:_,hash:T,network:B}=await(0,v.m)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:h}),network:this.getNetwork()}),Z=ot.Y.from(h);if(Z.hash!==T)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(Z,B).replaceableTransaction(_)}async getBlock(h,_){const{network:T,params:B}=await(0,v.m)({network:this.getNetwork(),params:Ot(this,Wn,sg).call(this,h,!!_)});return B==null?null:this._wrapBlock(B,T)}async getTransaction(h){const{network:_,params:T}=await(0,v.m)({network:this.getNetwork(),params:Ot(this,Wn,zi).call(this,{method:"getTransaction",hash:h})});return T==null?null:this._wrapTransactionResponse(T,_)}async getTransactionReceipt(h){const{network:_,params:T}=await(0,v.m)({network:this.getNetwork(),params:Ot(this,Wn,zi).call(this,{method:"getTransactionReceipt",hash:h})});if(T==null)return null;if(T.gasPrice==null&&T.effectiveGasPrice==null){const B=await Ot(this,Wn,zi).call(this,{method:"getTransaction",hash:h});if(B==null)throw new Error("report this; could not find tx or effectiveGasPrice");T.effectiveGasPrice=B.gasPrice}return this._wrapTransactionReceipt(T,_)}async getTransactionResult(h){const{result:_}=await(0,v.m)({network:this.getNetwork(),result:Ot(this,Wn,zi).call(this,{method:"getTransactionResult",hash:h})});return _==null?null:(0,L.Dv)(_)}async getLogs(h){let _=this._getFilter(h);Qe(_)&&(_=await _);const{network:T,params:B}=await(0,v.m)({network:this.getNetwork(),params:Ot(this,Wn,zi).call(this,{method:"getLogs",filter:_})});return B.map(Z=>this._wrapLog(Z,T))}_getProvider(h){(0,O.hu)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(h){return await qs.fromName(this,h)}async getAvatar(h){const _=await this.getResolver(h);return _?await _.getAvatar():null}async resolveName(h){const _=await this.getResolver(h);return _?await _.getAddress():null}async lookupAddress(h){h=(0,ie.K)(h);const _=Je(h.substring(2).toLowerCase()+".addr.reverse");try{const T=await qs.getEnsAddress(this),Z=await new Ht(T,["function resolver(bytes32) view returns (address)"],this).resolver(_);if(Z==null||Z===le.N)return null;const et=await new Ht(Z,["function name(bytes32) view returns (string)"],this).name(_);return await this.resolveName(et)!==h?null:et}catch(T){if((0,O.VZ)(T,"BAD_DATA")&&T.value==="0x"||(0,O.VZ)(T,"CALL_EXCEPTION"))return null;throw T}return null}async waitForTransaction(h,_,T){const B=_??1;return B===0?this.getTransactionReceipt(h):new Promise(async(Z,Ee)=>{let et=null;const ut=async wt=>{try{const Nt=await this.getTransactionReceipt(h);if(Nt!=null&&wt-Nt.blockNumber+1>=B){Z(Nt),et&&(clearTimeout(et),et=null);return}}catch(Nt){console.log("EEE",Nt)}this.once("block",ut)};T!=null&&(et=setTimeout(()=>{et!=null&&(et=null,this.off("block",ut),Ee((0,O.wf)("timeout","TIMEOUT",{reason:"timeout"})))},T)),ut(await this.getBlockNumber())})}async waitForBlock(h){(0,O.hu)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(h){const _=I(this,Hr).get(h);_&&(_.timer&&clearTimeout(_.timer),I(this,Hr).delete(h))}_setTimeout(h,_){_==null&&(_=0);const T=kd(this,vo)._++,B=()=>{I(this,Hr).delete(T),h()};if(this.paused)I(this,Hr).set(T,{timer:null,func:B,time:_});else{const Z=setTimeout(B,_);I(this,Hr).set(T,{timer:Z,func:B,time:Nn()})}return T}_forEachSubscriber(h){for(const _ of I(this,$r).values())h(_.subscriber)}_getSubscriber(h){switch(h.type){case"debug":case"error":case"network":return new it(h.type);case"block":{const _=new ii.tR(this);return _.pollingInterval=this.pollingInterval,_}case"safe":case"finalized":return new ii.ub(this,h.type);case"event":return new ii.H9(this,h.filter);case"transaction":return new ii.yq(this,h.hash);case"orphan":return new ii.wF(this,h.filter)}throw new Error(`unsupported event: ${h.type}`)}_recoverSubscriber(h,_){for(const T of I(this,$r).values())if(T.subscriber===h){T.started&&T.subscriber.stop(),T.subscriber=_,T.started&&_.start(),I(this,rs)!=null&&_.pause(I(this,rs));break}}async on(h,_){const T=await Ot(this,Wn,tp).call(this,h);return T.listeners.push({listener:_,once:!1}),T.started||(T.subscriber.start(),T.started=!0,I(this,rs)!=null&&T.subscriber.pause(I(this,rs))),this}async once(h,_){const T=await Ot(this,Wn,tp).call(this,h);return T.listeners.push({listener:_,once:!0}),T.started||(T.subscriber.start(),T.started=!0,I(this,rs)!=null&&T.subscriber.pause(I(this,rs))),this}async emit(h,..._){const T=await Ot(this,Wn,Bd).call(this,h,_);if(!T||T.listeners.length===0)return!1;const B=T.listeners.length;return T.listeners=T.listeners.filter(({listener:Z,once:Ee})=>{const et=new _e(this,Ee?null:Z,h);try{Z.call(this,..._,et)}catch{}return!Ee}),T.listeners.length===0&&(T.started&&T.subscriber.stop(),I(this,$r).delete(T.tag)),B>0}async listenerCount(h){if(h){const T=await Ot(this,Wn,Bd).call(this,h);return T?T.listeners.length:0}let _=0;for(const{listeners:T}of I(this,$r).values())_+=T.length;return _}async listeners(h){if(h){const T=await Ot(this,Wn,Bd).call(this,h);return T?T.listeners.map(({listener:B})=>B):[]}let _=[];for(const{listeners:T}of I(this,$r).values())_=_.concat(T.map(({listener:B})=>B));return _}async off(h,_){const T=await Ot(this,Wn,Bd).call(this,h);if(!T)return this;if(_){const B=T.listeners.map(({listener:Z})=>Z).indexOf(_);B>=0&&T.listeners.splice(B,1)}return(!_||T.listeners.length===0)&&(T.started&&T.subscriber.stop(),I(this,$r).delete(T.tag)),this}async removeAllListeners(h){if(h){const{tag:_,started:T,subscriber:B}=await Ot(this,Wn,tp).call(this,h);T&&B.stop(),I(this,$r).delete(_)}else for(const[_,{started:T,subscriber:B}]of I(this,$r))T&&B.stop(),I(this,$r).delete(_);return this}async addListener(h,_){return await this.on(h,_)}async removeListener(h,_){return this.off(h,_)}get destroyed(){return I(this,li)}destroy(){this.removeAllListeners();for(const h of I(this,Hr).keys())this._clearTimeout(h);Q(this,li,!0)}get paused(){return I(this,rs)!=null}set paused(h){!!h!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(h){if(Q(this,Ii,-1),I(this,rs)!=null){if(I(this,rs)==!!h)return;(0,O.hu)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(_=>_.pause(h)),Q(this,rs,!!h);for(const _ of I(this,Hr).values())_.timer&&clearTimeout(_.timer),_.time=Nn()-_.time}resume(){if(I(this,rs)!=null){this._forEachSubscriber(h=>h.resume()),Q(this,rs,null);for(const h of I(this,Hr).values()){let _=h.time;_<0&&(_=0),h.time=Nn(),setTimeout(h.func,_)}}}}$r=new WeakMap,wn=new WeakMap,rs=new WeakMap,li=new WeakMap,ur=new WeakMap,rr=new WeakMap,ti=new WeakMap,Ii=new WeakMap,vo=new WeakMap,Hr=new WeakMap,vi=new WeakMap,ni=new WeakMap,Wn=new WeakSet,zi=async function(h){const _=I(this,ni).cacheTimeout;if(_<0)return await this._perform(h);const T=lt(h.method,h);let B=I(this,ti).get(T);return B||(B=this._perform(h),I(this,ti).set(T,B),setTimeout(()=>{I(this,ti).get(T)===B&&I(this,ti).delete(T)},_)),await B},ng=async function(h,_,T){(0,O.hu)(T<$e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},h,{blockTag:_,enableCcipRead:!0})});const B=(0,ue.kK)(h);try{return(0,L.Dv)(await this._perform({method:"call",transaction:B,blockTag:_}))}catch(Z){if(!this.disableCcipRead&&(0,O.Hl)(Z)&&Z.data&&T>=0&&_==="latest"&&B.to!=null&&(0,L.QB)(Z.data,0,4)==="0x556f1830"){const Ee=Z.data,et=await(0,x.ru)(B.to,this);let ut;try{ut=Ti((0,L.QB)(Z.data,4))}catch(It){(0,O.hu)(!1,It.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:B,info:{data:Ee}})}(0,O.hu)(ut.sender.toLowerCase()===et.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:Ee,reason:"OffchainLookup",transaction:B,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:ut.errorArgs}});const wt=await this.ccipReadFetch(B,ut.calldata,ut.urls);(0,O.hu)(wt!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:B,info:{data:Z.data,errorArgs:ut.errorArgs}});const Nt={to:et,data:(0,L.zo)([ut.selector,Kr([wt,ut.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:Nt});try{const It=await Ot(this,Wn,ng).call(this,Nt,_,T+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},Nt),result:It}),It}catch(It){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},Nt),error:It}),It}}throw Z}},rg=async function(h){const{value:_}=await(0,v.m)({network:this.getNetwork(),value:h});return _},Od=async function(h,_,T){let B=this._getAddress(_),Z=this._getBlockTag(T);return(typeof B!="string"||typeof Z!="string")&&([B,Z]=await Promise.all([B,Z])),await Ot(this,Wn,rg).call(this,Ot(this,Wn,zi).call(this,Object.assign(h,{address:B,blockTag:Z})))},sg=async function(h,_){if((0,L.A7)(h,32))return await Ot(this,Wn,zi).call(this,{method:"getBlock",blockHash:h,includeTransactions:_});let T=this._getBlockTag(h);return typeof T!="string"&&(T=await T),await Ot(this,Wn,zi).call(this,{method:"getBlock",blockTag:T,includeTransactions:_})},Bd=async function(h,_){let T=await Dt(h,this);return T.type==="event"&&_&&_.length>0&&_[0].removed===!0&&(T=await Dt({orphan:"drop-log",log:_[0]},this)),I(this,$r).get(T.tag)||null},tp=async function(h){const _=await Dt(h,this),T=_.tag;let B=I(this,$r).get(T);return B||(B={subscriber:this._getSubscriber(_),tag:T,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},I(this,$r).set(T,B)),B};function Hn(H,h){try{const _=On(H,h);if(_)return(0,Kt.ZN)(_)}catch{}return null}function On(H,h){if(H==="0x")return null;try{const _=(0,be.Dx)((0,L.QB)(H,h,h+32)),T=(0,be.Dx)((0,L.QB)(H,_,_+32));return(0,L.QB)(H,_+32,_+32+T)}catch{}return null}function pr(H){const h=(0,be.ot)(H);if(h.length>32)throw new Error("internal; should not happen");const _=new Uint8Array(32);return _.set(h,32-h.length),_}function Jr(H){if(H.length%32===0)return H;const h=new Uint8Array(Math.ceil(H.length/32)*32);return h.set(H),h}const Fr=new Uint8Array([]);function Kr(H){const h=[];let _=0;for(let T=0;T<H.length;T++)h.push(Fr),_+=32;for(let T=0;T<H.length;T++){const B=(0,L.Pw)(H[T]);h[T]=pr(_),h.push(pr(B.length)),h.push(Jr(B)),_+=32+Math.ceil(B.length/32)*32}return(0,L.zo)(h)}const Bs="0x0000000000000000000000000000000000000000000000000000000000000000";function Ti(H){const h={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,O.hu)((0,L.M5)(H)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const _=(0,L.QB)(H,0,32);(0,O.hu)((0,L.QB)(_,0,12)===(0,L.QB)(Bs,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),h.sender=(0,L.QB)(_,12);try{const T=[],B=(0,be.Dx)((0,L.QB)(H,32,64)),Z=(0,be.Dx)((0,L.QB)(H,B,B+32)),Ee=(0,L.QB)(H,B+32);for(let et=0;et<Z;et++){const ut=Hn(Ee,et*32);if(ut==null)throw new Error("abort");T.push(ut)}h.urls=T}catch{(0,O.hu)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const T=On(H,64);if(T==null)throw new Error("abort");h.calldata=T}catch{(0,O.hu)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,O.hu)((0,L.QB)(H,100,128)===(0,L.QB)(Bs,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),h.selector=(0,L.QB)(H,96,100);try{const T=On(H,128);if(T==null)throw new Error("abort");h.extraData=T}catch{(0,O.hu)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return h.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(T=>h[T]),h}},85162:function(Zt,ct,D){"use strict";var Se,fe,q,ue,_e,ee;D.d(ct,{Z:function(){return Ae}});var x=D(58145),ie=D(94295),le=D(55669),J=D(87410);const de="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Te{constructor(F){Ve(this,"name");(0,J.h)(this,{name:F})}clone(){return new Te(this.name)}}class v extends Te{constructor(re,Be){re==null&&(re=0);super(`org.ethers.network.plugins.GasCost#${re||0}`);Ve(this,"effectiveBlock");Ve(this,"txBase");Ve(this,"txCreate");Ve(this,"txDataZero");Ve(this,"txDataNonzero");Ve(this,"txAccessListStorageKey");Ve(this,"txAccessListAddress");const Ye={effectiveBlock:re};function pe(V,U){let X=(Be||{})[V];X==null&&(X=U),(0,le.en)(typeof X=="number",`invalud value for ${V}`,"costs",Be),Ye[V]=X}pe("txBase",21e3),pe("txCreate",32e3),pe("txDataZero",4),pe("txDataNonzero",16),pe("txAccessListStorageKey",1900),pe("txAccessListAddress",2400),(0,J.h)(this,Ye)}clone(){return new v(this.effectiveBlock,this)}}class O extends Te{constructor(re,Be){super("org.ethers.plugins.network.Ens");Ve(this,"address");Ve(this,"targetNetwork");(0,J.h)(this,{address:re||de,targetNetwork:Be??1})}clone(){return new O(this.address,this.targetNetwork)}}const M=class M extends null{constructor(re){super("org.ethers.plugins.network.FeeData");Ze(this,Se);Q(this,Se,re)}get feeDataFunc(){return I(this,Se)}async getFeeData(re){return await I(this,Se).call(this,re)}clone(){return new M(I(this,Se))}};Se=new WeakMap;let L=M;class be extends Te{constructor(re,Be){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Ze(this,fe);Ze(this,q);Q(this,fe,re),Q(this,q,Be)}get url(){return I(this,fe)}get processFunc(){return I(this,q)}clone(){return this}}fe=new WeakMap,q=new WeakMap;const P=new Map,S=class S{constructor(F,re){Ze(this,ue);Ze(this,_e);Ze(this,ee);Q(this,ue,F),Q(this,_e,(0,ie.yT)(re)),Q(this,ee,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return I(this,ue)}set name(F){Q(this,ue,F)}get chainId(){return I(this,_e)}set chainId(F){Q(this,_e,(0,ie.yT)(F,"chainId"))}matches(F){if(F==null)return!1;if(typeof F=="string"){try{return this.chainId===(0,ie.yT)(F)}catch{}return this.name===F}if(typeof F=="number"||typeof F=="bigint"){try{return this.chainId===(0,ie.yT)(F)}catch{}return!1}if(typeof F=="object"){if(F.chainId!=null){try{return this.chainId===(0,ie.yT)(F.chainId)}catch{}return!1}return F.name!=null?this.name===F.name:!1}return!1}get plugins(){return Array.from(I(this,ee).values())}attachPlugin(F){if(I(this,ee).get(F.name))throw new Error(`cannot replace existing plugin: ${F.name} `);return I(this,ee).set(F.name,F.clone()),this}getPlugin(F){return I(this,ee).get(F)||null}getPlugins(F){return this.plugins.filter(re=>re.name.split("#")[0]===F)}clone(){const F=new S(this.name,this.chainId);return this.plugins.forEach(re=>{F.attachPlugin(re.clone())}),F}computeIntrinsicGas(F){const re=this.getPlugin("org.ethers.plugins.network.GasCost")||new v;let Be=re.txBase;if(F.to==null&&(Be+=re.txCreate),F.data)for(let Ye=2;Ye<F.data.length;Ye+=2)F.data.substring(Ye,Ye+2)==="00"?Be+=re.txDataZero:Be+=re.txDataNonzero;if(F.accessList){const Ye=(0,x.z)(F.accessList);for(const pe in Ye)Be+=re.txAccessListAddress+re.txAccessListStorageKey*Ye[pe].storageKeys.length}return Be}static from(F){if(se(),F==null)return S.from("mainnet");if(typeof F=="number"&&(F=BigInt(F)),typeof F=="string"||typeof F=="bigint"){const re=P.get(F);if(re)return re();if(typeof F=="bigint")return new S("unknown",F);(0,le.en)(!1,"unknown network","network",F)}if(typeof F.clone=="function")return F.clone();if(typeof F=="object"){(0,le.en)(typeof F.name=="string"&&typeof F.chainId=="number","invalid network object name or chainId","network",F);const re=new S(F.name,F.chainId);return(F.ensAddress||F.ensNetwork!=null)&&re.attachPlugin(new O(F.ensAddress,F.ensNetwork)),re}(0,le.en)(!1,"invalid network","network",F)}static register(F,re){typeof F=="number"&&(F=BigInt(F));const Be=P.get(F);Be&&(0,le.en)(!1,`conflicting network for ${JSON.stringify(Be.name)}`,"nameOrChainId",F),P.set(F,re)}};ue=new WeakMap,_e=new WeakMap,ee=new WeakMap;let Ae=S;function ae(oe,F){const re=String(oe);if(!re.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${oe}`);const Be=re.split(".");if(Be.length===1&&Be.push(""),Be.length!==2)throw new Error(`invalid gwei value: ${oe}`);for(;Be[1].length<F;)Be[1]+="0";if(Be[1].length>9){let Ye=BigInt(Be[1].substring(0,9));Be[1].substring(9).match(/^0+$/)||Ye++,Be[1]=Ye.toString()}return BigInt(Be[0]+Be[1])}function j(oe){return new be(oe,async(F,re,Be)=>{Be.setHeader("User-Agent","ethers");let Ye;try{const[pe,V]=await Promise.all([Be.send(),F()]);Ye=pe;const U=Ye.bodyJson.standard;return{gasPrice:V.gasPrice,maxFeePerGas:ae(U.maxFee,9),maxPriorityFeePerGas:ae(U.maxPriorityFee,9)}}catch(pe){(0,le.hu)(!1,`error encountered with polygon gas station (${JSON.stringify(Be.url)})`,"SERVER_ERROR",{request:Be,response:Ye,error:pe})}})}let $=!1;function se(){if($)return;$=!0;function oe(F,re,Be){const Ye=function(){const pe=new Ae(F,re);return Be.ensNetwork!=null&&pe.attachPlugin(new O(null,Be.ensNetwork)),pe.attachPlugin(new v),(Be.plugins||[]).forEach(V=>{pe.attachPlugin(V)}),pe};Ae.register(F,Ye),Ae.register(re,Ye),Be.altNames&&Be.altNames.forEach(pe=>{Ae.register(pe,Ye)})}oe("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),oe("ropsten",3,{ensNetwork:3}),oe("rinkeby",4,{ensNetwork:4}),oe("goerli",5,{ensNetwork:5}),oe("kovan",42,{ensNetwork:42}),oe("sepolia",11155111,{ensNetwork:11155111}),oe("holesky",17e3,{ensNetwork:17e3}),oe("classic",61,{}),oe("classicKotti",6,{}),oe("arbitrum",42161,{ensNetwork:1}),oe("arbitrum-goerli",421613,{}),oe("arbitrum-sepolia",421614,{}),oe("base",8453,{ensNetwork:1}),oe("base-goerli",84531,{}),oe("base-sepolia",84532,{}),oe("bnb",56,{ensNetwork:1}),oe("bnbt",97,{}),oe("linea",59144,{ensNetwork:1}),oe("linea-goerli",59140,{}),oe("matic",137,{ensNetwork:1,plugins:[j("https://gasstation.polygon.technology/v2")]}),oe("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[j("https://gasstation-testnet.polygon.technology/v2")]}),oe("optimism",10,{ensNetwork:1,plugins:[]}),oe("optimism-goerli",420,{}),oe("optimism-sepolia",11155420,{}),oe("xdai",100,{ensNetwork:1})}},2215:function(Zt,ct,D){"use strict";var J;D.d(ct,{Q:function(){return le}});var x=D(55669),ie=D(83498);class le extends ie.JU{constructor(v,O){(0,x.en)(v&&v.request,"invalid EIP-1193 provider","ethereum",v);super(O,{batchMaxCount:1});Ze(this,J);Q(this,J,async(L,be)=>{const P={method:L,params:be};this.emit("debug",{action:"sendEip1193Request",payload:P});try{const Ae=await v.request(P);return this.emit("debug",{action:"receiveEip1193Result",result:Ae}),Ae}catch(Ae){const ae=new Error(Ae.message);throw ae.code=Ae.code,ae.data=Ae.data,ae.payload=P,this.emit("debug",{action:"receiveEip1193Error",error:ae}),ae}})}async send(v,O){return await this._start(),await super.send(v,O)}async _send(v){(0,x.en)(!Array.isArray(v),"EIP-1193 does not support batch request","payload",v);try{const O=await I(this,J).call(this,v.method,v.params||[]);return[{id:v.id,result:O}]}catch(O){return[{id:v.id,error:{code:O.code,data:O.data,message:O.message}}]}}getRpcError(v,O){switch(O=JSON.parse(JSON.stringify(O)),O.error.code||-1){case 4001:O.error.message=`ethers-user-denied: ${O.error.message}`;break;case 4200:O.error.message=`ethers-unsupported: ${O.error.message}`;break}return super.getRpcError(v,O)}async hasSigner(v){v==null&&(v=0);const O=await this.send("eth_accounts",[]);return typeof v=="number"?O.length>v:(v=v.toLowerCase(),O.filter(L=>L.toLowerCase()===v).length!==0)}async getSigner(v){if(v==null&&(v=0),!await this.hasSigner(v))try{await I(this,J).call(this,"eth_requestAccounts",[])}catch(O){const L=O.payload;throw this.getRpcError(L,{id:L.id,error:O})}return await super.getSigner(v)}}J=new WeakMap},78225:function(Zt,ct,D){"use strict";var ue,_e,ee,S,ab,ig,cb,ub,og;D.d(ct,{H:function(){return q}});var x=D(94295),ie=D(55669),le=D(46560),J=D(85162);const de=BigInt("1"),Te=BigInt("2");function v(pe){for(let V=pe.length-1;V>0;V--){const U=Math.floor(Math.random()*(V+1)),X=pe[V];pe[V]=pe[U],pe[U]=X}}function O(pe){return new Promise(V=>{setTimeout(V,pe)})}function L(){return new Date().getTime()}function be(pe){return JSON.stringify(pe,(V,U)=>typeof U=="bigint"?{type:"bigint",value:U.toString()}:U)}const P={stallTimeout:400,priority:1,weight:1},Ae={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function ae(pe,V){for(;(pe.blockNumber<0||pe.blockNumber<V)&&(pe._updateNumber||(pe._updateNumber=(async()=>{try{const U=await pe.provider.getBlockNumber();U>pe.blockNumber&&(pe.blockNumber=U)}catch(U){pe.blockNumber=-2,pe._lastFatalError=U,pe._lastFatalErrorTimestamp=L()}pe._updateNumber=null})()),await pe._updateNumber,pe.outOfSync++,!pe._lastFatalError););}function j(pe){if(pe==null)return"null";if(Array.isArray(pe))return"["+pe.map(j).join(",")+"]";if(typeof pe=="object"&&typeof pe.toJSON=="function")return j(pe.toJSON());switch(typeof pe){case"boolean":case"symbol":return pe.toString();case"bigint":case"number":return BigInt(pe).toString();case"string":return JSON.stringify(pe);case"object":{const V=Object.keys(pe);return V.sort(),"{"+V.map(U=>`${JSON.stringify(U)}:${j(pe[U])}`).join(",")+"}"}}throw console.log("Could not serialize",pe),new Error("Hmm...")}function $(pe){if("error"in pe){const U=pe.error;return{tag:j(U),value:U}}const V=pe.result;return{tag:j(V),value:V}}function se(pe,V){const U=new Map;for(const{value:me,tag:ke,weight:Ke}of V){const nt=U.get(ke)||{value:me,weight:0};nt.weight+=Ke,U.set(ke,nt)}let X=null;for(const me of U.values())me.weight>=pe&&(!X||me.weight>X.weight)&&(X=me);if(X)return X.value}function Se(pe,V){let U=0;const X=new Map;let me=null;const ke=[];for(const{value:nt,tag:ze,weight:De}of V)if(nt instanceof Error){const Fe=X.get(ze)||{value:nt,weight:0};Fe.weight+=De,X.set(ze,Fe),(me==null||Fe.weight>me.weight)&&(me=Fe)}else ke.push(BigInt(nt)),U+=De;if(U<pe)return me&&me.weight>=pe?me.value:void 0;ke.sort((nt,ze)=>nt<ze?-1:ze>nt?1:0);const Ke=Math.floor(ke.length/2);return ke.length%2?ke[Ke]:(ke[Ke-1]+ke[Ke]+de)/Te}function M(pe,V){const U=se(pe,V);if(U!==void 0)return U;for(const X of V)if(X.value)return X.value}function fe(pe,V){if(pe===1)return(0,x.Dx)(Se(pe,V),"%internal");const U=new Map,X=(Ke,nt)=>{const ze=U.get(Ke)||{result:Ke,weight:0};ze.weight+=nt,U.set(Ke,ze)};for(const{weight:Ke,value:nt}of V){const ze=(0,x.Dx)(nt);X(ze-1,Ke),X(ze,Ke),X(ze+1,Ke)}let me=0,ke;for(const{weight:Ke,result:nt}of U.values())Ke>=pe&&(Ke>me||ke!=null&&Ke===me&&nt>ke)&&(me=Ke,ke=nt);return ke}class q extends le.u{constructor(U,X,me){super(X,me);Ze(this,S);Ve(this,"quorum");Ve(this,"eventQuorum");Ve(this,"eventWorkers");Ze(this,ue);Ze(this,_e);Ze(this,ee);Q(this,ue,U.map(ke=>ke instanceof le.u?Object.assign({provider:ke},P,Ae):Object.assign({},P,ke,Ae))),Q(this,_e,-2),Q(this,ee,null),me&&me.quorum!=null?this.quorum=me.quorum:this.quorum=Math.ceil(I(this,ue).reduce((ke,Ke)=>(ke+=Ke.weight,ke),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,ie.en)(this.quorum<=I(this,ue).reduce((ke,Ke)=>ke+Ke.weight,0),"quorum exceed provider wieght","quorum",this.quorum)}get providerConfigs(){return I(this,ue).map(U=>{const X=Object.assign({},U);for(const me in X)me[0]==="_"&&delete X[me];return X})}async _detectNetwork(){return J.Z.from((0,x.yT)(await this._perform({method:"chainId"})))}async _translatePerform(U,X){switch(X.method){case"broadcastTransaction":return await U.broadcastTransaction(X.signedTransaction);case"call":return await U.call(Object.assign({},X.transaction,{blockTag:X.blockTag}));case"chainId":return(await U.getNetwork()).chainId;case"estimateGas":return await U.estimateGas(X.transaction);case"getBalance":return await U.getBalance(X.address,X.blockTag);case"getBlock":{const me="blockHash"in X?X.blockHash:X.blockTag;return await U.getBlock(me,X.includeTransactions)}case"getBlockNumber":return await U.getBlockNumber();case"getCode":return await U.getCode(X.address,X.blockTag);case"getGasPrice":return(await U.getFeeData()).gasPrice;case"getPriorityFee":return(await U.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await U.getLogs(X.filter);case"getStorage":return await U.getStorage(X.address,X.position,X.blockTag);case"getTransaction":return await U.getTransaction(X.hash);case"getTransactionCount":return await U.getTransactionCount(X.address,X.blockTag);case"getTransactionReceipt":return await U.getTransactionReceipt(X.hash);case"getTransactionResult":return await U.getTransactionResult(X.hash)}}async _perform(U){if(U.method==="broadcastTransaction"){const Ke=I(this,ue).map(De=>null),nt=I(this,ue).map(async({provider:De,weight:Fe},at)=>{try{const _t=await De._perform(U);Ke[at]=Object.assign($({result:_t}),{weight:Fe})}catch(_t){Ke[at]=Object.assign($({error:_t}),{weight:Fe})}});for(;;){const De=Ke.filter(_t=>_t!=null);for(const{value:_t}of De)if(!(_t instanceof Error))return _t;const Fe=se(this.quorum,Ke.filter(_t=>_t!=null));if((0,ie.VZ)(Fe,"INSUFFICIENT_FUNDS"))throw Fe;const at=nt.filter((_t,Pt)=>Ke[Pt]==null);if(at.length===0)break;await Promise.race(at)}const ze=M(this.quorum,Ke);if((0,ie.hu)(ze!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:U,results:Ke.map(be)}}),ze instanceof Error)throw ze;return ze}await Ot(this,S,cb).call(this);const X=new Set;let me=0;for(;;){const Ke=Ot(this,S,ig).call(this,X,U);if(Ke==null||(me+=Ke.config.weight,me>=this.quorum))break}const ke=await Ot(this,S,og).call(this,X,U);for(const Ke of X)Ke.perform&&Ke.result==null&&Ke.config.lateResponses++;return ke}async destroy(){for(const{provider:U}of I(this,ue))U.destroy();super.destroy()}}ue=new WeakMap,_e=new WeakMap,ee=new WeakMap,S=new WeakSet,ab=function(U){const X=Array.from(U).map(ke=>ke.config),me=I(this,ue).slice();v(me),me.sort((ke,Ke)=>ke.priority-Ke.priority);for(const ke of me)if(!ke._lastFatalError&&X.indexOf(ke)===-1)return ke;return null},ig=function(U,X){const me=Ot(this,S,ab).call(this,U);if(me==null)return null;const ke={config:me,result:null,didBump:!1,perform:null,staller:null},Ke=L();return ke.perform=(async()=>{try{me.requests++;const ze=await this._translatePerform(me.provider,X);ke.result={result:ze}}catch(ze){me.errorResponses++,ke.result={error:ze}}const nt=L()-Ke;me._totalTime+=nt,me.rollingDuration=.95*me.rollingDuration+.05*nt,ke.perform=null})(),ke.staller=(async()=>{await O(me.stallTimeout),ke.staller=null})(),U.add(ke),ke},cb=async function(){let U=I(this,ee);if(!U){const X=[];I(this,ue).forEach(me=>{X.push((async()=>{await ae(me,0),me._lastFatalError||(me._network=await me.provider.getNetwork())})())}),Q(this,ee,U=(async()=>{await Promise.all(X);let me=null;for(const ke of I(this,ue)){if(ke._lastFatalError)continue;const Ke=ke._network;me==null?me=Ke.chainId:Ke.chainId!==me&&(0,ie.hu)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await U},ub=async function(U,X){const me=[];for(const ke of U)if(ke.result!=null){const{tag:Ke,value:nt}=$(ke.result);me.push({tag:Ke,value:nt,weight:ke.config.weight})}if(!(me.reduce((ke,Ke)=>ke+Ke.weight,0)<this.quorum)){switch(X.method){case"getBlockNumber":{I(this,_e)===-2&&Q(this,_e,Math.ceil((0,x.Dx)(Se(this.quorum,I(this,ue).filter(Ke=>!Ke._lastFatalError).map(Ke=>({value:Ke.blockNumber,tag:(0,x.Dx)(Ke.blockNumber).toString(),weight:Ke.weight}))))));const ke=fe(this.quorum,me);return ke===void 0?void 0:(ke>I(this,_e)&&Q(this,_e,ke),I(this,_e))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return Se(this.quorum,me);case"getBlock":return"blockTag"in X&&X.blockTag==="pending"?M(this.quorum,me):se(this.quorum,me);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return se(this.quorum,me);case"broadcastTransaction":return M(this.quorum,me)}(0,ie.hu)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${be(X.method)})`})}},og=async function(U,X){if(U.size===0)throw new Error("no runners?!");const me=[];let ke=0;for(const nt of U){if(nt.perform&&me.push(nt.perform),nt.staller){me.push(nt.staller);continue}nt.didBump||(nt.didBump=!0,ke++)}const Ke=await Ot(this,S,ub).call(this,U,X);if(Ke!==void 0){if(Ke instanceof Error)throw Ke;return Ke}for(let nt=0;nt<ke;nt++)Ot(this,S,ig).call(this,U,X);return(0,ie.hu)(me.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:X,results:Array.from(U).map(nt=>be(nt.result))}}),await Promise.race(me),await Ot(this,S,og).call(this,U,X)}},83498:function(Zt,ct,D){"use strict";var Mt,Ht,Kt,zr,lb,k,np,Je,pt,ot,bt,kt,In,Qn,ag,cg,ns,Zs,ir,hs,as,Es,vs,Gr,qs,ug,Js,ps;D.d(ct,{JU:function(){return _r},r6:function(){return Cr},C1:function(){return tr}});var x=D(42993),ie=D(89),le=D(84563),J=D(95166),de=D(86503),Te=D(94295),v=D(55669),O=D(87410),L=D(617);const be=new Uint8Array(32);be.fill(0);const P=BigInt(-1),Ae=BigInt(0),ae=BigInt(1),j=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function $(mt){const he=(0,de.Pw)(mt),W=he.length%32;return W?(0,de.zo)([he,be.slice(W)]):(0,de.Dv)(he)}const se=(0,Te.m9)(ae,32),Se=(0,Te.m9)(Ae,32),M={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},fe=["name","version","chainId","verifyingContract","salt"];function q(mt){return function(he){return(0,v.en)(typeof he=="string",`invalid domain value for ${JSON.stringify(mt)}`,`domain.${mt}`,he),he}}const ue={name:q("name"),version:q("version"),chainId:function(mt){const he=(0,Te.yT)(mt,"domain.chainId");return(0,v.en)(he>=0,"invalid chain ID","domain.chainId",mt),Number.isSafeInteger(he)?Number(he):(0,Te.B4)(he)},verifyingContract:function(mt){try{return(0,ie.K)(mt).toLowerCase()}catch{}(0,v.en)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",mt)},salt:function(mt){const he=(0,de.Pw)(mt,"domain.salt");return(0,v.en)(he.length===32,'invalid domain value "salt"',"domain.salt",mt),(0,de.Dv)(he)}};function _e(mt){{const he=mt.match(/^(u?)int(\d+)$/);if(he){const W=he[1]==="",te=parseInt(he[2]);(0,v.en)(te%8===0&&te!==0&&te<=256&&he[2]===String(te),"invalid numeric width","type",mt);const rt=(0,Te.sS)(j,W?te-1:te),ht=W?(rt+ae)*P:Ae;return function(Bt){const en=(0,Te.yT)(Bt,"value");return(0,v.en)(en>=ht&&en<=rt,`value out-of-bounds for ${mt}`,"value",en),(0,Te.m9)(W?(0,Te.$j)(en,256):en,32)}}}{const he=mt.match(/^bytes(\d+)$/);if(he){const W=parseInt(he[1]);return(0,v.en)(W!==0&&W<=32&&he[1]===String(W),"invalid bytes width","type",mt),function(te){const rt=(0,de.Pw)(te);return(0,v.en)(rt.length===W,`invalid length for ${mt}`,"value",te),$(te)}}}switch(mt){case"address":return function(he){return(0,de.U3)((0,ie.K)(he),32)};case"bool":return function(he){return he?se:Se};case"bytes":return function(he){return(0,J.w)(he)};case"string":return function(he){return(0,L.id)(he)}}return null}function ee(mt,he){return`${mt}(${he.map(({name:W,type:te})=>te+" "+W).join(",")})`}function S(mt){const he=mt.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return he?{base:he[1],index:he[2]+he[4],array:{base:he[1],prefix:he[1]+he[2],count:he[5]?parseInt(he[5]):-1}}:{base:mt}}const He=class He{constructor(he){Ze(this,zr);Ve(this,"primaryType");Ze(this,Mt);Ze(this,Ht);Ze(this,Kt);Q(this,Ht,new Map),Q(this,Kt,new Map);const W=new Map,te=new Map,rt=new Map,ht={};Object.keys(he).forEach(Tt=>{ht[Tt]=he[Tt].map(({name:Ln,type:Fn})=>{let{base:Er,index:Xs}=S(Fn);return Er==="int"&&!he.int&&(Er="int256"),Er==="uint"&&!he.uint&&(Er="uint256"),{name:Ln,type:Er+(Xs||"")}}),W.set(Tt,new Set),te.set(Tt,[]),rt.set(Tt,new Set)}),Q(this,Mt,JSON.stringify(ht));for(const Tt in ht){const Ln=new Set;for(const Fn of ht[Tt]){(0,v.en)(!Ln.has(Fn.name),`duplicate variable name ${JSON.stringify(Fn.name)} in ${JSON.stringify(Tt)}`,"types",he),Ln.add(Fn.name);const Er=S(Fn.type).base;(0,v.en)(Er!==Tt,`circular type reference to ${JSON.stringify(Er)}`,"types",he),!_e(Er)&&((0,v.en)(te.has(Er),`unknown type ${JSON.stringify(Er)}`,"types",he),te.get(Er).push(Tt),W.get(Tt).add(Er))}}const Bt=Array.from(te.keys()).filter(Tt=>te.get(Tt).length===0);(0,v.en)(Bt.length!==0,"missing primary type","types",he),(0,v.en)(Bt.length===1,`ambiguous primary types or unused types: ${Bt.map(Tt=>JSON.stringify(Tt)).join(", ")}`,"types",he),(0,O.h)(this,{primaryType:Bt[0]});function en(Tt,Ln){(0,v.en)(!Ln.has(Tt),`circular type reference to ${JSON.stringify(Tt)}`,"types",he),Ln.add(Tt);for(const Fn of W.get(Tt))if(te.has(Fn)){en(Fn,Ln);for(const Er of Ln)rt.get(Er).add(Fn)}Ln.delete(Tt)}en(this.primaryType,new Set);for(const[Tt,Ln]of rt){const Fn=Array.from(Ln);Fn.sort(),I(this,Ht).set(Tt,ee(Tt,ht[Tt])+Fn.map(Er=>ee(Er,ht[Er])).join(""))}}get types(){return JSON.parse(I(this,Mt))}getEncoder(he){let W=I(this,Kt).get(he);return W||(W=Ot(this,zr,lb).call(this,he),I(this,Kt).set(he,W)),W}encodeType(he){const W=I(this,Ht).get(he);return(0,v.en)(W,`unknown type: ${JSON.stringify(he)}`,"name",he),W}encodeData(he,W){return this.getEncoder(he)(W)}hashStruct(he,W){return(0,J.w)(this.encodeData(he,W))}encode(he){return this.encodeData(this.primaryType,he)}hash(he){return this.hashStruct(this.primaryType,he)}_visit(he,W,te){if(_e(he))return te(he,W);const rt=S(he).array;if(rt)return(0,v.en)(rt.count===-1||rt.count===W.length,`array length mismatch; expected length ${rt.count}`,"value",W),W.map(Bt=>this._visit(rt.prefix,Bt,te));const ht=this.types[he];if(ht)return ht.reduce((Bt,{name:en,type:Tt})=>(Bt[en]=this._visit(Tt,W[en],te),Bt),{});(0,v.en)(!1,`unknown type: ${he}`,"type",he)}visit(he,W){return this._visit(this.primaryType,he,W)}static from(he){return new He(he)}static getPrimaryType(he){return He.from(he).primaryType}static hashStruct(he,W,te){return He.from(W).hashStruct(he,te)}static hashDomain(he){const W=[];for(const te in he){if(he[te]==null)continue;const rt=M[te];(0,v.en)(rt,`invalid typed-data domain key: ${JSON.stringify(te)}`,"domain",he),W.push({name:te,type:rt})}return W.sort((te,rt)=>fe.indexOf(te.name)-fe.indexOf(rt.name)),He.hashStruct("EIP712Domain",{EIP712Domain:W},he)}static encode(he,W,te){return(0,de.zo)(["0x1901",He.hashDomain(he),He.from(W).hash(te)])}static hash(he,W,te){return(0,J.w)(He.encode(he,W,te))}static async resolveNames(he,W,te,rt){he=Object.assign({},he);for(const en in he)he[en]==null&&delete he[en];const ht={};he.verifyingContract&&!(0,de.A7)(he.verifyingContract,20)&&(ht[he.verifyingContract]="0x");const Bt=He.from(W);Bt.visit(te,(en,Tt)=>(en==="address"&&!(0,de.A7)(Tt,20)&&(ht[Tt]="0x"),Tt));for(const en in ht)ht[en]=await rt(en);return he.verifyingContract&&ht[he.verifyingContract]&&(he.verifyingContract=ht[he.verifyingContract]),te=Bt.visit(te,(en,Tt)=>en==="address"&&ht[Tt]?ht[Tt]:Tt),{domain:he,value:te}}static getPayload(he,W,te){He.hashDomain(he);const rt={},ht=[];fe.forEach(Tt=>{const Ln=he[Tt];Ln!=null&&(rt[Tt]=ue[Tt](Ln),ht.push({name:Tt,type:M[Tt]}))});const Bt=He.from(W);W=Bt.types;const en=Object.assign({},W);return(0,v.en)(en.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",W),en.EIP712Domain=ht,Bt.encode(te),{types:en,domain:rt,primaryType:Bt.primaryType,message:Bt.visit(te,(Tt,Ln)=>{if(Tt.match(/^bytes(\d*)/))return(0,de.Dv)((0,de.Pw)(Ln));if(Tt.match(/^u?int/))return(0,Te.yT)(Ln).toString();switch(Tt){case"address":return Ln.toLowerCase();case"bool":return!!Ln;case"string":return(0,v.en)(typeof Ln=="string","invalid string","value",Ln),Ln}(0,v.en)(!1,"unsupported type","type",Tt)})}}};Mt=new WeakMap,Ht=new WeakMap,Kt=new WeakMap,zr=new WeakSet,lb=function(he){{const rt=_e(he);if(rt)return rt}const W=S(he).array;if(W){const rt=W.prefix,ht=this.getEncoder(rt);return Bt=>{(0,v.en)(W.count===-1||W.count===Bt.length,`array length mismatch; expected length ${W.count}`,"value",Bt);let en=Bt.map(ht);return I(this,Ht).has(rt)&&(en=en.map(J.w)),(0,J.w)((0,de.zo)(en))}}const te=this.types[he];if(te){const rt=(0,L.id)(I(this,Ht).get(he));return ht=>{const Bt=te.map(({name:en,type:Tt})=>{const Ln=this.getEncoder(Tt)(ht[en]);return I(this,Ht).has(Tt)?(0,J.w)(Ln):Ln});return Bt.unshift(rt),(0,de.zo)(Bt)}}(0,v.en)(!1,`unknown type: ${he}`,"type",he)};let oe=He;function F(mt,he,W,te){return recoverAddress(oe.hash(mt,he,W),te)}var re=D(58145),Be=D(3330),Ye=D(98098),pe=D(46560),V=D(65383),U=D(38150);function X(mt,he){if(mt.provider)return mt.provider;(0,v.hu)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:he})}async function me(mt,he){let W=(0,U.kK)(he);if(W.to!=null&&(W.to=(0,le.ru)(W.to,mt)),W.from!=null){const te=W.from;W.from=Promise.all([mt.getAddress(),(0,le.ru)(te,mt)]).then(([rt,ht])=>((0,v.en)(rt.toLowerCase()===ht.toLowerCase(),"transaction from mismatch","tx.from",ht),rt))}else W.from=mt.getAddress();return await(0,O.m)(W)}class ke{constructor(he){Ve(this,"provider");(0,O.h)(this,{provider:he||null})}async getNonce(he){return X(this,"getTransactionCount").getTransactionCount(await this.getAddress(),he)}async populateCall(he){return await me(this,he)}async populateTransaction(he){const W=X(this,"populateTransaction"),te=await me(this,he);te.nonce==null&&(te.nonce=await this.getNonce("pending")),te.gasLimit==null&&(te.gasLimit=await this.estimateGas(te));const rt=await this.provider.getNetwork();if(te.chainId!=null){const Bt=(0,Te.yT)(te.chainId);(0,v.en)(Bt===rt.chainId,"transaction chainId mismatch","tx.chainId",he.chainId)}else te.chainId=rt.chainId;const ht=te.maxFeePerGas!=null||te.maxPriorityFeePerGas!=null;if(te.gasPrice!=null&&(te.type===2||ht)?(0,v.en)(!1,"eip-1559 transaction do not support gasPrice","tx",he):(te.type===0||te.type===1)&&ht&&(0,v.en)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",he),(te.type===2||te.type==null)&&te.maxFeePerGas!=null&&te.maxPriorityFeePerGas!=null)te.type=2;else if(te.type===0||te.type===1){const Bt=await W.getFeeData();(0,v.hu)(Bt.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),te.gasPrice==null&&(te.gasPrice=Bt.gasPrice)}else{const Bt=await W.getFeeData();if(te.type==null)if(Bt.maxFeePerGas!=null&&Bt.maxPriorityFeePerGas!=null)if(te.type=2,te.gasPrice!=null){const en=te.gasPrice;delete te.gasPrice,te.maxFeePerGas=en,te.maxPriorityFeePerGas=en}else te.maxFeePerGas==null&&(te.maxFeePerGas=Bt.maxFeePerGas),te.maxPriorityFeePerGas==null&&(te.maxPriorityFeePerGas=Bt.maxPriorityFeePerGas);else Bt.gasPrice!=null?((0,v.hu)(!ht,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),te.gasPrice==null&&(te.gasPrice=Bt.gasPrice),te.type=0):(0,v.hu)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else te.type===2&&(te.maxFeePerGas==null&&(te.maxFeePerGas=Bt.maxFeePerGas),te.maxPriorityFeePerGas==null&&(te.maxPriorityFeePerGas=Bt.maxPriorityFeePerGas))}return await(0,O.m)(te)}async estimateGas(he){return X(this,"estimateGas").estimateGas(await this.populateCall(he))}async call(he){return X(this,"call").call(await this.populateCall(he))}async resolveName(he){return await X(this,"resolveName").resolveName(he)}async sendTransaction(he){const W=X(this,"sendTransaction"),te=await this.populateTransaction(he);delete te.from;const rt=V.Y.from(te);return await W.broadcastTransaction(await this.signTransaction(rt))}}const xe=class xe extends null{constructor(W,te){super(te);Ze(this,k);Ve(this,"address");defineProperties(this,{address:W})}async getAddress(){return this.address}connect(W){return new xe(this.address,W)}async signTransaction(W){Ot(this,k,np).call(this,"transactions","signTransaction")}async signMessage(W){Ot(this,k,np).call(this,"messages","signMessage")}async signTypedData(W,te,rt){Ot(this,k,np).call(this,"typed-data","signTypedData")}};k=new WeakSet,np=function(W,te){assert(!1,`VoidSigner cannot sign ${W}`,"UNSUPPORTED_OPERATION",{operation:te})};let Ke=xe;var nt=D(85162),ze=D(78246);function De(mt){return JSON.parse(JSON.stringify(mt))}class Fe{constructor(he){Ze(this,Qn);Ze(this,Je);Ze(this,pt);Ze(this,ot);Ze(this,bt);Ze(this,kt);Ze(this,In);Q(this,Je,he),Q(this,pt,null),Q(this,ot,Ot(this,Qn,ag).bind(this)),Q(this,bt,!1),Q(this,kt,null),Q(this,In,!1)}_subscribe(he){throw new Error("subclasses must override this")}_emitResults(he,W){throw new Error("subclasses must override this")}_recover(he){throw new Error("subclasses must override this")}start(){I(this,bt)||(Q(this,bt,!0),Ot(this,Qn,ag).call(this,-2))}stop(){I(this,bt)&&(Q(this,bt,!1),Q(this,In,!0),Ot(this,Qn,cg).call(this),I(this,Je).off("block",I(this,ot)))}pause(he){he&&Ot(this,Qn,cg).call(this),I(this,Je).off("block",I(this,ot))}resume(){this.start()}}Je=new WeakMap,pt=new WeakMap,ot=new WeakMap,bt=new WeakMap,kt=new WeakMap,In=new WeakMap,Qn=new WeakSet,ag=async function(he){try{I(this,pt)==null&&Q(this,pt,this._subscribe(I(this,Je)));let W=null;try{W=await I(this,pt)}catch(ht){if(!(0,v.VZ)(ht,"UNSUPPORTED_OPERATION")||ht.operation!=="eth_newFilter")throw ht}if(W==null){Q(this,pt,null),I(this,Je)._recoverSubscriber(this,this._recover(I(this,Je)));return}const te=await I(this,Je).getNetwork();if(I(this,kt)||Q(this,kt,te),I(this,kt).chainId!==te.chainId)throw new Error("chaid changed");if(I(this,In))return;const rt=await I(this,Je).send("eth_getFilterChanges",[W]);await this._emitResults(I(this,Je),rt)}catch(W){console.log("@TODO",W)}I(this,Je).once("block",I(this,ot))},cg=function(){const he=I(this,pt);he&&(Q(this,pt,null),he.then(W=>{I(this,Je).send("eth_uninstallFilter",[W])}))};class at extends Fe{constructor(W,te){super(W);Ze(this,ns);Q(this,ns,De(te))}_recover(W){return new ze.H9(W,I(this,ns))}async _subscribe(W){return await W.send("eth_newFilter",[I(this,ns)])}async _emitResults(W,te){for(const rt of te)W.emit(I(this,ns),W._wrapLog(rt,W._network))}}ns=new WeakMap;class _t extends Fe{async _subscribe(he){return await he.send("eth_newPendingTransactionFilter",[])}async _emitResults(he,W){for(const te of W)he.emit("pending",te)}}const Pt="bigint,boolean,function,number,string,symbol".split(/,/g);function En(mt){if(mt==null||Pt.indexOf(typeof mt)>=0||typeof mt.getAddress=="function")return mt;if(Array.isArray(mt))return mt.map(En);if(typeof mt=="object")return Object.keys(mt).reduce((he,W)=>(he[W]=mt[W],he),{});throw new Error(`should not happen: ${mt} (${typeof mt})`)}function wr(mt){return new Promise(he=>{setTimeout(he,mt)})}function zt(mt){return mt&&mt.toLowerCase()}function tn(mt){return mt&&typeof mt.pollingInterval=="number"}const $n={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class tr extends ke{constructor(W,te){super(W);Ve(this,"address");te=(0,ie.K)(te),(0,O.h)(this,{address:te})}connect(W){(0,v.hu)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(W){return await this.populateCall(W)}async sendUncheckedTransaction(W){const te=En(W),rt=[];if(te.from){const Bt=te.from;rt.push((async()=>{const en=await(0,le.ru)(Bt,this.provider);(0,v.en)(en!=null&&en.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",W),te.from=en})())}else te.from=this.address;if(te.gasLimit==null&&rt.push((async()=>{te.gasLimit=await this.provider.estimateGas({...te,from:this.address})})()),te.to!=null){const Bt=te.to;rt.push((async()=>{te.to=await(0,le.ru)(Bt,this.provider)})())}rt.length&&await Promise.all(rt);const ht=this.provider.getRpcTransaction(te);return this.provider.send("eth_sendTransaction",[ht])}async sendTransaction(W){const te=await this.provider.getBlockNumber(),rt=await this.sendUncheckedTransaction(W);return await new Promise((ht,Bt)=>{const en=[1e3,100];let Tt=0;const Ln=async()=>{try{const Fn=await this.provider.getTransaction(rt);if(Fn!=null){ht(Fn.replaceableTransaction(te));return}}catch(Fn){if((0,v.VZ)(Fn,"CANCELLED")||(0,v.VZ)(Fn,"BAD_DATA")||(0,v.VZ)(Fn,"NETWORK_ERROR")){Fn.info==null&&(Fn.info={}),Fn.info.sendTransactionHash=rt,Bt(Fn);return}if((0,v.VZ)(Fn,"INVALID_ARGUMENT")&&(Tt++,Fn.info==null&&(Fn.info={}),Fn.info.sendTransactionHash=rt,Tt>10)){Bt(Fn);return}this.provider.emit("error",(0,v.wf)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:Fn}))}this.provider._setTimeout(()=>{Ln()},en.pop()||4e3)};Ln()})}async signTransaction(W){const te=En(W);if(te.from){const ht=await(0,le.ru)(te.from,this.provider);(0,v.en)(ht!=null&&ht.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",W),te.from=ht}else te.from=this.address;const rt=this.provider.getRpcTransaction(te);return await this.provider.send("eth_signTransaction",[rt])}async signMessage(W){const te=typeof W=="string"?(0,Be.Y0)(W):W;return await this.provider.send("personal_sign",[(0,de.Dv)(te),this.address.toLowerCase()])}async signTypedData(W,te,rt){const ht=En(rt),Bt=await oe.resolveNames(W,te,ht,async en=>{const Tt=await(0,le.ru)(en);return(0,v.en)(Tt!=null,"TypedData does not support null address","value",en),Tt});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(oe.getPayload(Bt.domain,te,Bt.value))])}async unlock(W){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),W,null])}async _legacySignMessage(W){const te=typeof W=="string"?(0,Be.Y0)(W):W;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,de.Dv)(te)])}}class Gn extends pe.u{constructor(W,te){super(W,te);Ze(this,qs);Ze(this,Zs);Ze(this,ir);Ze(this,hs);Ze(this,as);Ze(this,Es);Ze(this,vs);Ze(this,Gr);Q(this,ir,1),Q(this,Zs,Object.assign({},$n,te||{})),Q(this,hs,[]),Q(this,as,null),Q(this,vs,null),Q(this,Gr,null);{let ht=null;const Bt=new Promise(en=>{ht=en});Q(this,Es,{promise:Bt,resolve:ht})}const rt=this._getOption("staticNetwork");typeof rt=="boolean"?((0,v.en)(!rt||W!=="any","staticNetwork cannot be used on special network 'any'","options",te),rt&&W!=null&&Q(this,vs,nt.Z.from(W))):rt&&((0,v.en)(W==null||rt.matches(W),"staticNetwork MUST match network object","options",te),Q(this,vs,rt))}_getOption(W){return I(this,Zs)[W]}get _network(){return(0,v.hu)(I(this,vs),"network is not available yet","NETWORK_ERROR"),I(this,vs)}async _perform(W){if(W.method==="call"||W.method==="estimateGas"){let rt=W.transaction;if(rt&&rt.type!=null&&(0,Te.yT)(rt.type)&&rt.maxFeePerGas==null&&rt.maxPriorityFeePerGas==null){const ht=await this.getFeeData();ht.maxFeePerGas==null&&ht.maxPriorityFeePerGas==null&&(W=Object.assign({},W,{transaction:Object.assign({},rt,{type:void 0})}))}}const te=this.getRpcRequest(W);return te!=null?await this.send(te.method,te.args):super._perform(W)}async _detectNetwork(){const W=this._getOption("staticNetwork");if(W)if(W===!0){if(I(this,vs))return I(this,vs)}else return W;return I(this,Gr)?await I(this,Gr):this.ready?(Q(this,Gr,(async()=>{try{const te=nt.Z.from((0,Te.yT)(await this.send("eth_chainId",[])));return Q(this,Gr,null),te}catch(te){throw Q(this,Gr,null),te}})()),await I(this,Gr)):(Q(this,Gr,(async()=>{const te={id:kd(this,ir)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:te});let rt;try{rt=(await this._send(te))[0],Q(this,Gr,null)}catch(ht){throw Q(this,Gr,null),this.emit("debug",{action:"receiveRpcError",error:ht}),ht}if(this.emit("debug",{action:"receiveRpcResult",result:rt}),"result"in rt)return nt.Z.from((0,Te.yT)(rt.result));throw this.getRpcError(te,rt)})()),await I(this,Gr))}_start(){I(this,Es)==null||I(this,Es).resolve==null||(I(this,Es).resolve(),Q(this,Es,null),(async()=>{for(;I(this,vs)==null&&!this.destroyed;)try{Q(this,vs,await this._detectNetwork())}catch(W){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,v.wf)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:W}})),await wr(1e3)}Ot(this,qs,ug).call(this)})())}async _waitUntilReady(){if(I(this,Es)!=null)return await I(this,Es).promise}_getSubscriber(W){return W.type==="pending"?new _t(this):W.type==="event"?this._getOption("polling")?new ze.H9(this,W.filter):new at(this,W.filter):W.type==="orphan"&&W.filter.orphan==="drop-log"?new pe.P("orphan"):super._getSubscriber(W)}get ready(){return I(this,Es)==null}getRpcTransaction(W){const te={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(rt=>{if(W[rt]==null)return;let ht=rt;rt==="gasLimit"&&(ht="gas"),te[ht]=(0,Te.B4)((0,Te.yT)(W[rt],`tx.${rt}`))}),["from","to","data"].forEach(rt=>{W[rt]!=null&&(te[rt]=(0,de.Dv)(W[rt]))}),W.accessList&&(te.accessList=(0,re.z)(W.accessList)),te}getRpcRequest(W){switch(W.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[zt(W.address),W.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[zt(W.address),W.blockTag]};case"getCode":return{method:"eth_getCode",args:[zt(W.address),W.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[zt(W.address),"0x"+W.position.toString(16),W.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[W.signedTransaction]};case"getBlock":if("blockTag"in W)return{method:"eth_getBlockByNumber",args:[W.blockTag,!!W.includeTransactions]};if("blockHash"in W)return{method:"eth_getBlockByHash",args:[W.blockHash,!!W.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[W.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[W.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(W.transaction),W.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(W.transaction)]};case"getLogs":return W.filter&&W.filter.address!=null&&(Array.isArray(W.filter.address)?W.filter.address=W.filter.address.map(zt):W.filter.address=zt(W.filter.address)),{method:"eth_getLogs",args:[W.filter]}}return null}getRpcError(W,te){const{method:rt}=W,{error:ht}=te;if(rt==="eth_estimateGas"&&ht.message){const Tt=ht.message;if(!Tt.match(/revert/i)&&Tt.match(/insufficient funds/i))return(0,v.wf)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:W.params[0],info:{payload:W,error:ht}})}if(rt==="eth_call"||rt==="eth_estimateGas"){const Tt=nr(ht),Ln=x.R.getBuiltinCallException(rt==="eth_call"?"call":"estimateGas",W.params[0],Tt?Tt.data:null);return Ln.info={error:ht,payload:W},Ln}const Bt=JSON.stringify(Oe(ht));if(typeof ht.message=="string"&&ht.message.match(/user denied|ethers-user-denied/i)){const Tt={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,v.wf)("user rejected action","ACTION_REJECTED",{action:Tt[rt]||"unknown",reason:"rejected",info:{payload:W,error:ht}})}if(rt==="eth_sendRawTransaction"||rt==="eth_sendTransaction"){const Tt=W.params[0];if(Bt.match(/insufficient funds|base fee exceeds gas limit/i))return(0,v.wf)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:Tt,info:{error:ht}});if(Bt.match(/nonce/i)&&Bt.match(/too low/i))return(0,v.wf)("nonce has already been used","NONCE_EXPIRED",{transaction:Tt,info:{error:ht}});if(Bt.match(/replacement transaction/i)&&Bt.match(/underpriced/i))return(0,v.wf)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:Tt,info:{error:ht}});if(Bt.match(/only replay-protected/i))return(0,v.wf)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:rt,info:{transaction:Tt,info:{error:ht}}})}let en=!!Bt.match(/the method .* does not exist/i);return en||ht&&ht.details&&ht.details.startsWith("Unauthorized method:")&&(en=!0),en?(0,v.wf)("unsupported operation","UNSUPPORTED_OPERATION",{operation:W.method,info:{error:ht,payload:W}}):(0,v.wf)("could not coalesce error","UNKNOWN_ERROR",{error:ht,payload:W})}send(W,te){if(this.destroyed)return Promise.reject((0,v.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:W}));const rt=kd(this,ir)._++,ht=new Promise((Bt,en)=>{I(this,hs).push({resolve:Bt,reject:en,payload:{method:W,params:te,id:rt,jsonrpc:"2.0"}})});return Ot(this,qs,ug).call(this),ht}async getSigner(W){W==null&&(W=0);const te=this.send("eth_accounts",[]);if(typeof W=="number"){const ht=await te;if(W>=ht.length)throw new Error("no such account");return new tr(this,ht[W])}const{accounts:rt}=await(0,O.m)({network:this.getNetwork(),accounts:te});W=(0,ie.K)(W);for(const ht of rt)if((0,ie.K)(ht)===W)return new tr(this,W);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(te=>new tr(this,te))}destroy(){I(this,as)&&(clearTimeout(I(this,as)),Q(this,as,null));for(const{payload:W,reject:te}of I(this,hs))te((0,v.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:W.method}));Q(this,hs,[]),super.destroy()}}Zs=new WeakMap,ir=new WeakMap,hs=new WeakMap,as=new WeakMap,Es=new WeakMap,vs=new WeakMap,Gr=new WeakMap,qs=new WeakSet,ug=function(){if(I(this,as))return;const W=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");Q(this,as,setTimeout(()=>{Q(this,as,null);const te=I(this,hs);for(Q(this,hs,[]);te.length;){const rt=[te.shift()];for(;te.length&&rt.length!==I(this,Zs).batchMaxCount;)if(rt.push(te.shift()),JSON.stringify(rt.map(Bt=>Bt.payload)).length>I(this,Zs).batchMaxSize){te.unshift(rt.pop());break}(async()=>{const ht=rt.length===1?rt[0].payload:rt.map(Bt=>Bt.payload);this.emit("debug",{action:"sendRpcPayload",payload:ht});try{const Bt=await this._send(ht);this.emit("debug",{action:"receiveRpcResult",result:Bt});for(const{resolve:en,reject:Tt,payload:Ln}of rt){if(this.destroyed){Tt((0,v.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:Ln.method}));continue}const Fn=Bt.filter(Er=>Er.id===Ln.id)[0];if(Fn==null){const Er=(0,v.wf)("missing response for request","BAD_DATA",{value:Bt,info:{payload:Ln}});this.emit("error",Er),Tt(Er);continue}if("error"in Fn){Tt(this.getRpcError(Ln,Fn));continue}en(Fn.result)}}catch(Bt){this.emit("debug",{action:"receiveRpcError",error:Bt});for(const{reject:en}of rt)en(Bt)}})()}},W))};class _r extends Gn{constructor(W,te){super(W,te);Ze(this,Js);Q(this,Js,4e3)}_getSubscriber(W){const te=super._getSubscriber(W);return tn(te)&&(te.pollingInterval=I(this,Js)),te}get pollingInterval(){return I(this,Js)}set pollingInterval(W){if(!Number.isInteger(W)||W<0)throw new Error("invalid interval");Q(this,Js,W),this._forEachSubscriber(te=>{tn(te)&&(te.pollingInterval=I(this,Js))})}}Js=new WeakMap;class Cr extends _r{constructor(W,te,rt){W==null&&(W="http://localhost:8545");super(te,rt);Ze(this,ps);typeof W=="string"?Q(this,ps,new Ye.gd(W)):Q(this,ps,W.clone())}_getConnection(){return I(this,ps).clone()}async send(W,te){return await this._start(),await super.send(W,te)}async _send(W){const te=this._getConnection();te.body=JSON.stringify(W),te.setHeader("content-type","application/json");const rt=await te.send();rt.assertOk();let ht=rt.bodyJson;return Array.isArray(ht)||(ht=[ht]),ht}}ps=new WeakMap;function nr(mt){if(mt==null)return null;if(typeof mt.message=="string"&&mt.message.match(/revert/i)&&(0,de.A7)(mt.data))return{message:mt.message,data:mt.data};if(typeof mt=="object"){for(const he in mt){const W=nr(mt[he]);if(W)return W}return null}if(typeof mt=="string")try{return nr(JSON.parse(mt))}catch{}return null}function _n(mt,he){if(mt!=null){if(typeof mt.message=="string"&&he.push(mt.message),typeof mt=="object")for(const W in mt)_n(mt[W],he);if(typeof mt=="string")try{return _n(JSON.parse(mt),he)}catch{}}}function Oe(mt){const he=[];return _n(mt,he),he}},38150:function(Zt,ct,D){"use strict";var fe,q,ue;D.d(ct,{IX:function(){return ae},Mw:function(){return j},Zb:function(){return Ae},gO:function(){return P},jW:function(){return L},kK:function(){return be}});var x=D(87410),ie=D(86503),le=D(94295),J=D(55669),de=D(58145);const Te=BigInt(0);function v(ee){return ee??null}function O(ee){return ee==null?null:ee.toString()}class L{constructor(S,oe,F){Ve(this,"gasPrice");Ve(this,"maxFeePerGas");Ve(this,"maxPriorityFeePerGas");(0,x.h)(this,{gasPrice:v(S),maxFeePerGas:v(oe),maxPriorityFeePerGas:v(F)})}toJSON(){const{gasPrice:S,maxFeePerGas:oe,maxPriorityFeePerGas:F}=this;return{_type:"FeeData",gasPrice:O(S),maxFeePerGas:O(oe),maxPriorityFeePerGas:O(F)}}}function be(ee){const S={};ee.to&&(S.to=ee.to),ee.from&&(S.from=ee.from),ee.data&&(S.data=(0,ie.Dv)(ee.data));const oe="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const re of oe)!(re in ee)||ee[re]==null||(S[re]=(0,le.yT)(ee[re],`request.${re}`));const F="type,nonce".split(/,/);for(const re of F)!(re in ee)||ee[re]==null||(S[re]=(0,le.Dx)(ee[re],`request.${re}`));return ee.accessList&&(S.accessList=(0,de.z)(ee.accessList)),"blockTag"in ee&&(S.blockTag=ee.blockTag),"enableCcipRead"in ee&&(S.enableCcipRead=!!ee.enableCcipRead),"customData"in ee&&(S.customData=ee.customData),S}class P{constructor(S,oe){Ve(this,"provider");Ve(this,"number");Ve(this,"hash");Ve(this,"timestamp");Ve(this,"parentHash");Ve(this,"parentBeaconBlockRoot");Ve(this,"nonce");Ve(this,"difficulty");Ve(this,"gasLimit");Ve(this,"gasUsed");Ve(this,"stateRoot");Ve(this,"receiptsRoot");Ve(this,"blobGasUsed");Ve(this,"excessBlobGas");Ve(this,"miner");Ve(this,"extraData");Ve(this,"baseFeePerGas");Ze(this,fe);Q(this,fe,S.transactions.map(F=>typeof F!="string"?new j(F,oe):F)),(0,x.h)(this,{provider:oe,hash:v(S.hash),number:S.number,timestamp:S.timestamp,parentHash:S.parentHash,parentBeaconBlockRoot:S.parentBeaconBlockRoot,nonce:S.nonce,difficulty:S.difficulty,gasLimit:S.gasLimit,gasUsed:S.gasUsed,blobGasUsed:S.blobGasUsed,excessBlobGas:S.excessBlobGas,miner:S.miner,extraData:S.extraData,baseFeePerGas:v(S.baseFeePerGas),stateRoot:S.stateRoot,receiptsRoot:S.receiptsRoot})}get transactions(){return I(this,fe).map(S=>typeof S=="string"?S:S.hash)}get prefetchedTransactions(){const S=I(this,fe).slice();return S.length===0?[]:((0,J.hu)(typeof S[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),S)}toJSON(){const{baseFeePerGas:S,difficulty:oe,extraData:F,gasLimit:re,gasUsed:Be,hash:Ye,miner:pe,nonce:V,number:U,parentHash:X,parentBeaconBlockRoot:me,stateRoot:ke,receiptsRoot:Ke,timestamp:nt,transactions:ze}=this;return{_type:"Block",baseFeePerGas:O(S),difficulty:O(oe),extraData:F,gasLimit:O(re),gasUsed:O(Be),blobGasUsed:O(this.blobGasUsed),excessBlobGas:O(this.excessBlobGas),hash:Ye,miner:pe,nonce:V,number:U,parentHash:X,timestamp:nt,parentBeaconBlockRoot:me,stateRoot:ke,receiptsRoot:Ke,transactions:ze}}[Symbol.iterator](){let S=0;const oe=this.transactions;return{next:()=>S<this.length?{value:oe[S++],done:!1}:{value:void 0,done:!0}}}get length(){return I(this,fe).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(S){let oe;if(typeof S=="number")oe=I(this,fe)[S];else{const F=S.toLowerCase();for(const re of I(this,fe))if(typeof re=="string"){if(re!==F)continue;oe=re;break}else{if(re.hash===F)continue;oe=re;break}}if(oe==null)throw new Error("no such tx");return typeof oe=="string"?await this.provider.getTransaction(oe):oe}getPrefetchedTransaction(S){const oe=this.prefetchedTransactions;if(typeof S=="number")return oe[S];S=S.toLowerCase();for(const F of oe)if(F.hash===S)return F;(0,J.en)(!1,"no matching transaction","indexOrHash",S)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return $(this)}}fe=new WeakMap;class Ae{constructor(S,oe){Ve(this,"provider");Ve(this,"transactionHash");Ve(this,"blockHash");Ve(this,"blockNumber");Ve(this,"removed");Ve(this,"address");Ve(this,"data");Ve(this,"topics");Ve(this,"index");Ve(this,"transactionIndex");this.provider=oe;const F=Object.freeze(S.topics.slice());(0,x.h)(this,{transactionHash:S.transactionHash,blockHash:S.blockHash,blockNumber:S.blockNumber,removed:S.removed,address:S.address,data:S.data,topics:F,index:S.index,transactionIndex:S.transactionIndex})}toJSON(){const{address:S,blockHash:oe,blockNumber:F,data:re,index:Be,removed:Ye,topics:pe,transactionHash:V,transactionIndex:U}=this;return{_type:"log",address:S,blockHash:oe,blockNumber:F,data:re,index:Be,removed:Ye,topics:pe,transactionHash:V,transactionIndex:U}}async getBlock(){const S=await this.provider.getBlock(this.blockHash);return(0,J.hu)(!!S,"failed to find transaction","UNKNOWN_ERROR",{}),S}async getTransaction(){const S=await this.provider.getTransaction(this.transactionHash);return(0,J.hu)(!!S,"failed to find transaction","UNKNOWN_ERROR",{}),S}async getTransactionReceipt(){const S=await this.provider.getTransactionReceipt(this.transactionHash);return(0,J.hu)(!!S,"failed to find transaction receipt","UNKNOWN_ERROR",{}),S}removedEvent(){return M(this)}}class ae{constructor(S,oe){Ve(this,"provider");Ve(this,"to");Ve(this,"from");Ve(this,"contractAddress");Ve(this,"hash");Ve(this,"index");Ve(this,"blockHash");Ve(this,"blockNumber");Ve(this,"logsBloom");Ve(this,"gasUsed");Ve(this,"blobGasUsed");Ve(this,"cumulativeGasUsed");Ve(this,"gasPrice");Ve(this,"blobGasPrice");Ve(this,"type");Ve(this,"status");Ve(this,"root");Ze(this,q);Q(this,q,Object.freeze(S.logs.map(re=>new Ae(re,oe))));let F=Te;S.effectiveGasPrice!=null?F=S.effectiveGasPrice:S.gasPrice!=null&&(F=S.gasPrice),(0,x.h)(this,{provider:oe,to:S.to,from:S.from,contractAddress:S.contractAddress,hash:S.hash,index:S.index,blockHash:S.blockHash,blockNumber:S.blockNumber,logsBloom:S.logsBloom,gasUsed:S.gasUsed,cumulativeGasUsed:S.cumulativeGasUsed,blobGasUsed:S.blobGasUsed,gasPrice:F,blobGasPrice:S.blobGasPrice,type:S.type,status:S.status,root:S.root})}get logs(){return I(this,q)}toJSON(){const{to:S,from:oe,contractAddress:F,hash:re,index:Be,blockHash:Ye,blockNumber:pe,logsBloom:V,logs:U,status:X,root:me}=this;return{_type:"TransactionReceipt",blockHash:Ye,blockNumber:pe,contractAddress:F,cumulativeGasUsed:O(this.cumulativeGasUsed),from:oe,gasPrice:O(this.gasPrice),blobGasUsed:O(this.blobGasUsed),blobGasPrice:O(this.blobGasPrice),gasUsed:O(this.gasUsed),hash:re,index:Be,logs:U,logsBloom:V,root:me,status:X,to:S}}get length(){return this.logs.length}[Symbol.iterator](){let S=0;return{next:()=>S<this.length?{value:this.logs[S++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const S=await this.provider.getBlock(this.blockHash);if(S==null)throw new Error("TODO");return S}async getTransaction(){const S=await this.provider.getTransaction(this.hash);if(S==null)throw new Error("TODO");return S}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Se(this)}reorderedEvent(S){return(0,J.hu)(!S||S.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),se(this,S)}}q=new WeakMap;const _e=class _e{constructor(S,oe){Ve(this,"provider");Ve(this,"blockNumber");Ve(this,"blockHash");Ve(this,"index");Ve(this,"hash");Ve(this,"type");Ve(this,"to");Ve(this,"from");Ve(this,"nonce");Ve(this,"gasLimit");Ve(this,"gasPrice");Ve(this,"maxPriorityFeePerGas");Ve(this,"maxFeePerGas");Ve(this,"maxFeePerBlobGas");Ve(this,"data");Ve(this,"value");Ve(this,"chainId");Ve(this,"signature");Ve(this,"accessList");Ve(this,"blobVersionedHashes");Ze(this,ue);this.provider=oe,this.blockNumber=S.blockNumber!=null?S.blockNumber:null,this.blockHash=S.blockHash!=null?S.blockHash:null,this.hash=S.hash,this.index=S.index,this.type=S.type,this.from=S.from,this.to=S.to||null,this.gasLimit=S.gasLimit,this.nonce=S.nonce,this.data=S.data,this.value=S.value,this.gasPrice=S.gasPrice,this.maxPriorityFeePerGas=S.maxPriorityFeePerGas!=null?S.maxPriorityFeePerGas:null,this.maxFeePerGas=S.maxFeePerGas!=null?S.maxFeePerGas:null,this.maxFeePerBlobGas=S.maxFeePerBlobGas!=null?S.maxFeePerBlobGas:null,this.chainId=S.chainId,this.signature=S.signature,this.accessList=S.accessList!=null?S.accessList:null,this.blobVersionedHashes=S.blobVersionedHashes!=null?S.blobVersionedHashes:null,Q(this,ue,-1)}toJSON(){const{blockNumber:S,blockHash:oe,index:F,hash:re,type:Be,to:Ye,from:pe,nonce:V,data:U,signature:X,accessList:me,blobVersionedHashes:ke}=this;return{_type:"TransactionResponse",accessList:me,blockNumber:S,blockHash:oe,blobVersionedHashes:ke,chainId:O(this.chainId),data:U,from:pe,gasLimit:O(this.gasLimit),gasPrice:O(this.gasPrice),hash:re,maxFeePerGas:O(this.maxFeePerGas),maxPriorityFeePerGas:O(this.maxPriorityFeePerGas),maxFeePerBlobGas:O(this.maxFeePerBlobGas),nonce:V,signature:X,to:Ye,index:F,type:Be,value:O(this.value)}}async getBlock(){let S=this.blockNumber;if(S==null){const F=await this.getTransaction();F&&(S=F.blockNumber)}if(S==null)return null;const oe=this.provider.getBlock(S);if(oe==null)throw new Error("TODO");return oe}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:oe,blockNumber:F}=await(0,x.m)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return oe==null||oe.blockNumber==null?0:F-oe.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(S,oe){const F=S??1,re=oe??0;let Be=I(this,ue),Ye=-1,pe=Be===-1;const V=async()=>{if(pe)return null;const{blockNumber:ke,nonce:Ke}=await(0,x.m)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(Ke<this.nonce){Be=ke;return}if(pe)return null;const nt=await this.getTransaction();if(!(nt&&nt.blockNumber!=null))for(Ye===-1&&(Ye=Be-3,Ye<I(this,ue)&&(Ye=I(this,ue)));Ye<=ke;){if(pe)return null;const ze=await this.provider.getBlock(Ye,!0);if(ze==null)return;for(const De of ze)if(De===this.hash)return;for(let De=0;De<ze.length;De++){const Fe=await ze.getTransaction(De);if(Fe.from===this.from&&Fe.nonce===this.nonce){if(pe)return null;const at=await this.provider.getTransactionReceipt(Fe.hash);if(at==null||ke-at.blockNumber+1<F)return;let _t="replaced";Fe.data===this.data&&Fe.to===this.to&&Fe.value===this.value?_t="repriced":Fe.data==="0x"&&Fe.from===Fe.to&&Fe.value===Te&&(_t="cancelled"),(0,J.hu)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:_t==="replaced"||_t==="cancelled",reason:_t,replacement:Fe.replaceableTransaction(Be),hash:Fe.hash,receipt:at})}}Ye++}},U=ke=>{if(ke==null||ke.status!==0)return ke;(0,J.hu)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:ke.to,from:ke.from,data:""},receipt:ke})},X=await this.provider.getTransactionReceipt(this.hash);if(F===0)return U(X);if(X){if(await X.confirmations()>=F)return U(X)}else if(await V(),F===0)return null;return await new Promise((ke,Ke)=>{const nt=[],ze=()=>{nt.forEach(Fe=>Fe())};if(nt.push(()=>{pe=!0}),re>0){const Fe=setTimeout(()=>{ze(),Ke((0,J.wf)("wait for transaction timeout","TIMEOUT"))},re);nt.push(()=>{clearTimeout(Fe)})}const De=async Fe=>{if(await Fe.confirmations()>=F){ze();try{ke(U(Fe))}catch(at){Ke(at)}}};if(nt.push(()=>{this.provider.off(this.hash,De)}),this.provider.on(this.hash,De),Be>=0){const Fe=async()=>{try{await V()}catch(at){if((0,J.VZ)(at,"TRANSACTION_REPLACED")){ze(),Ke(at);return}}pe||this.provider.once("block",Fe)};nt.push(()=>{this.provider.off("block",Fe)}),this.provider.once("block",Fe)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return(0,J.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Se(this)}reorderedEvent(S){return(0,J.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,J.hu)(!S||S.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),se(this,S)}replaceableTransaction(S){(0,J.en)(Number.isInteger(S)&&S>=0,"invalid startBlock","startBlock",S);const oe=new _e(this,this.provider);return Q(oe,ue,S),oe}};ue=new WeakMap;let j=_e;function $(ee){return{orphan:"drop-block",hash:ee.hash,number:ee.number}}function se(ee,S){return{orphan:"reorder-transaction",tx:ee,other:S}}function Se(ee){return{orphan:"drop-transaction",tx:ee}}function M(ee){return{orphan:"drop-log",log:{transactionHash:ee.transactionHash,blockHash:ee.blockHash,blockNumber:ee.blockNumber,address:ee.address,data:ee.data,topics:Object.freeze(ee.topics.slice()),index:ee.index}}}},78246:function(Zt,ct,D){"use strict";var L,be,P,Ae,ae,rp,$,se,Se,M,fe,q,ue,_e,ee,S,oe,F,re,db;D.d(ct,{H9:function(){return O},tR:function(){return le},ub:function(){return de},wF:function(){return Te},yq:function(){return v}});function x(Ye){return JSON.parse(JSON.stringify(Ye))}function ie(Ye,pe){if(pe==="block")return new le(Ye);if(isHexString(pe,32))return new v(Ye,pe);assert(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:pe}})}class le{constructor(pe){Ze(this,ae);Ze(this,L);Ze(this,be);Ze(this,P);Ze(this,Ae);Q(this,L,pe),Q(this,be,null),Q(this,P,4e3),Q(this,Ae,-2)}get pollingInterval(){return I(this,P)}set pollingInterval(pe){Q(this,P,pe)}start(){I(this,be)||(Q(this,be,I(this,L)._setTimeout(Ot(this,ae,rp).bind(this),I(this,P))),Ot(this,ae,rp).call(this))}stop(){I(this,be)&&(I(this,L)._clearTimeout(I(this,be)),Q(this,be,null))}pause(pe){this.stop(),pe&&Q(this,Ae,-2)}resume(){this.start()}}L=new WeakMap,be=new WeakMap,P=new WeakMap,Ae=new WeakMap,ae=new WeakSet,rp=async function(){try{const pe=await I(this,L).getBlockNumber();if(I(this,Ae)===-2){Q(this,Ae,pe);return}if(pe!==I(this,Ae)){for(let V=I(this,Ae)+1;V<=pe;V++){if(I(this,be)==null)return;await I(this,L).emit("block",V)}Q(this,Ae,pe)}}catch{}I(this,be)!=null&&Q(this,be,I(this,L)._setTimeout(Ot(this,ae,rp).bind(this),I(this,P)))};class J{constructor(pe){Ze(this,$);Ze(this,se);Ze(this,Se);Q(this,$,pe),Q(this,Se,!1),Q(this,se,V=>{this._poll(V,I(this,$))})}async _poll(pe,V){throw new Error("sub-classes must override this")}start(){I(this,Se)||(Q(this,Se,!0),I(this,se).call(this,-2),I(this,$).on("block",I(this,se)))}stop(){I(this,Se)&&(Q(this,Se,!1),I(this,$).off("block",I(this,se)))}pause(pe){this.stop()}resume(){this.start()}}$=new WeakMap,se=new WeakMap,Se=new WeakMap;class de extends J{constructor(V,U){super(V);Ze(this,M);Ze(this,fe);Q(this,M,U),Q(this,fe,-2)}pause(V){V&&Q(this,fe,-2),super.pause(V)}async _poll(V,U){const X=await U.getBlock(I(this,M));X!=null&&(I(this,fe)===-2?Q(this,fe,X.number):X.number>I(this,fe)&&(U.emit(I(this,M),X.number),Q(this,fe,X.number)))}}M=new WeakMap,fe=new WeakMap;class Te extends J{constructor(V,U){super(V);Ze(this,q);Q(this,q,x(U))}async _poll(V,U){throw new Error("@TODO")}}q=new WeakMap;class v extends J{constructor(V,U){super(V);Ze(this,ue);Q(this,ue,U)}async _poll(V,U){const X=await U.getTransactionReceipt(I(this,ue));X&&U.emit(I(this,ue),X)}}ue=new WeakMap;class O{constructor(pe,V){Ze(this,re);Ze(this,_e);Ze(this,ee);Ze(this,S);Ze(this,oe);Ze(this,F);Q(this,_e,pe),Q(this,ee,x(V)),Q(this,S,Ot(this,re,db).bind(this)),Q(this,oe,!1),Q(this,F,-2)}start(){I(this,oe)||(Q(this,oe,!0),I(this,F)===-2&&I(this,_e).getBlockNumber().then(pe=>{Q(this,F,pe)}),I(this,_e).on("block",I(this,S)))}stop(){I(this,oe)&&(Q(this,oe,!1),I(this,_e).off("block",I(this,S)))}pause(pe){this.stop(),pe&&Q(this,F,-2)}resume(){this.start()}}_e=new WeakMap,ee=new WeakMap,S=new WeakMap,oe=new WeakMap,F=new WeakMap,re=new WeakSet,db=async function(pe){if(I(this,F)===-2)return;const V=x(I(this,ee));V.fromBlock=I(this,F)+1,V.toBlock=pe;const U=await I(this,_e).getLogs(V);if(U.length===0){I(this,F)<pe-60&&Q(this,F,pe-60);return}for(const X of U)I(this,_e).emit(I(this,ee),X),Q(this,F,X.blockNumber)}},58145:function(Zt,ct,D){"use strict";D.d(ct,{z:function(){return de}});var x=D(89),ie=D(55669),le=D(86503);function J(Te,v){return{address:(0,x.K)(Te),storageKeys:v.map((O,L)=>((0,ie.en)((0,le.A7)(O,32),"invalid slot",`storageKeys[${L}]`,O),O.toLowerCase()))}}function de(Te){if(Array.isArray(Te))return Te.map((O,L)=>Array.isArray(O)?((0,ie.en)(O.length===2,"invalid slot set",`value[${L}]`,O),J(O[0],O[1])):((0,ie.en)(O!=null&&typeof O=="object","invalid address-slot set","value",Te),J(O.address,O.storageKeys)));(0,ie.en)(Te!=null&&typeof Te=="object","invalid access list","value",Te);const v=Object.keys(Te).map(O=>{const L=Te[O].reduce((be,P)=>(be[P]=!0,be),{});return J(O,Object.keys(L).sort())});return v.sort((O,L)=>O.address.localeCompare(L.address)),v}},65383:function(Zt,ct,D){"use strict";var Si,H,h,_,T,B,Z,Ee,et,ut,wt,Nt,It,Xt,An;D.d(ct,{Y:function(){return Do}});var x={};D.r(x),D.d(x,{dQ:function(){return Fe},ci:function(){return S},bytesToNumberBE:function(){return Be},ty:function(){return Ye},eV:function(){return me},n$:function(){return Pt},ql:function(){return X},hexToBytes:function(){return re},tL:function(){return pe},S5:function(){return V},FF:function(){return wr}});var ie=D(89),le=D(51771),J=D(92422),de=D(95166),Te=D(60149),v=D(82403);function O(w,g,A,z){if(typeof w.setBigUint64=="function")return w.setBigUint64(g,A,z);const Ie=BigInt(32),Ce=BigInt(4294967295),Ge=Number(A>>Ie&Ce),tt=Number(A&Ce),st=z?4:0,gt=z?0:4;w.setUint32(g+st,Ge,z),w.setUint32(g+gt,tt,z)}class L extends v.kb{constructor(g,A,z,Ie){super(),this.blockLen=g,this.outputLen=A,this.padOffset=z,this.isLE=Ie,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(g),this.view=(0,v.GL)(this.buffer)}update(g){(0,Te.Gg)(this);const{view:A,buffer:z,blockLen:Ie}=this;g=(0,v.O0)(g);const Ce=g.length;for(let Ge=0;Ge<Ce;){const tt=Math.min(Ie-this.pos,Ce-Ge);if(tt===Ie){const st=(0,v.GL)(g);for(;Ie<=Ce-Ge;Ge+=Ie)this.process(st,Ge);continue}z.set(g.subarray(Ge,Ge+tt),this.pos),this.pos+=tt,Ge+=tt,this.pos===Ie&&(this.process(A,0),this.pos=0)}return this.length+=g.length,this.roundClean(),this}digestInto(g){(0,Te.Gg)(this),(0,Te.J8)(g,this),this.finished=!0;const{buffer:A,view:z,blockLen:Ie,isLE:Ce}=this;let{pos:Ge}=this;A[Ge++]=128,this.buffer.subarray(Ge).fill(0),this.padOffset>Ie-Ge&&(this.process(z,0),Ge=0);for(let dt=Ge;dt<Ie;dt++)A[dt]=0;O(z,Ie-8,BigInt(this.length*8),Ce),this.process(z,0);const tt=(0,v.GL)(g),st=this.outputLen;if(st%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const gt=st/4,$t=this.get();if(gt>$t.length)throw new Error("_sha2: outputLen bigger than state");for(let dt=0;dt<gt;dt++)tt.setUint32(4*dt,$t[dt],Ce)}digest(){const{buffer:g,outputLen:A}=this;this.digestInto(g);const z=g.slice(0,A);return this.destroy(),z}_cloneInto(g){g||(g=new this.constructor),g.set(...this.get());const{blockLen:A,buffer:z,length:Ie,finished:Ce,destroyed:Ge,pos:tt}=this;return g.length=Ie,g.pos=tt,g.finished=Ce,g.destroyed=Ge,Ie%A&&g.buffer.set(z),g}}const be=(w,g,A)=>w&g^~w&A,P=(w,g,A)=>w&g^w&A^g&A,Ae=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ae=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),j=new Uint32Array(64);class $ extends L{constructor(){super(64,32,8,!1),this.A=ae[0]|0,this.B=ae[1]|0,this.C=ae[2]|0,this.D=ae[3]|0,this.E=ae[4]|0,this.F=ae[5]|0,this.G=ae[6]|0,this.H=ae[7]|0}get(){const{A:g,B:A,C:z,D:Ie,E:Ce,F:Ge,G:tt,H:st}=this;return[g,A,z,Ie,Ce,Ge,tt,st]}set(g,A,z,Ie,Ce,Ge,tt,st){this.A=g|0,this.B=A|0,this.C=z|0,this.D=Ie|0,this.E=Ce|0,this.F=Ge|0,this.G=tt|0,this.H=st|0}process(g,A){for(let dt=0;dt<16;dt++,A+=4)j[dt]=g.getUint32(A,!1);for(let dt=16;dt<64;dt++){const Sn=j[dt-15],Vn=j[dt-2],ln=(0,v.np)(Sn,7)^(0,v.np)(Sn,18)^Sn>>>3,Rt=(0,v.np)(Vn,17)^(0,v.np)(Vn,19)^Vn>>>10;j[dt]=Rt+j[dt-7]+ln+j[dt-16]|0}let{A:z,B:Ie,C:Ce,D:Ge,E:tt,F:st,G:gt,H:$t}=this;for(let dt=0;dt<64;dt++){const Sn=(0,v.np)(tt,6)^(0,v.np)(tt,11)^(0,v.np)(tt,25),Vn=$t+Sn+be(tt,st,gt)+Ae[dt]+j[dt]|0,Rt=((0,v.np)(z,2)^(0,v.np)(z,13)^(0,v.np)(z,22))+P(z,Ie,Ce)|0;$t=gt,gt=st,st=tt,tt=Ge+Vn|0,Ge=Ce,Ce=Ie,Ie=z,z=Vn+Rt|0}z=z+this.A|0,Ie=Ie+this.B|0,Ce=Ce+this.C|0,Ge=Ge+this.D|0,tt=tt+this.E|0,st=st+this.F|0,gt=gt+this.G|0,$t=$t+this.H|0,this.set(z,Ie,Ce,Ge,tt,st,gt,$t)}roundClean(){j.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class se extends null{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Se=(0,v.hE)(()=>new $),M=null;const fe=BigInt(0),q=BigInt(1),ue=BigInt(2),_e=w=>w instanceof Uint8Array,ee=Array.from({length:256},(w,g)=>g.toString(16).padStart(2,"0"));function S(w){if(!_e(w))throw new Error("Uint8Array expected");let g="";for(let A=0;A<w.length;A++)g+=ee[w[A]];return g}function oe(w){const g=w.toString(16);return g.length&1?`0${g}`:g}function F(w){if(typeof w!="string")throw new Error("hex string expected, got "+typeof w);return BigInt(w===""?"0":`0x${w}`)}function re(w){if(typeof w!="string")throw new Error("hex string expected, got "+typeof w);const g=w.length;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const A=new Uint8Array(g/2);for(let z=0;z<A.length;z++){const Ie=z*2,Ce=w.slice(Ie,Ie+2),Ge=Number.parseInt(Ce,16);if(Number.isNaN(Ge)||Ge<0)throw new Error("Invalid byte sequence");A[z]=Ge}return A}function Be(w){return F(S(w))}function Ye(w){if(!_e(w))throw new Error("Uint8Array expected");return F(S(Uint8Array.from(w).reverse()))}function pe(w,g){return re(w.toString(16).padStart(g*2,"0"))}function V(w,g){return pe(w,g).reverse()}function U(w){return re(oe(w))}function X(w,g,A){let z;if(typeof g=="string")try{z=re(g)}catch(Ce){throw new Error(`${w} must be valid hex string, got "${g}". Cause: ${Ce}`)}else if(_e(g))z=Uint8Array.from(g);else throw new Error(`${w} must be hex string or Uint8Array`);const Ie=z.length;if(typeof A=="number"&&Ie!==A)throw new Error(`${w} expected ${A} bytes, got ${Ie}`);return z}function me(...w){const g=new Uint8Array(w.reduce((z,Ie)=>z+Ie.length,0));let A=0;return w.forEach(z=>{if(!_e(z))throw new Error("Uint8Array expected");g.set(z,A),A+=z.length}),g}function ke(w,g){if(w.length!==g.length)return!1;for(let A=0;A<w.length;A++)if(w[A]!==g[A])return!1;return!0}function Ke(w){if(typeof w!="string")throw new Error(`utf8ToBytes expected string, got ${typeof w}`);return new Uint8Array(new TextEncoder().encode(w))}function nt(w){let g;for(g=0;w>fe;w>>=q,g+=1);return g}function ze(w,g){return w>>BigInt(g)&q}const De=(w,g,A)=>w|(A?q:fe)<<BigInt(g),Fe=w=>(ue<<BigInt(w-1))-q,at=w=>new Uint8Array(w),_t=w=>Uint8Array.from(w);function Pt(w,g,A){if(typeof w!="number"||w<2)throw new Error("hashLen must be a number");if(typeof g!="number"||g<2)throw new Error("qByteLen must be a number");if(typeof A!="function")throw new Error("hmacFn must be a function");let z=at(w),Ie=at(w),Ce=0;const Ge=()=>{z.fill(1),Ie.fill(0),Ce=0},tt=(...dt)=>A(Ie,z,...dt),st=(dt=at())=>{Ie=tt(_t([0]),dt),z=tt(),dt.length!==0&&(Ie=tt(_t([1]),dt),z=tt())},gt=()=>{if(Ce++>=1e3)throw new Error("drbg: tried 1000 values");let dt=0;const Sn=[];for(;dt<g;){z=tt();const Vn=z.slice();Sn.push(Vn),dt+=z.length}return me(...Sn)};return(dt,Sn)=>{Ge(),st(dt);let Vn;for(;!(Vn=Sn(gt()));)st();return Ge(),Vn}}const En={bigint:w=>typeof w=="bigint",function:w=>typeof w=="function",boolean:w=>typeof w=="boolean",string:w=>typeof w=="string",stringOrUint8Array:w=>typeof w=="string"||w instanceof Uint8Array,isSafeInteger:w=>Number.isSafeInteger(w),array:w=>Array.isArray(w),field:(w,g)=>g.Fp.isValid(w),hash:w=>typeof w=="function"&&Number.isSafeInteger(w.outputLen)};function wr(w,g,A={}){const z=(Ie,Ce,Ge)=>{const tt=En[Ce];if(typeof tt!="function")throw new Error(`Invalid validator "${Ce}", expected function`);const st=w[Ie];if(!(Ge&&st===void 0)&&!tt(st,w))throw new Error(`Invalid param ${String(Ie)}=${st} (${typeof st}), expected ${Ce}`)};for(const[Ie,Ce]of Object.entries(g))z(Ie,Ce,!1);for(const[Ie,Ce]of Object.entries(A))z(Ie,Ce,!0);return w}const zt=BigInt(0),tn=BigInt(1),$n=BigInt(2),tr=BigInt(3),Gn=BigInt(4),_r=BigInt(5),Cr=BigInt(8),nr=BigInt(9),_n=BigInt(16);function Oe(w,g){const A=w%g;return A>=zt?A:g+A}function Mt(w,g,A){if(A<=zt||g<zt)throw new Error("Expected power/modulo > 0");if(A===tn)return zt;let z=tn;for(;g>zt;)g&tn&&(z=z*w%A),w=w*w%A,g>>=tn;return z}function Ht(w,g,A){let z=w;for(;g-- >zt;)z*=z,z%=A;return z}function Kt(w,g){if(w===zt||g<=zt)throw new Error(`invert: expected positive integers, got n=${w} mod=${g}`);let A=Oe(w,g),z=g,Ie=zt,Ce=tn,Ge=tn,tt=zt;for(;A!==zt;){const gt=z/A,$t=z%A,dt=Ie-Ge*gt,Sn=Ce-tt*gt;z=A,A=$t,Ie=Ge,Ce=tt,Ge=dt,tt=Sn}if(z!==tn)throw new Error("invert: does not exist");return Oe(Ie,g)}function zr(w){const g=(w-tn)/$n;let A,z,Ie;for(A=w-tn,z=0;A%$n===zt;A/=$n,z++);for(Ie=$n;Ie<w&&Mt(Ie,g,w)!==w-tn;Ie++);if(z===1){const Ge=(w+tn)/Gn;return function(st,gt){const $t=st.pow(gt,Ge);if(!st.eql(st.sqr($t),gt))throw new Error("Cannot find square root");return $t}}const Ce=(A+tn)/$n;return function(tt,st){if(tt.pow(st,g)===tt.neg(tt.ONE))throw new Error("Cannot find square root");let gt=z,$t=tt.pow(tt.mul(tt.ONE,Ie),A),dt=tt.pow(st,Ce),Sn=tt.pow(st,A);for(;!tt.eql(Sn,tt.ONE);){if(tt.eql(Sn,tt.ZERO))return tt.ZERO;let Vn=1;for(let Rt=tt.sqr(Sn);Vn<gt&&!tt.eql(Rt,tt.ONE);Vn++)Rt=tt.sqr(Rt);const ln=tt.pow($t,tn<<BigInt(gt-Vn-1));$t=tt.sqr(ln),dt=tt.mul(dt,ln),Sn=tt.mul(Sn,$t),gt=Vn}return dt}}function xn(w){if(w%Gn===tr){const g=(w+tn)/Gn;return function(z,Ie){const Ce=z.pow(Ie,g);if(!z.eql(z.sqr(Ce),Ie))throw new Error("Cannot find square root");return Ce}}if(w%Cr===_r){const g=(w-_r)/Cr;return function(z,Ie){const Ce=z.mul(Ie,$n),Ge=z.pow(Ce,g),tt=z.mul(Ie,Ge),st=z.mul(z.mul(tt,$n),Ge),gt=z.mul(tt,z.sub(st,z.ONE));if(!z.eql(z.sqr(gt),Ie))throw new Error("Cannot find square root");return gt}}return w%_n,zr(w)}const He=(w,g)=>(Oe(w,g)&tn)===tn,k=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function N(w){const g={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},A=k.reduce((z,Ie)=>(z[Ie]="function",z),g);return wr(w,A)}function xe(w,g,A){if(A<zt)throw new Error("Expected power > 0");if(A===zt)return w.ONE;if(A===tn)return g;let z=w.ONE,Ie=g;for(;A>zt;)A&tn&&(z=w.mul(z,Ie)),Ie=w.sqr(Ie),A>>=tn;return z}function Je(w,g){const A=new Array(g.length),z=g.reduce((Ce,Ge,tt)=>w.is0(Ge)?Ce:(A[tt]=Ce,w.mul(Ce,Ge)),w.ONE),Ie=w.inv(z);return g.reduceRight((Ce,Ge,tt)=>w.is0(Ge)?Ce:(A[tt]=w.mul(Ce,A[tt]),w.mul(Ce,Ge)),Ie),A}function pt(w,g,A){return w.mul(g,typeof A=="bigint"?Kt(A,w.ORDER):w.inv(A))}function ot(w){const g=(w.ORDER-tn)/$n;return A=>{const z=w.pow(A,g);return w.eql(z,w.ZERO)||w.eql(z,w.ONE)}}function bt(w,g){const A=g!==void 0?g:w.toString(2).length,z=Math.ceil(A/8);return{nBitLength:A,nByteLength:z}}function kt(w,g,A=!1,z={}){if(w<=zt)throw new Error(`Expected Field ORDER > 0, got ${w}`);const{nBitLength:Ie,nByteLength:Ce}=bt(w,g);if(Ce>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Ge=xn(w),tt=Object.freeze({ORDER:w,BITS:Ie,BYTES:Ce,MASK:Fe(Ie),ZERO:zt,ONE:tn,create:st=>Oe(st,w),isValid:st=>{if(typeof st!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof st}`);return zt<=st&&st<w},is0:st=>st===zt,isOdd:st=>(st&tn)===tn,neg:st=>Oe(-st,w),eql:(st,gt)=>st===gt,sqr:st=>Oe(st*st,w),add:(st,gt)=>Oe(st+gt,w),sub:(st,gt)=>Oe(st-gt,w),mul:(st,gt)=>Oe(st*gt,w),pow:(st,gt)=>xe(tt,st,gt),div:(st,gt)=>Oe(st*Kt(gt,w),w),sqrN:st=>st*st,addN:(st,gt)=>st+gt,subN:(st,gt)=>st-gt,mulN:(st,gt)=>st*gt,inv:st=>Kt(st,w),sqrt:z.sqrt||(st=>Ge(tt,st)),invertBatch:st=>Je(tt,st),cmov:(st,gt,$t)=>$t?gt:st,toBytes:st=>A?V(st,Ce):pe(st,Ce),fromBytes:st=>{if(st.length!==Ce)throw new Error(`Fp.fromBytes: expected ${Ce}, got ${st.length}`);return A?Ye(st):Be(st)}});return Object.freeze(tt)}function In(w,g){if(!w.isOdd)throw new Error("Field doesn't have isOdd");const A=w.sqrt(g);return w.isOdd(A)?A:w.neg(A)}function Qn(w,g){if(!w.isOdd)throw new Error("Field doesn't have isOdd");const A=w.sqrt(g);return w.isOdd(A)?w.neg(A):A}function ys(w,g,A=!1){w=ensureBytes("privateHash",w);const z=w.length,Ie=bt(g).nByteLength+8;if(Ie<24||z<Ie||z>1024)throw new Error(`hashToPrivateScalar: expected ${Ie}-1024 bytes of input, got ${z}`);const Ce=A?bytesToNumberLE(w):bytesToNumberBE(w);return Oe(Ce,g-tn)+tn}function Os(w){if(typeof w!="bigint")throw new Error("field order must be bigint");const g=w.toString(2).length;return Math.ceil(g/8)}function ns(w){const g=Os(w);return g+Math.ceil(g/2)}function Zs(w,g,A=!1){const z=w.length,Ie=Os(g),Ce=ns(g);if(z<16||z<Ce||z>1024)throw new Error(`expected ${Ce}-1024 bytes of input, got ${z}`);const Ge=A?Be(w):Ye(w),tt=Oe(Ge,g-tn)+tn;return A?V(tt,Ie):pe(tt,Ie)}class ir extends v.kb{constructor(g,A){super(),this.finished=!1,this.destroyed=!1,(0,Te.vp)(g);const z=(0,v.O0)(A);if(this.iHash=g.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const Ie=this.blockLen,Ce=new Uint8Array(Ie);Ce.set(z.length>Ie?g.create().update(z).digest():z);for(let Ge=0;Ge<Ce.length;Ge++)Ce[Ge]^=54;this.iHash.update(Ce),this.oHash=g.create();for(let Ge=0;Ge<Ce.length;Ge++)Ce[Ge]^=106;this.oHash.update(Ce),Ce.fill(0)}update(g){return(0,Te.Gg)(this),this.iHash.update(g),this}digestInto(g){(0,Te.Gg)(this),(0,Te.aI)(g,this.outputLen),this.finished=!0,this.iHash.digestInto(g),this.oHash.update(g),this.oHash.digestInto(g),this.destroy()}digest(){const g=new Uint8Array(this.oHash.outputLen);return this.digestInto(g),g}_cloneInto(g){g||(g=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:z,finished:Ie,destroyed:Ce,blockLen:Ge,outputLen:tt}=this;return g=g,g.finished=Ie,g.destroyed=Ce,g.blockLen=Ge,g.outputLen=tt,g.oHash=A._cloneInto(g.oHash),g.iHash=z._cloneInto(g.iHash),g}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hs=(w,g,A)=>new ir(w,g).update(A).digest();hs.create=(w,g)=>new ir(w,g);const as=BigInt(0),Es=BigInt(1);function vs(w,g){const A=(Ie,Ce)=>{const Ge=Ce.negate();return Ie?Ge:Ce},z=Ie=>{const Ce=Math.ceil(g/Ie)+1,Ge=2**(Ie-1);return{windows:Ce,windowSize:Ge}};return{constTimeNegate:A,unsafeLadder(Ie,Ce){let Ge=w.ZERO,tt=Ie;for(;Ce>as;)Ce&Es&&(Ge=Ge.add(tt)),tt=tt.double(),Ce>>=Es;return Ge},precomputeWindow(Ie,Ce){const{windows:Ge,windowSize:tt}=z(Ce),st=[];let gt=Ie,$t=gt;for(let dt=0;dt<Ge;dt++){$t=gt,st.push($t);for(let Sn=1;Sn<tt;Sn++)$t=$t.add(gt),st.push($t);gt=$t.double()}return st},wNAF(Ie,Ce,Ge){const{windows:tt,windowSize:st}=z(Ie);let gt=w.ZERO,$t=w.BASE;const dt=BigInt(2**Ie-1),Sn=2**Ie,Vn=BigInt(Ie);for(let ln=0;ln<tt;ln++){const Rt=ln*st;let Ut=Number(Ge&dt);Ge>>=Vn,Ut>st&&(Ut-=Sn,Ge+=Es);const Wt=Rt,cn=Rt+Math.abs(Ut)-1,bn=ln%2!==0,Dn=Ut<0;Ut===0?$t=$t.add(A(bn,Ce[Wt])):gt=gt.add(A(Dn,Ce[cn]))}return{p:gt,f:$t}},wNAFCached(Ie,Ce,Ge,tt){const st=Ie._WINDOW_SIZE||1;let gt=Ce.get(Ie);return gt||(gt=this.precomputeWindow(Ie,st),st!==1&&Ce.set(Ie,tt(gt))),this.wNAF(st,gt,Ge)}}}function Gr(w){return N(w.Fp),wr(w,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bt(w.n,w.nBitLength),...w,p:w.Fp.ORDER})}function qs(w){const g=Gr(w);wr(g,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:A,Fp:z,a:Ie}=g;if(A){if(!z.eql(Ie,z.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof A!="object"||typeof A.beta!="bigint"||typeof A.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...g})}const{bytesToNumberBE:ka,hexToBytes:Js}=x,ps={Err:class extends Error{constructor(g=""){super(g)}},_parseInt(w){const{Err:g}=ps;if(w.length<2||w[0]!==2)throw new g("Invalid signature integer tag");const A=w[1],z=w.subarray(2,A+2);if(!A||z.length!==A)throw new g("Invalid signature integer: wrong length");if(z[0]&128)throw new g("Invalid signature integer: negative");if(z[0]===0&&!(z[1]&128))throw new g("Invalid signature integer: unnecessary leading zero");return{d:ka(z),l:w.subarray(A+2)}},toSig(w){const{Err:g}=ps,A=typeof w=="string"?Js(w):w;if(!(A instanceof Uint8Array))throw new Error("ui8a expected");let z=A.length;if(z<2||A[0]!=48)throw new g("Invalid signature tag");if(A[1]!==z-2)throw new g("Invalid signature: incorrect length");const{d:Ie,l:Ce}=ps._parseInt(A.subarray(2)),{d:Ge,l:tt}=ps._parseInt(Ce);if(tt.length)throw new g("Invalid signature: left bytes after parsing");return{r:Ie,s:Ge}},hexFromSig(w){const g=gt=>Number.parseInt(gt[0],16)&8?"00"+gt:gt,A=gt=>{const $t=gt.toString(16);return $t.length&1?`0${$t}`:$t},z=g(A(w.s)),Ie=g(A(w.r)),Ce=z.length/2,Ge=Ie.length/2,tt=A(Ce),st=A(Ge);return`30${A(Ge+Ce+4)}02${st}${Ie}02${tt}${z}`}},mt=BigInt(0),he=BigInt(1),W=BigInt(2),te=BigInt(3),rt=BigInt(4);function ht(w){const g=qs(w),{Fp:A}=g,z=g.toBytes||((ln,Rt,Ut)=>{const Wt=Rt.toAffine();return me(Uint8Array.from([4]),A.toBytes(Wt.x),A.toBytes(Wt.y))}),Ie=g.fromBytes||(ln=>{const Rt=ln.subarray(1),Ut=A.fromBytes(Rt.subarray(0,A.BYTES)),Wt=A.fromBytes(Rt.subarray(A.BYTES,2*A.BYTES));return{x:Ut,y:Wt}});function Ce(ln){const{a:Rt,b:Ut}=g,Wt=A.sqr(ln),cn=A.mul(Wt,ln);return A.add(A.add(cn,A.mul(ln,Rt)),Ut)}if(!A.eql(A.sqr(g.Gy),Ce(g.Gx)))throw new Error("bad generator point: equation left != right");function Ge(ln){return typeof ln=="bigint"&&mt<ln&&ln<g.n}function tt(ln){if(!Ge(ln))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function st(ln){const{allowedPrivateKeyLengths:Rt,nByteLength:Ut,wrapPrivateKey:Wt,n:cn}=g;if(Rt&&typeof ln!="bigint"){if(ln instanceof Uint8Array&&(ln=S(ln)),typeof ln!="string"||!Rt.includes(ln.length))throw new Error("Invalid key");ln=ln.padStart(Ut*2,"0")}let bn;try{bn=typeof ln=="bigint"?ln:Be(X("private key",ln,Ut))}catch{throw new Error(`private key must be ${Ut} bytes, hex or bigint, not ${typeof ln}`)}return Wt&&(bn=Oe(bn,cn)),tt(bn),bn}const gt=new Map;function $t(ln){if(!(ln instanceof dt))throw new Error("ProjectivePoint expected")}class dt{constructor(Rt,Ut,Wt){if(this.px=Rt,this.py=Ut,this.pz=Wt,Rt==null||!A.isValid(Rt))throw new Error("x required");if(Ut==null||!A.isValid(Ut))throw new Error("y required");if(Wt==null||!A.isValid(Wt))throw new Error("z required")}static fromAffine(Rt){const{x:Ut,y:Wt}=Rt||{};if(!Rt||!A.isValid(Ut)||!A.isValid(Wt))throw new Error("invalid affine point");if(Rt instanceof dt)throw new Error("projective point not allowed");const cn=bn=>A.eql(bn,A.ZERO);return cn(Ut)&&cn(Wt)?dt.ZERO:new dt(Ut,Wt,A.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Rt){const Ut=A.invertBatch(Rt.map(Wt=>Wt.pz));return Rt.map((Wt,cn)=>Wt.toAffine(Ut[cn])).map(dt.fromAffine)}static fromHex(Rt){const Ut=dt.fromAffine(Ie(X("pointHex",Rt)));return Ut.assertValidity(),Ut}static fromPrivateKey(Rt){return dt.BASE.multiply(st(Rt))}_setWindowSize(Rt){this._WINDOW_SIZE=Rt,gt.delete(this)}assertValidity(){if(this.is0()){if(g.allowInfinityPoint&&!A.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Rt,y:Ut}=this.toAffine();if(!A.isValid(Rt)||!A.isValid(Ut))throw new Error("bad point: x or y not FE");const Wt=A.sqr(Ut),cn=Ce(Rt);if(!A.eql(Wt,cn))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Rt}=this.toAffine();if(A.isOdd)return!A.isOdd(Rt);throw new Error("Field doesn't support isOdd")}equals(Rt){$t(Rt);const{px:Ut,py:Wt,pz:cn}=this,{px:bn,py:Dn,pz:Zn}=Rt,pn=A.eql(A.mul(Ut,Zn),A.mul(bn,cn)),Pn=A.eql(A.mul(Wt,Zn),A.mul(Dn,cn));return pn&&Pn}negate(){return new dt(this.px,A.neg(this.py),this.pz)}double(){const{a:Rt,b:Ut}=g,Wt=A.mul(Ut,te),{px:cn,py:bn,pz:Dn}=this;let Zn=A.ZERO,pn=A.ZERO,Pn=A.ZERO,Un=A.mul(cn,cn),Rs=A.mul(bn,bn),Wr=A.mul(Dn,Dn),Nr=A.mul(cn,bn);return Nr=A.add(Nr,Nr),Pn=A.mul(cn,Dn),Pn=A.add(Pn,Pn),Zn=A.mul(Rt,Pn),pn=A.mul(Wt,Wr),pn=A.add(Zn,pn),Zn=A.sub(Rs,pn),pn=A.add(Rs,pn),pn=A.mul(Zn,pn),Zn=A.mul(Nr,Zn),Pn=A.mul(Wt,Pn),Wr=A.mul(Rt,Wr),Nr=A.sub(Un,Wr),Nr=A.mul(Rt,Nr),Nr=A.add(Nr,Pn),Pn=A.add(Un,Un),Un=A.add(Pn,Un),Un=A.add(Un,Wr),Un=A.mul(Un,Nr),pn=A.add(pn,Un),Wr=A.mul(bn,Dn),Wr=A.add(Wr,Wr),Un=A.mul(Wr,Nr),Zn=A.sub(Zn,Un),Pn=A.mul(Wr,Rs),Pn=A.add(Pn,Pn),Pn=A.add(Pn,Pn),new dt(Zn,pn,Pn)}add(Rt){$t(Rt);const{px:Ut,py:Wt,pz:cn}=this,{px:bn,py:Dn,pz:Zn}=Rt;let pn=A.ZERO,Pn=A.ZERO,Un=A.ZERO;const Rs=g.a,Wr=A.mul(g.b,te);let Nr=A.mul(Ut,bn),js=A.mul(Wt,Dn),Gs=A.mul(cn,Zn),bo=A.add(Ut,Wt),Vt=A.add(bn,Dn);bo=A.mul(bo,Vt),Vt=A.add(Nr,js),bo=A.sub(bo,Vt),Vt=A.add(Ut,cn);let un=A.add(bn,Zn);return Vt=A.mul(Vt,un),un=A.add(Nr,Gs),Vt=A.sub(Vt,un),un=A.add(Wt,cn),pn=A.add(Dn,Zn),un=A.mul(un,pn),pn=A.add(js,Gs),un=A.sub(un,pn),Un=A.mul(Rs,Vt),pn=A.mul(Wr,Gs),Un=A.add(pn,Un),pn=A.sub(js,Un),Un=A.add(js,Un),Pn=A.mul(pn,Un),js=A.add(Nr,Nr),js=A.add(js,Nr),Gs=A.mul(Rs,Gs),Vt=A.mul(Wr,Vt),js=A.add(js,Gs),Gs=A.sub(Nr,Gs),Gs=A.mul(Rs,Gs),Vt=A.add(Vt,Gs),Nr=A.mul(js,Vt),Pn=A.add(Pn,Nr),Nr=A.mul(un,Vt),pn=A.mul(bo,pn),pn=A.sub(pn,Nr),Nr=A.mul(bo,js),Un=A.mul(un,Un),Un=A.add(Un,Nr),new dt(pn,Pn,Un)}subtract(Rt){return this.add(Rt.negate())}is0(){return this.equals(dt.ZERO)}wNAF(Rt){return Vn.wNAFCached(this,gt,Rt,Ut=>{const Wt=A.invertBatch(Ut.map(cn=>cn.pz));return Ut.map((cn,bn)=>cn.toAffine(Wt[bn])).map(dt.fromAffine)})}multiplyUnsafe(Rt){const Ut=dt.ZERO;if(Rt===mt)return Ut;if(tt(Rt),Rt===he)return this;const{endo:Wt}=g;if(!Wt)return Vn.unsafeLadder(this,Rt);let{k1neg:cn,k1:bn,k2neg:Dn,k2:Zn}=Wt.splitScalar(Rt),pn=Ut,Pn=Ut,Un=this;for(;bn>mt||Zn>mt;)bn&he&&(pn=pn.add(Un)),Zn&he&&(Pn=Pn.add(Un)),Un=Un.double(),bn>>=he,Zn>>=he;return cn&&(pn=pn.negate()),Dn&&(Pn=Pn.negate()),Pn=new dt(A.mul(Pn.px,Wt.beta),Pn.py,Pn.pz),pn.add(Pn)}multiply(Rt){tt(Rt);let Ut=Rt,Wt,cn;const{endo:bn}=g;if(bn){const{k1neg:Dn,k1:Zn,k2neg:pn,k2:Pn}=bn.splitScalar(Ut);let{p:Un,f:Rs}=this.wNAF(Zn),{p:Wr,f:Nr}=this.wNAF(Pn);Un=Vn.constTimeNegate(Dn,Un),Wr=Vn.constTimeNegate(pn,Wr),Wr=new dt(A.mul(Wr.px,bn.beta),Wr.py,Wr.pz),Wt=Un.add(Wr),cn=Rs.add(Nr)}else{const{p:Dn,f:Zn}=this.wNAF(Ut);Wt=Dn,cn=Zn}return dt.normalizeZ([Wt,cn])[0]}multiplyAndAddUnsafe(Rt,Ut,Wt){const cn=dt.BASE,bn=(Zn,pn)=>pn===mt||pn===he||!Zn.equals(cn)?Zn.multiplyUnsafe(pn):Zn.multiply(pn),Dn=bn(this,Ut).add(bn(Rt,Wt));return Dn.is0()?void 0:Dn}toAffine(Rt){const{px:Ut,py:Wt,pz:cn}=this,bn=this.is0();Rt==null&&(Rt=bn?A.ONE:A.inv(cn));const Dn=A.mul(Ut,Rt),Zn=A.mul(Wt,Rt),pn=A.mul(cn,Rt);if(bn)return{x:A.ZERO,y:A.ZERO};if(!A.eql(pn,A.ONE))throw new Error("invZ was invalid");return{x:Dn,y:Zn}}isTorsionFree(){const{h:Rt,isTorsionFree:Ut}=g;if(Rt===he)return!0;if(Ut)return Ut(dt,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Rt,clearCofactor:Ut}=g;return Rt===he?this:Ut?Ut(dt,this):this.multiplyUnsafe(g.h)}toRawBytes(Rt=!0){return this.assertValidity(),z(dt,this,Rt)}toHex(Rt=!0){return S(this.toRawBytes(Rt))}}dt.BASE=new dt(g.Gx,g.Gy,A.ONE),dt.ZERO=new dt(A.ZERO,A.ONE,A.ZERO);const Sn=g.nBitLength,Vn=vs(dt,g.endo?Math.ceil(Sn/2):Sn);return{CURVE:g,ProjectivePoint:dt,normPrivateKeyToScalar:st,weierstrassEquation:Ce,isWithinCurveOrder:Ge}}function Bt(w){const g=Gr(w);return wr(g,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...g})}function en(w){const g=Bt(w),{Fp:A,n:z}=g,Ie=A.BYTES+1,Ce=2*A.BYTES+1;function Ge(Vt){return mt<Vt&&Vt<A.ORDER}function tt(Vt){return Oe(Vt,z)}function st(Vt){return Kt(Vt,z)}const{ProjectivePoint:gt,normPrivateKeyToScalar:$t,weierstrassEquation:dt,isWithinCurveOrder:Sn}=ht({...g,toBytes(Vt,un,Yn){const Vr=un.toAffine(),Mr=A.toBytes(Vr.x),Or=me;return Yn?Or(Uint8Array.from([un.hasEvenY()?2:3]),Mr):Or(Uint8Array.from([4]),Mr,A.toBytes(Vr.y))},fromBytes(Vt){const un=Vt.length,Yn=Vt[0],Vr=Vt.subarray(1);if(un===Ie&&(Yn===2||Yn===3)){const Mr=Be(Vr);if(!Ge(Mr))throw new Error("Point is not on curve");const Or=dt(Mr);let jr=A.sqrt(Or);const Cs=(jr&he)===he;return(Yn&1)===1!==Cs&&(jr=A.neg(jr)),{x:Mr,y:jr}}else if(un===Ce&&Yn===4){const Mr=A.fromBytes(Vr.subarray(0,A.BYTES)),Or=A.fromBytes(Vr.subarray(A.BYTES,2*A.BYTES));return{x:Mr,y:Or}}else throw new Error(`Point of length ${un} was invalid. Expected ${Ie} compressed bytes or ${Ce} uncompressed bytes`)}}),Vn=Vt=>S(pe(Vt,g.nByteLength));function ln(Vt){const un=z>>he;return Vt>un}function Rt(Vt){return ln(Vt)?tt(-Vt):Vt}const Ut=(Vt,un,Yn)=>Be(Vt.slice(un,Yn));class Wt{constructor(un,Yn,Vr){this.r=un,this.s=Yn,this.recovery=Vr,this.assertValidity()}static fromCompact(un){const Yn=g.nByteLength;return un=X("compactSignature",un,Yn*2),new Wt(Ut(un,0,Yn),Ut(un,Yn,2*Yn))}static fromDER(un){const{r:Yn,s:Vr}=ps.toSig(X("DER",un));return new Wt(Yn,Vr)}assertValidity(){if(!Sn(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Sn(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(un){return new Wt(this.r,this.s,un)}recoverPublicKey(un){const{r:Yn,s:Vr,recovery:Mr}=this,Or=Pn(X("msgHash",un));if(Mr==null||![0,1,2,3].includes(Mr))throw new Error("recovery id invalid");const jr=Mr===2||Mr===3?Yn+g.n:Yn;if(jr>=A.ORDER)throw new Error("recovery id 2 or 3 invalid");const Cs=Mr&1?"03":"02",bi=gt.fromHex(Cs+Vn(jr)),Ds=st(jr),wo=tt(-Or*Ds),ca=tt(Vr*Ds),Pi=gt.BASE.multiplyAndAddUnsafe(bi,wo,ca);if(!Pi)throw new Error("point at infinify");return Pi.assertValidity(),Pi}hasHighS(){return ln(this.s)}normalizeS(){return this.hasHighS()?new Wt(this.r,tt(-this.s),this.recovery):this}toDERRawBytes(){return re(this.toDERHex())}toDERHex(){return ps.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return re(this.toCompactHex())}toCompactHex(){return Vn(this.r)+Vn(this.s)}}const cn={isValidPrivateKey(Vt){try{return $t(Vt),!0}catch{return!1}},normPrivateKeyToScalar:$t,randomPrivateKey:()=>{const Vt=ns(g.n);return Zs(g.randomBytes(Vt),g.n)},precompute(Vt=8,un=gt.BASE){return un._setWindowSize(Vt),un.multiply(BigInt(3)),un}};function bn(Vt,un=!0){return gt.fromPrivateKey(Vt).toRawBytes(un)}function Dn(Vt){const un=Vt instanceof Uint8Array,Yn=typeof Vt=="string",Vr=(un||Yn)&&Vt.length;return un?Vr===Ie||Vr===Ce:Yn?Vr===2*Ie||Vr===2*Ce:Vt instanceof gt}function Zn(Vt,un,Yn=!0){if(Dn(Vt))throw new Error("first arg must be private key");if(!Dn(un))throw new Error("second arg must be public key");return gt.fromHex(un).multiply($t(Vt)).toRawBytes(Yn)}const pn=g.bits2int||function(Vt){const un=Be(Vt),Yn=Vt.length*8-g.nBitLength;return Yn>0?un>>BigInt(Yn):un},Pn=g.bits2int_modN||function(Vt){return tt(pn(Vt))},Un=Fe(g.nBitLength);function Rs(Vt){if(typeof Vt!="bigint")throw new Error("bigint expected");if(!(mt<=Vt&&Vt<Un))throw new Error(`bigint expected < 2^${g.nBitLength}`);return pe(Vt,g.nByteLength)}function Wr(Vt,un,Yn=Nr){if(["recovered","canonical"].some(Ls=>Ls in Yn))throw new Error("sign() legacy options not supported");const{hash:Vr,randomBytes:Mr}=g;let{lowS:Or,prehash:jr,extraEntropy:Cs}=Yn;Or==null&&(Or=!0),Vt=X("msgHash",Vt),jr&&(Vt=X("prehashed msgHash",Vr(Vt)));const bi=Pn(Vt),Ds=$t(un),wo=[Rs(Ds),Rs(bi)];if(Cs!=null){const Ls=Cs===!0?Mr(A.BYTES):Cs;wo.push(X("extraEntropy",Ls))}const ca=me(...wo),Pi=bi;function wi(Ls){const di=pn(Ls);if(!Sn(di))return;const ua=st(di),Qi=gt.BASE.multiply(di).toAffine(),ms=tt(Qi.x);if(ms===mt)return;const Mi=tt(ua*tt(Pi+ms*Ds));if(Mi===mt)return;let yc=(Qi.x===ms?0:2)|Number(Qi.y&he),su=Mi;return Or&&ln(Mi)&&(su=Rt(Mi),yc^=1),new Wt(ms,su,yc)}return{seed:ca,k2sig:wi}}const Nr={lowS:g.lowS,prehash:!1},js={lowS:g.lowS,prehash:!1};function Gs(Vt,un,Yn=Nr){const{seed:Vr,k2sig:Mr}=Wr(Vt,un,Yn),Or=g;return Pt(Or.hash.outputLen,Or.nByteLength,Or.hmac)(Vr,Mr)}gt.BASE._setWindowSize(8);function bo(Vt,un,Yn,Vr=js){var Qi;const Mr=Vt;if(un=X("msgHash",un),Yn=X("publicKey",Yn),"strict"in Vr)throw new Error("options.strict was renamed to lowS");const{lowS:Or,prehash:jr}=Vr;let Cs,bi;try{if(typeof Mr=="string"||Mr instanceof Uint8Array)try{Cs=Wt.fromDER(Mr)}catch(ms){if(!(ms instanceof ps.Err))throw ms;Cs=Wt.fromCompact(Mr)}else if(typeof Mr=="object"&&typeof Mr.r=="bigint"&&typeof Mr.s=="bigint"){const{r:ms,s:Mi}=Mr;Cs=new Wt(ms,Mi)}else throw new Error("PARSE");bi=gt.fromHex(Yn)}catch(ms){if(ms.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Or&&Cs.hasHighS())return!1;jr&&(un=g.hash(un));const{r:Ds,s:wo}=Cs,ca=Pn(un),Pi=st(wo),wi=tt(ca*Pi),Ls=tt(Ds*Pi),di=(Qi=gt.BASE.multiplyAndAddUnsafe(bi,wi,Ls))==null?void 0:Qi.toAffine();return di?tt(di.x)===Ds:!1}return{CURVE:g,getPublicKey:bn,getSharedSecret:Zn,sign:Gs,verify:bo,ProjectivePoint:gt,Signature:Wt,utils:cn}}function Tt(w,g){const A=w.ORDER;let z=mt;for(let ln=A-he;ln%W===mt;ln/=W)z+=he;const Ie=z,Ce=W<<Ie-he-he,Ge=Ce*W,tt=(A-he)/Ge,st=(tt-he)/W,gt=Ge-he,$t=Ce,dt=w.pow(g,tt),Sn=w.pow(g,(tt+he)/W);let Vn=(ln,Rt)=>{let Ut=dt,Wt=w.pow(Rt,gt),cn=w.sqr(Wt);cn=w.mul(cn,Rt);let bn=w.mul(ln,cn);bn=w.pow(bn,st),bn=w.mul(bn,Wt),Wt=w.mul(bn,Rt),cn=w.mul(bn,ln);let Dn=w.mul(cn,Wt);bn=w.pow(Dn,$t);let Zn=w.eql(bn,w.ONE);Wt=w.mul(cn,Sn),bn=w.mul(Dn,Ut),cn=w.cmov(Wt,cn,Zn),Dn=w.cmov(bn,Dn,Zn);for(let pn=Ie;pn>he;pn--){let Pn=pn-W;Pn=W<<Pn-he;let Un=w.pow(Dn,Pn);const Rs=w.eql(Un,w.ONE);Wt=w.mul(cn,Ut),Ut=w.mul(Ut,Ut),Un=w.mul(Dn,Ut),cn=w.cmov(Wt,cn,Rs),Dn=w.cmov(Un,Dn,Rs)}return{isValid:Zn,value:cn}};if(w.ORDER%rt===te){const ln=(w.ORDER-te)/rt,Rt=w.sqrt(w.neg(g));Vn=(Ut,Wt)=>{let cn=w.sqr(Wt);const bn=w.mul(Ut,Wt);cn=w.mul(cn,bn);let Dn=w.pow(cn,ln);Dn=w.mul(Dn,bn);const Zn=w.mul(Dn,Rt),pn=w.mul(w.sqr(Dn),Wt),Pn=w.eql(pn,Ut);let Un=w.cmov(Zn,Dn,Pn);return{isValid:Pn,value:Un}}}return Vn}function Ln(w,g){if(mod.validateField(w),!w.isValid(g.A)||!w.isValid(g.B)||!w.isValid(g.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const A=Tt(w,g.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return z=>{let Ie,Ce,Ge,tt,st,gt,$t,dt;Ie=w.sqr(z),Ie=w.mul(Ie,g.Z),Ce=w.sqr(Ie),Ce=w.add(Ce,Ie),Ge=w.add(Ce,w.ONE),Ge=w.mul(Ge,g.B),tt=w.cmov(g.Z,w.neg(Ce),!w.eql(Ce,w.ZERO)),tt=w.mul(tt,g.A),Ce=w.sqr(Ge),gt=w.sqr(tt),st=w.mul(gt,g.A),Ce=w.add(Ce,st),Ce=w.mul(Ce,Ge),gt=w.mul(gt,tt),st=w.mul(gt,g.B),Ce=w.add(Ce,st),$t=w.mul(Ie,Ge);const{isValid:Sn,value:Vn}=A(Ce,gt);dt=w.mul(Ie,z),dt=w.mul(dt,Vn),$t=w.cmov($t,Ge,Sn),dt=w.cmov(dt,Vn,Sn);const ln=w.isOdd(z)===w.isOdd(dt);return dt=w.cmov(w.neg(dt),dt,ln),$t=w.div($t,tt),{x:$t,y:dt}}}function Fn(w){return{hash:w,hmac:(g,...A)=>hs(w,g,(0,v.eV)(...A)),randomBytes:v.O6}}function Er(w,g){const A=z=>en({...w,...Fn(z)});return Object.freeze({...A(g),create:A})}const Xs=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ki=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mo=BigInt(1),$i=BigInt(2),oa=(w,g)=>(w+g/$i)/g;function go(w){const g=Xs,A=BigInt(3),z=BigInt(6),Ie=BigInt(11),Ce=BigInt(22),Ge=BigInt(23),tt=BigInt(44),st=BigInt(88),gt=w*w*w%g,$t=gt*gt*w%g,dt=Ht($t,A,g)*$t%g,Sn=Ht(dt,A,g)*$t%g,Vn=Ht(Sn,$i,g)*gt%g,ln=Ht(Vn,Ie,g)*Vn%g,Rt=Ht(ln,Ce,g)*ln%g,Ut=Ht(Rt,tt,g)*Rt%g,Wt=Ht(Ut,st,g)*Ut%g,cn=Ht(Wt,tt,g)*Rt%g,bn=Ht(cn,A,g)*$t%g,Dn=Ht(bn,Ge,g)*ln%g,Zn=Ht(Dn,z,g)*gt%g,pn=Ht(Zn,$i,g);if(!xi.eql(xi.sqr(pn),w))throw new Error("Cannot find square root");return pn}const xi=kt(Xs,void 0,void 0,{sqrt:go}),Ss=Er({a:BigInt(0),b:BigInt(7),Fp:xi,n:Ki,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:w=>{const g=Ki,A=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),z=-Mo*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Ie=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Ce=A,Ge=BigInt("0x100000000000000000000000000000000"),tt=oa(Ce*w,g),st=oa(-z*w,g);let gt=Oe(w-tt*A-st*Ie,g),$t=Oe(-tt*z-st*Ce,g);const dt=gt>Ge,Sn=$t>Ge;if(dt&&(gt=g-gt),Sn&&($t=g-$t),gt>Ge||$t>Ge)throw new Error("splitScalar: Endomorphism failed, k="+w);return{k1neg:dt,k1:gt,k2neg:Sn,k2:$t}}}},Se),ii=BigInt(0),ge=w=>typeof w=="bigint"&&ii<w&&w<Xs,$e=w=>typeof w=="bigint"&&ii<w&&w<Ki,Qe={};function lt(w,...g){let A=Qe[w];if(A===void 0){const z=sha256(Uint8Array.from(w,Ie=>Ie.charCodeAt(0)));A=concatBytes(z,z),Qe[w]=A}return sha256(concatBytes(A,...g))}const it=w=>w.toRawBytes(!0).slice(1),vt=w=>numberToBytesBE(w,32),Et=w=>mod(w,Xs),Dt=w=>mod(w,Ki),Nn=Ss.ProjectivePoint,or=(w,g,A)=>Nn.BASE.multiplyAndAddUnsafe(w,g,A);function fn(w){let g=Ss.utils.normPrivateKeyToScalar(w),A=Nn.fromPrivateKey(g);return{scalar:A.hasEvenY()?g:Dt(-g),bytes:it(A)}}function Hn(w){if(!ge(w))throw new Error("bad x: need 0 < x < p");const g=Et(w*w),A=Et(g*w+BigInt(7));let z=go(A);z%$i!==ii&&(z=Et(-z));const Ie=new Nn(w,z,Mo);return Ie.assertValidity(),Ie}function On(...w){return Dt(bytesToNumberBE(lt("BIP0340/challenge",...w)))}function pr(w){return fn(w).bytes}function Jr(w,g,A=randomBytes(32)){const z=ensureBytes("message",w),{bytes:Ie,scalar:Ce}=fn(g),Ge=ensureBytes("auxRand",A,32),tt=vt(Ce^bytesToNumberBE(lt("BIP0340/aux",Ge))),st=lt("BIP0340/nonce",tt,Ie,z),gt=Dt(bytesToNumberBE(st));if(gt===ii)throw new Error("sign failed: k is zero");const{bytes:$t,scalar:dt}=fn(gt),Sn=On($t,Ie,z),Vn=new Uint8Array(64);if(Vn.set($t,0),Vn.set(vt(Dt(dt+Sn*Ce)),32),!Fr(Vn,z,Ie))throw new Error("sign: Invalid signature produced");return Vn}function Fr(w,g,A){const z=ensureBytes("signature",w,64),Ie=ensureBytes("message",g),Ce=ensureBytes("publicKey",A,32);try{const Ge=Hn(bytesToNumberBE(Ce)),tt=bytesToNumberBE(z.subarray(0,32));if(!ge(tt))return!1;const st=bytesToNumberBE(z.subarray(32,64));if(!$e(st))return!1;const gt=On(vt(tt),it(Ge),Ie),$t=or(Ge,st,Dt(-gt));return!(!$t||!$t.hasEvenY()||$t.toAffine().x!==tt)}catch{return!1}}const Kr=null,Bs=null,Ti=null,Ps=null,Ms=null,Ur=null;var sn=D(55669),hn=D(86503),ar=D(94295);const ss=class ss{constructor(g){Ze(this,Si);(0,sn.en)((0,hn.M5)(g)===32,"invalid private key","privateKey","[REDACTED]"),Q(this,Si,(0,hn.Dv)(g))}get privateKey(){return I(this,Si)}get publicKey(){return ss.computePublicKey(I(this,Si))}get compressedPublicKey(){return ss.computePublicKey(I(this,Si),!0)}sign(g){(0,sn.en)((0,hn.M5)(g)===32,"invalid digest length","digest",g);const A=Ss.sign((0,hn.h_)(g),(0,hn.h_)(I(this,Si)),{lowS:!0});return J.P.from({r:(0,ar.m9)(A.r,32),s:(0,ar.m9)(A.s,32),v:A.recovery?28:27})}computeSharedSecret(g){const A=ss.computePublicKey(g);return(0,hn.Dv)(Ss.getSharedSecret((0,hn.h_)(I(this,Si)),(0,hn.Pw)(A),!1))}static computePublicKey(g,A){let z=(0,hn.Pw)(g,"key");if(z.length===32){const Ce=Ss.getPublicKey(z,!!A);return(0,hn.Dv)(Ce)}if(z.length===64){const Ce=new Uint8Array(65);Ce[0]=4,Ce.set(z,1),z=Ce}const Ie=Ss.ProjectivePoint.fromHex(z);return(0,hn.Dv)(Ie.toRawBytes(A))}static recoverPublicKey(g,A){(0,sn.en)((0,hn.M5)(g)===32,"invalid digest length","digest",g);const z=J.P.from(A);let Ie=Ss.Signature.fromCompact((0,hn.h_)((0,hn.zo)([z.r,z.s])));Ie=Ie.addRecoveryBit(z.yParity);const Ce=Ie.recoverPublicKey((0,hn.h_)(g));return(0,sn.en)(Ce!=null,"invalid signautre for digest","signature",A),"0x"+Ce.toHex(!1)}static addPoints(g,A,z){const Ie=Ss.ProjectivePoint.fromHex(ss.computePublicKey(g).substring(2)),Ce=Ss.ProjectivePoint.fromHex(ss.computePublicKey(A).substring(2));return"0x"+Ie.add(Ce).toHex(!!z)}};Si=new WeakMap;let oi=ss;function ai(w){let g=w.toString(16);for(;g.length<2;)g="0"+g;return"0x"+g}function As(w,g,A){let z=0;for(let Ie=0;Ie<A;Ie++)z=z*256+w[g+Ie];return z}function ci(w,g,A,z){const Ie=[];for(;A<g+1+z;){const Ce=gi(w,A);Ie.push(Ce.result),A+=Ce.consumed,(0,sn.hu)(A<=g+1+z,"child data too short","BUFFER_OVERRUN",{buffer:w,length:z,offset:g})}return{consumed:1+z,result:Ie}}function gi(w,g){(0,sn.hu)(w.length!==0,"data too short","BUFFER_OVERRUN",{buffer:w,length:0,offset:1});const A=z=>{(0,sn.hu)(z<=w.length,"data short segment too short","BUFFER_OVERRUN",{buffer:w,length:w.length,offset:z})};if(w[g]>=248){const z=w[g]-247;A(g+1+z);const Ie=As(w,g+1,z);return A(g+1+z+Ie),ci(w,g,g+1+z,z+Ie)}else if(w[g]>=192){const z=w[g]-192;return A(g+1+z),ci(w,g,g+1,z)}else if(w[g]>=184){const z=w[g]-183;A(g+1+z);const Ie=As(w,g+1,z);A(g+1+z+Ie);const Ce=(0,hn.Dv)(w.slice(g+1+z,g+1+z+Ie));return{consumed:1+z+Ie,result:Ce}}else if(w[g]>=128){const z=w[g]-128;A(g+1+z);const Ie=(0,hn.Dv)(w.slice(g+1,g+1+z));return{consumed:1+z,result:Ie}}return{consumed:1,result:ai(w[g])}}function Ys(w){const g=(0,hn.Pw)(w,"data"),A=gi(g,0);return(0,sn.en)(A.consumed===g.length,"unexpected junk after rlp payload","data",w),A.result}var ui=D(45801),ei=D(58145);function Hs(w){let g;return typeof w=="string"?g=oi.computePublicKey(w,!1):g=w.publicKey,(0,ie.K)((0,de.w)("0x"+g.substring(4)).substring(26))}function xs(w,g){return Hs(oi.recoverPublicKey(w,g))}const lr=BigInt(0),yo=BigInt(2),yi=BigInt(27),aa=BigInt(28),yn=BigInt(35),$r=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function wn(w){return w==="0x"?null:(0,ie.K)(w)}function rs(w,g){try{return(0,ei.z)(w)}catch(A){(0,sn.en)(!1,A.message,g,w)}}function li(w,g){return w==="0x"?0:(0,ar.Dx)(w,g)}function ur(w,g){if(w==="0x")return lr;const A=(0,ar.yT)(w,g);return(0,sn.en)(A<=$r,"value exceeds uint size",g,A),A}function rr(w,g){const A=(0,ar.yT)(w,"value"),z=(0,ar.ot)(A);return(0,sn.en)(z.length<=32,"value too large",`tx.${g}`,A),z}function ti(w){return(0,ei.z)(w).map(g=>[g.address,g.storageKeys])}function Ii(w,g){(0,sn.en)(Array.isArray(w),`invalid ${g}`,"value",w);for(let A=0;A<w.length;A++)(0,sn.en)((0,hn.A7)(w[A],32),"invalid ${ param } hash",`value[${A}]`,w[A]);return w}function vo(w){const g=Ys(w);(0,sn.en)(Array.isArray(g)&&(g.length===9||g.length===6),"invalid field count for legacy transaction","data",w);const A={type:0,nonce:li(g[0],"nonce"),gasPrice:ur(g[1],"gasPrice"),gasLimit:ur(g[2],"gasLimit"),to:wn(g[3]),value:ur(g[4],"value"),data:(0,hn.Dv)(g[5]),chainId:lr};if(g.length===6)return A;const z=ur(g[6],"v"),Ie=ur(g[7],"r"),Ce=ur(g[8],"s");if(Ie===lr&&Ce===lr)A.chainId=z;else{let Ge=(z-yn)/yo;Ge<lr&&(Ge=lr),A.chainId=Ge,(0,sn.en)(Ge!==lr||z===yi||z===aa,"non-canonical legacy v","v",g[6]),A.signature=J.P.from({r:(0,hn.U3)(g[7],32),s:(0,hn.U3)(g[8],32),v:z}),A.hash=(0,de.w)(w)}return A}function Hr(w,g){const A=[rr(w.nonce,"nonce"),rr(w.gasPrice||0,"gasPrice"),rr(w.gasLimit,"gasLimit"),w.to||"0x",rr(w.value,"value"),w.data];let z=lr;if(w.chainId!=lr)z=(0,ar.yT)(w.chainId,"tx.chainId"),(0,sn.en)(!g||g.networkV==null||g.legacyChainId===z,"tx.chainId/sig.v mismatch","sig",g);else if(w.signature){const Ce=w.signature.legacyChainId;Ce!=null&&(z=Ce)}if(!g)return z!==lr&&(A.push((0,ar.ot)(z)),A.push("0x"),A.push("0x")),(0,ui.e)(A);let Ie=BigInt(27+g.yParity);return z!==lr?Ie=J.P.getChainIdV(z,g.v):BigInt(g.v)!==Ie&&(0,sn.en)(!1,"tx.chainId/sig.v mismatch","sig",g),A.push((0,ar.ot)(Ie)),A.push((0,ar.ot)(g.r)),A.push((0,ar.ot)(g.s)),(0,ui.e)(A)}function vi(w,g){let A;try{if(A=li(g[0],"yParity"),A!==0&&A!==1)throw new Error("bad yParity")}catch{(0,sn.en)(!1,"invalid yParity","yParity",g[0])}const z=(0,hn.U3)(g[1],32),Ie=(0,hn.U3)(g[2],32),Ce=J.P.from({r:z,s:Ie,yParity:A});w.signature=Ce}function ni(w){const g=Ys((0,hn.Pw)(w).slice(1));(0,sn.en)(Array.isArray(g)&&(g.length===9||g.length===12),"invalid field count for transaction type: 2","data",(0,hn.Dv)(w));const A={type:2,chainId:ur(g[0],"chainId"),nonce:li(g[1],"nonce"),maxPriorityFeePerGas:ur(g[2],"maxPriorityFeePerGas"),maxFeePerGas:ur(g[3],"maxFeePerGas"),gasPrice:null,gasLimit:ur(g[4],"gasLimit"),to:wn(g[5]),value:ur(g[6],"value"),data:(0,hn.Dv)(g[7]),accessList:rs(g[8],"accessList")};return g.length===9||(A.hash=(0,de.w)(w),vi(A,g.slice(9))),A}function Wn(w,g){const A=[rr(w.chainId,"chainId"),rr(w.nonce,"nonce"),rr(w.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rr(w.maxFeePerGas||0,"maxFeePerGas"),rr(w.gasLimit,"gasLimit"),w.to||"0x",rr(w.value,"value"),w.data,ti(w.accessList||[])];return g&&(A.push(rr(g.yParity,"yParity")),A.push((0,ar.ot)(g.r)),A.push((0,ar.ot)(g.s))),(0,hn.zo)(["0x02",(0,ui.e)(A)])}function ru(w){const g=Ys((0,hn.Pw)(w).slice(1));(0,sn.en)(Array.isArray(g)&&(g.length===8||g.length===11),"invalid field count for transaction type: 1","data",(0,hn.Dv)(w));const A={type:1,chainId:ur(g[0],"chainId"),nonce:li(g[1],"nonce"),gasPrice:ur(g[2],"gasPrice"),gasLimit:ur(g[3],"gasLimit"),to:wn(g[4]),value:ur(g[5],"value"),data:(0,hn.Dv)(g[6]),accessList:rs(g[7],"accessList")};return g.length===8||(A.hash=(0,de.w)(w),vi(A,g.slice(8))),A}function Oa(w,g){const A=[rr(w.chainId,"chainId"),rr(w.nonce,"nonce"),rr(w.gasPrice||0,"gasPrice"),rr(w.gasLimit,"gasLimit"),w.to||"0x",rr(w.value,"value"),w.data,ti(w.accessList||[])];return g&&(A.push(rr(g.yParity,"recoveryParam")),A.push((0,ar.ot)(g.r)),A.push((0,ar.ot)(g.s))),(0,hn.zo)(["0x01",(0,ui.e)(A)])}function Al(w){const g=Ys((0,hn.Pw)(w).slice(1));(0,sn.en)(Array.isArray(g)&&(g.length===11||g.length===14),"invalid field count for transaction type: 3","data",(0,hn.Dv)(w));const A={type:3,chainId:ur(g[0],"chainId"),nonce:li(g[1],"nonce"),maxPriorityFeePerGas:ur(g[2],"maxPriorityFeePerGas"),maxFeePerGas:ur(g[3],"maxFeePerGas"),gasPrice:null,gasLimit:ur(g[4],"gasLimit"),to:wn(g[5]),value:ur(g[6],"value"),data:(0,hn.Dv)(g[7]),accessList:rs(g[8],"accessList"),maxFeePerBlobGas:ur(g[9],"maxFeePerBlobGas"),blobVersionedHashes:g[10]};(0,sn.en)(A.to!=null,"invalid address for transaction type: 3","data",w),(0,sn.en)(Array.isArray(A.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",w);for(let z=0;z<A.blobVersionedHashes.length;z++)(0,sn.en)((0,hn.A7)(A.blobVersionedHashes[z],32),`invalid blobVersionedHash at index ${z}: must be length 32`,"data",w);return g.length===11||(A.hash=(0,de.w)(w),vi(A,g.slice(11))),A}function gc(w,g){const A=[rr(w.chainId,"chainId"),rr(w.nonce,"nonce"),rr(w.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rr(w.maxFeePerGas||0,"maxFeePerGas"),rr(w.gasLimit,"gasLimit"),w.to||le.N,rr(w.value,"value"),w.data,ti(w.accessList||[]),rr(w.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Ii(w.blobVersionedHashes||[],"blobVersionedHashes")];return g&&(A.push(rr(g.yParity,"yParity")),A.push((0,ar.ot)(g.r)),A.push((0,ar.ot)(g.s))),(0,hn.zo)(["0x03",(0,ui.e)(A)])}const Xn=class Xn{constructor(){Ze(this,H);Ze(this,h);Ze(this,_);Ze(this,T);Ze(this,B);Ze(this,Z);Ze(this,Ee);Ze(this,et);Ze(this,ut);Ze(this,wt);Ze(this,Nt);Ze(this,It);Ze(this,Xt);Ze(this,An);Q(this,H,null),Q(this,h,null),Q(this,T,0),Q(this,B,lr),Q(this,Z,null),Q(this,Ee,null),Q(this,et,null),Q(this,_,"0x"),Q(this,ut,lr),Q(this,wt,lr),Q(this,Nt,null),Q(this,It,null),Q(this,Xt,null),Q(this,An,null)}get type(){return I(this,H)}set type(g){switch(g){case null:Q(this,H,null);break;case 0:case"legacy":Q(this,H,0);break;case 1:case"berlin":case"eip-2930":Q(this,H,1);break;case 2:case"london":case"eip-1559":Q(this,H,2);break;case 3:case"cancun":case"eip-4844":Q(this,H,3);break;default:(0,sn.en)(!1,"unsupported transaction type","type",g)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const g=I(this,h);return g==null&&this.type===3?le.N:g}set to(g){Q(this,h,g==null?null:(0,ie.K)(g))}get nonce(){return I(this,T)}set nonce(g){Q(this,T,(0,ar.Dx)(g,"value"))}get gasLimit(){return I(this,B)}set gasLimit(g){Q(this,B,(0,ar.yT)(g))}get gasPrice(){const g=I(this,Z);return g==null&&(this.type===0||this.type===1)?lr:g}set gasPrice(g){Q(this,Z,g==null?null:(0,ar.yT)(g,"gasPrice"))}get maxPriorityFeePerGas(){const g=I(this,Ee);return g??(this.type===2||this.type===3?lr:null)}set maxPriorityFeePerGas(g){Q(this,Ee,g==null?null:(0,ar.yT)(g,"maxPriorityFeePerGas"))}get maxFeePerGas(){const g=I(this,et);return g??(this.type===2||this.type===3?lr:null)}set maxFeePerGas(g){Q(this,et,g==null?null:(0,ar.yT)(g,"maxFeePerGas"))}get data(){return I(this,_)}set data(g){Q(this,_,(0,hn.Dv)(g))}get value(){return I(this,ut)}set value(g){Q(this,ut,(0,ar.yT)(g,"value"))}get chainId(){return I(this,wt)}set chainId(g){Q(this,wt,(0,ar.yT)(g))}get signature(){return I(this,Nt)||null}set signature(g){Q(this,Nt,g==null?null:J.P.from(g))}get accessList(){const g=I(this,It)||null;return g??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(g){Q(this,It,g==null?null:(0,ei.z)(g))}get maxFeePerBlobGas(){const g=I(this,Xt);return g==null&&this.type===3?lr:g}set maxFeePerBlobGas(g){Q(this,Xt,g==null?null:(0,ar.yT)(g,"maxFeePerBlobGas"))}get blobVersionedHashes(){let g=I(this,An);return g==null&&this.type===3?[]:g}set blobVersionedHashes(g){if(g!=null){(0,sn.en)(Array.isArray(g),"blobVersionedHashes must be an Array","value",g),g=g.slice();for(let A=0;A<g.length;A++)(0,sn.en)((0,hn.A7)(g[A],32),"invalid blobVersionedHash",`value[${A}]`,g[A])}Q(this,An,g)}get hash(){return this.signature==null?null:(0,de.w)(this.serialized)}get unsignedHash(){return(0,de.w)(this.unsignedSerialized)}get from(){return this.signature==null?null:xs(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:oi.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch((0,sn.hu)(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return Hr(this,this.signature);case 1:return Oa(this,this.signature);case 2:return Wn(this,this.signature);case 3:return gc(this,this.signature)}(0,sn.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return Hr(this);case 1:return Oa(this);case 2:return Wn(this);case 3:return gc(this)}(0,sn.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const g=this.inferTypes();return g.indexOf(2)>=0?2:g.pop()}inferTypes(){const g=this.gasPrice!=null,A=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,z=this.accessList!=null,Ie=I(this,Xt)!=null||I(this,An);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,sn.hu)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,sn.hu)(!A||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,sn.hu)(this.type!==0||!z,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const Ce=[];return this.type!=null?Ce.push(this.type):A?Ce.push(2):g?(Ce.push(1),z||Ce.push(0)):z?(Ce.push(1),Ce.push(2)):(Ie&&this.to||(Ce.push(0),Ce.push(1),Ce.push(2)),Ce.push(3)),Ce.sort(),Ce}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Xn.from(this)}toJSON(){const g=A=>A==null?null:A.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:g(this.gasLimit),gasPrice:g(this.gasPrice),maxPriorityFeePerGas:g(this.maxPriorityFeePerGas),maxFeePerGas:g(this.maxFeePerGas),value:g(this.value),chainId:g(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(g){if(g==null)return new Xn;if(typeof g=="string"){const z=(0,hn.Pw)(g);if(z[0]>=127)return Xn.from(vo(z));switch(z[0]){case 1:return Xn.from(ru(z));case 2:return Xn.from(ni(z));case 3:return Xn.from(Al(z))}(0,sn.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const A=new Xn;return g.type!=null&&(A.type=g.type),g.to!=null&&(A.to=g.to),g.nonce!=null&&(A.nonce=g.nonce),g.gasLimit!=null&&(A.gasLimit=g.gasLimit),g.gasPrice!=null&&(A.gasPrice=g.gasPrice),g.maxPriorityFeePerGas!=null&&(A.maxPriorityFeePerGas=g.maxPriorityFeePerGas),g.maxFeePerGas!=null&&(A.maxFeePerGas=g.maxFeePerGas),g.maxFeePerBlobGas!=null&&(A.maxFeePerBlobGas=g.maxFeePerBlobGas),g.data!=null&&(A.data=g.data),g.value!=null&&(A.value=g.value),g.chainId!=null&&(A.chainId=g.chainId),g.signature!=null&&(A.signature=J.P.from(g.signature)),g.accessList!=null&&(A.accessList=g.accessList),g.blobVersionedHashes!=null&&(A.blobVersionedHashes=g.blobVersionedHashes),g.hash!=null&&((0,sn.en)(A.isSigned(),"unsigned transaction cannot define hash","tx",g),(0,sn.en)(A.hash===g.hash,"hash mismatch","tx",g)),g.from!=null&&((0,sn.en)(A.isSigned(),"unsigned transaction cannot define from","tx",g),(0,sn.en)(A.from.toLowerCase()===(g.from||"").toLowerCase(),"from mismatch","tx",g)),A}};H=new WeakMap,h=new WeakMap,_=new WeakMap,T=new WeakMap,B=new WeakMap,Z=new WeakMap,Ee=new WeakMap,et=new WeakMap,ut=new WeakMap,wt=new WeakMap,Nt=new WeakMap,It=new WeakMap,Xt=new WeakMap,An=new WeakMap;let Do=Xn},86503:function(Zt,ct,D){"use strict";D.d(ct,{A7:function(){return de},Dv:function(){return O},M5:function(){return be},Pw:function(){return le},QB:function(){return P},SK:function(){return $},U3:function(){return j},Zq:function(){return Te},h_:function(){return J},zo:function(){return L}});var x=D(55669);function ie(se,Se,M){if(se instanceof Uint8Array)return M?new Uint8Array(se):se;if(typeof se=="string"&&se.match(/^0x([0-9a-f][0-9a-f])*$/i)){const fe=new Uint8Array((se.length-2)/2);let q=2;for(let ue=0;ue<fe.length;ue++)fe[ue]=parseInt(se.substring(q,q+2),16),q+=2;return fe}(0,x.en)(!1,"invalid BytesLike value",Se||"value",se)}function le(se,Se){return ie(se,Se,!1)}function J(se,Se){return ie(se,Se,!0)}function de(se,Se){return!(typeof se!="string"||!se.match(/^0x[0-9A-Fa-f]*$/)||typeof Se=="number"&&se.length!==2+2*Se||Se===!0&&se.length%2!==0)}function Te(se){return de(se,!0)||se instanceof Uint8Array}const v="0123456789abcdef";function O(se){const Se=le(se);let M="0x";for(let fe=0;fe<Se.length;fe++){const q=Se[fe];M+=v[(q&240)>>4]+v[q&15]}return M}function L(se){return"0x"+se.map(Se=>O(Se).substring(2)).join("")}function be(se){return de(se,!0)?(se.length-2)/2:le(se).length}function P(se,Se,M){const fe=le(se);return M!=null&&M>fe.length&&(0,x.hu)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:fe,length:fe.length,offset:M}),O(fe.slice(Se??0,M??fe.length))}function Ae(se){let Se=O(se).substring(2);for(;Se.startsWith("00");)Se=Se.substring(2);return"0x"+Se}function ae(se,Se,M){const fe=le(se);(0,x.hu)(Se>=fe.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(fe),length:Se,offset:Se+1});const q=new Uint8Array(Se);return q.fill(0),M?q.set(fe,Se-fe.length):q.set(fe,0),O(q)}function j(se,Se){return ae(se,Se,!0)}function $(se,Se){return ae(se,Se,!1)}},55669:function(Zt,ct,D){"use strict";D.d(ct,{hu:function(){return v},en:function(){return O},fG:function(){return L},fA:function(){return P},NK:function(){return Ae},Hl:function(){return de},VZ:function(){return J},wf:function(){return Te}});const x="6.11.1";var ie=D(87410);function le(ae){if(ae==null)return"null";if(Array.isArray(ae))return"[ "+ae.map(le).join(", ")+" ]";if(ae instanceof Uint8Array){const j="0123456789abcdef";let $="0x";for(let se=0;se<ae.length;se++)$+=j[ae[se]>>4],$+=j[ae[se]&15];return $}if(typeof ae=="object"&&typeof ae.toJSON=="function")return le(ae.toJSON());switch(typeof ae){case"boolean":case"symbol":return ae.toString();case"bigint":return BigInt(ae).toString();case"number":return ae.toString();case"string":return JSON.stringify(ae);case"object":{const j=Object.keys(ae);return j.sort(),"{ "+j.map($=>`${le($)}: ${le(ae[$])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function J(ae,j){return ae&&ae.code===j}function de(ae){return J(ae,"CALL_EXCEPTION")}function Te(ae,j,$){let se=ae;{const M=[];if($){if("message"in $||"code"in $||"name"in $)throw new Error(`value will overwrite populated values: ${le($)}`);for(const fe in $){if(fe==="shortMessage")continue;const q=$[fe];M.push(fe+"="+le(q))}}M.push(`code=${j}`),M.push(`version=${x}`),M.length&&(ae+=" ("+M.join(", ")+")")}let Se;switch(j){case"INVALID_ARGUMENT":Se=new TypeError(ae);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":Se=new RangeError(ae);break;default:Se=new Error(ae)}return(0,ie.h)(Se,{code:j}),$&&Object.assign(Se,$),Se.shortMessage==null&&(0,ie.h)(Se,{shortMessage:se}),Se}function v(ae,j,$,se){if(!ae)throw Te(j,$,se)}function O(ae,j,$,se){v(ae,j,"INVALID_ARGUMENT",{argument:$,value:se})}function L(ae,j,$){$==null&&($=""),$&&($=": "+$),v(ae>=j,"missing arguemnt"+$,"MISSING_ARGUMENT",{count:ae,expectedCount:j}),v(ae<=j,"too many arguments"+$,"UNEXPECTED_ARGUMENT",{count:ae,expectedCount:j})}const be=["NFD","NFC","NFKD","NFKC"].reduce((ae,j)=>{try{if("test".normalize(j)!=="test")throw new Error("bad");if(j==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");ae.push(j)}catch{}return ae},[]);function P(ae){v(be.indexOf(ae)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:ae}})}function Ae(ae,j,$){if($==null&&($=""),ae!==j){let se=$,Se="new";$&&(se+=".",Se+=" "+$),v(!1,`private constructor; use ${se}from* methods`,"UNSUPPORTED_OPERATION",{operation:Se})}}},98098:function(Zt,ct,D){"use strict";var re,Be,Ye,pe,V,U,X,me,ke,Ke,nt,ze,De,Fe,at,_t,Pt,En,Md,tn,$n,tr,Gn,_r,Cr;D.d(ct,{gd:function(){return _e}});var x=D(86503);function ie(_n){_n=atob(_n);const Oe=new Uint8Array(_n.length);for(let Mt=0;Mt<_n.length;Mt++)Oe[Mt]=_n.charCodeAt(Mt);return(0,x.Pw)(Oe)}function le(_n){const Oe=(0,x.Pw)(_n);let Mt="";for(let Ht=0;Ht<Oe.length;Ht++)Mt+=String.fromCharCode(Oe[Ht]);return btoa(Mt)}var J=D(55669),de=D(87410),Te=D(3330);function v(_n){async function Oe(Mt,Ht){const Kt=Mt.url.split(":")[0].toLowerCase();(0,J.hu)(Kt==="http"||Kt==="https",`unsupported protocol ${Kt}`,"UNSUPPORTED_OPERATION",{info:{protocol:Kt},operation:"request"}),(0,J.hu)(Kt==="https"||!Mt.credentials||Mt.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let zr;if(Ht){const Je=new AbortController;zr=Je.signal,Ht.addListener(()=>{Je.abort()})}const xn={method:Mt.method,headers:new Headers(Array.from(Mt)),body:Mt.body||void 0,signal:zr},He=await fetch(Mt.url,xn),k={};He.headers.forEach((Je,pt)=>{k[pt.toLowerCase()]=Je});const N=await He.arrayBuffer(),xe=N==null?null:new Uint8Array(N);return{statusCode:He.status,statusMessage:He.statusText,headers:k,body:xe}}return Oe}const O=v({});async function L(_n,Oe){return O(_n,Oe)}const be=12,P=250;let Ae=v();const ae=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),j=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let $=!1;async function se(_n,Oe){try{const Mt=_n.match(ae);if(!Mt)throw new Error("invalid data");return new ee(200,"OK",{"content-type":Mt[1]||"text/plain"},Mt[2]?ie(Mt[3]):oe(Mt[3]))}catch{return new ee(599,"BAD REQUEST (invalid data: URI)",{},null,new _e(_n))}}function Se(_n){async function Oe(Mt,Ht){try{const Kt=Mt.match(j);if(!Kt)throw new Error("invalid link");return new _e(`${_n}${Kt[2]}`)}catch{return new ee(599,"BAD REQUEST (invalid IPFS URI)",{},null,new _e(Mt))}}return Oe}const M={data:se,ipfs:Se("https://gateway.ipfs.io/ipfs/")},fe=new WeakMap;class q{constructor(Oe){Ze(this,re);Ze(this,Be);Q(this,re,[]),Q(this,Be,!1),fe.set(Oe,()=>{if(!I(this,Be)){Q(this,Be,!0);for(const Mt of I(this,re))setTimeout(()=>{Mt()},0);Q(this,re,[])}})}addListener(Oe){(0,J.hu)(!I(this,Be),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),I(this,re).push(Oe)}get cancelled(){return I(this,Be)}checkSignal(){(0,J.hu)(!this.cancelled,"cancelled","CANCELLED",{})}}re=new WeakMap,Be=new WeakMap;function ue(_n){if(_n==null)throw new Error("missing signal; should not happen");return _n.checkSignal(),_n}const zt=class zt{constructor(Oe){Ze(this,En);Ze(this,Ye);Ze(this,pe);Ze(this,V);Ze(this,U);Ze(this,X);Ze(this,me);Ze(this,ke);Ze(this,Ke);Ze(this,nt);Ze(this,ze);Ze(this,De);Ze(this,Fe);Ze(this,at);Ze(this,_t);Ze(this,Pt);Q(this,me,String(Oe)),Q(this,Ye,!1),Q(this,pe,!0),Q(this,V,{}),Q(this,U,""),Q(this,X,3e5),Q(this,_t,{slotInterval:P,maxAttempts:be}),Q(this,Pt,null)}get url(){return I(this,me)}set url(Oe){Q(this,me,String(Oe))}get body(){return I(this,ke)==null?null:new Uint8Array(I(this,ke))}set body(Oe){if(Oe==null)Q(this,ke,void 0),Q(this,Ke,void 0);else if(typeof Oe=="string")Q(this,ke,(0,Te.Y0)(Oe)),Q(this,Ke,"text/plain");else if(Oe instanceof Uint8Array)Q(this,ke,Oe),Q(this,Ke,"application/octet-stream");else if(typeof Oe=="object")Q(this,ke,(0,Te.Y0)(JSON.stringify(Oe))),Q(this,Ke,"application/json");else throw new Error("invalid body")}hasBody(){return I(this,ke)!=null}get method(){return I(this,U)?I(this,U):this.hasBody()?"POST":"GET"}set method(Oe){Oe==null&&(Oe=""),Q(this,U,String(Oe).toUpperCase())}get headers(){const Oe=Object.assign({},I(this,V));return I(this,nt)&&(Oe.authorization=`Basic ${le((0,Te.Y0)(I(this,nt)))}`),this.allowGzip&&(Oe["accept-encoding"]="gzip"),Oe["content-type"]==null&&I(this,Ke)&&(Oe["content-type"]=I(this,Ke)),this.body&&(Oe["content-length"]=String(this.body.length)),Oe}getHeader(Oe){return this.headers[Oe.toLowerCase()]}setHeader(Oe,Mt){I(this,V)[String(Oe).toLowerCase()]=String(Mt)}clearHeaders(){Q(this,V,{})}[Symbol.iterator](){const Oe=this.headers,Mt=Object.keys(Oe);let Ht=0;return{next:()=>{if(Ht<Mt.length){const Kt=Mt[Ht++];return{value:[Kt,Oe[Kt]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return I(this,nt)||null}setCredentials(Oe,Mt){(0,J.en)(!Oe.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Q(this,nt,`${Oe}:${Mt}`)}get allowGzip(){return I(this,pe)}set allowGzip(Oe){Q(this,pe,!!Oe)}get allowInsecureAuthentication(){return!!I(this,Ye)}set allowInsecureAuthentication(Oe){Q(this,Ye,!!Oe)}get timeout(){return I(this,X)}set timeout(Oe){(0,J.en)(Oe>=0,"timeout must be non-zero","timeout",Oe),Q(this,X,Oe)}get preflightFunc(){return I(this,ze)||null}set preflightFunc(Oe){Q(this,ze,Oe)}get processFunc(){return I(this,De)||null}set processFunc(Oe){Q(this,De,Oe)}get retryFunc(){return I(this,Fe)||null}set retryFunc(Oe){Q(this,Fe,Oe)}get getUrlFunc(){return I(this,Pt)||Ae}set getUrlFunc(Oe){Q(this,Pt,Oe)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${I(this,ke)?(0,x.Dv)(I(this,ke)):"null"}>`}setThrottleParams(Oe){Oe.slotInterval!=null&&(I(this,_t).slotInterval=Oe.slotInterval),Oe.maxAttempts!=null&&(I(this,_t).maxAttempts=Oe.maxAttempts)}send(){return(0,J.hu)(I(this,at)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Q(this,at,new q(this)),Ot(this,En,Md).call(this,0,S()+this.timeout,0,this,new ee(0,"",{},null,this))}cancel(){(0,J.hu)(I(this,at)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const Oe=fe.get(this);if(!Oe)throw new Error("missing signal; should not happen");Oe()}redirect(Oe){const Mt=this.url.split(":")[0].toLowerCase(),Ht=Oe.split(":")[0].toLowerCase();(0,J.hu)(this.method==="GET"&&(Mt!=="https"||Ht!=="http")&&Oe.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(Oe)})`});const Kt=new zt(Oe);return Kt.method="GET",Kt.allowGzip=this.allowGzip,Kt.timeout=this.timeout,Q(Kt,V,Object.assign({},I(this,V))),I(this,ke)&&Q(Kt,ke,new Uint8Array(I(this,ke))),Q(Kt,Ke,I(this,Ke)),Kt}clone(){const Oe=new zt(this.url);return Q(Oe,U,I(this,U)),I(this,ke)&&Q(Oe,ke,I(this,ke)),Q(Oe,Ke,I(this,Ke)),Q(Oe,V,Object.assign({},I(this,V))),Q(Oe,nt,I(this,nt)),this.allowGzip&&(Oe.allowGzip=!0),Oe.timeout=this.timeout,this.allowInsecureAuthentication&&(Oe.allowInsecureAuthentication=!0),Q(Oe,ze,I(this,ze)),Q(Oe,De,I(this,De)),Q(Oe,Fe,I(this,Fe)),Q(Oe,Pt,I(this,Pt)),Oe}static lockConfig(){$=!0}static getGateway(Oe){return M[Oe.toLowerCase()]||null}static registerGateway(Oe,Mt){if(Oe=Oe.toLowerCase(),Oe==="http"||Oe==="https")throw new Error(`cannot intercept ${Oe}; use registerGetUrl`);if($)throw new Error("gateways locked");M[Oe]=Mt}static registerGetUrl(Oe){if($)throw new Error("gateways locked");Ae=Oe}static createGetUrlFunc(Oe){return v(Oe)}static createDataGateway(){return se}static createIpfsGatewayFunc(Oe){return Se(Oe)}};Ye=new WeakMap,pe=new WeakMap,V=new WeakMap,U=new WeakMap,X=new WeakMap,me=new WeakMap,ke=new WeakMap,Ke=new WeakMap,nt=new WeakMap,ze=new WeakMap,De=new WeakMap,Fe=new WeakMap,at=new WeakMap,_t=new WeakMap,Pt=new WeakMap,En=new WeakSet,Md=async function(Oe,Mt,Ht,Kt,zr){var xe,Je,pt;if(Oe>=I(this,_t).maxAttempts)return zr.makeServerError("exceeded maximum retry limit");(0,J.hu)(S()<=Mt,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:Kt}),Ht>0&&await F(Ht);let xn=this.clone();const He=(xn.url.split(":")[0]||"").toLowerCase();if(He in M){const ot=await M[He](xn.url,ue(I(Kt,at)));if(ot instanceof ee){let bt=ot;if(this.processFunc){ue(I(Kt,at));try{bt=await this.processFunc(xn,bt)}catch(kt){(kt.throttle==null||typeof kt.stall!="number")&&bt.makeServerError("error in post-processing function",kt).assertOk()}}return bt}xn=ot}this.preflightFunc&&(xn=await this.preflightFunc(xn));const k=await this.getUrlFunc(xn,ue(I(Kt,at)));let N=new ee(k.statusCode,k.statusMessage,k.headers,k.body,Kt);if(N.statusCode===301||N.statusCode===302){try{const ot=N.headers.location||"";return Ot(xe=xn.redirect(ot),En,Md).call(xe,Oe+1,Mt,0,Kt,N)}catch{}return N}else if(N.statusCode===429&&(this.retryFunc==null||await this.retryFunc(xn,N,Oe))){const ot=N.headers["retry-after"];let bt=I(this,_t).slotInterval*Math.trunc(Math.random()*Math.pow(2,Oe));return typeof ot=="string"&&ot.match(/^[1-9][0-9]*$/)&&(bt=parseInt(ot)),Ot(Je=xn.clone(),En,Md).call(Je,Oe+1,Mt,bt,Kt,N)}if(this.processFunc){ue(I(Kt,at));try{N=await this.processFunc(xn,N)}catch(ot){(ot.throttle==null||typeof ot.stall!="number")&&N.makeServerError("error in post-processing function",ot).assertOk();let bt=I(this,_t).slotInterval*Math.trunc(Math.random()*Math.pow(2,Oe));return ot.stall>=0&&(bt=ot.stall),Ot(pt=xn.clone(),En,Md).call(pt,Oe+1,Mt,bt,Kt,N)}}return N};let _e=zt;const nr=class nr{constructor(Oe,Mt,Ht,Kt,zr){Ze(this,tn);Ze(this,$n);Ze(this,tr);Ze(this,Gn);Ze(this,_r);Ze(this,Cr);Q(this,tn,Oe),Q(this,$n,Mt),Q(this,tr,Object.keys(Ht).reduce((xn,He)=>(xn[He.toLowerCase()]=String(Ht[He]),xn),{})),Q(this,Gn,Kt==null?null:new Uint8Array(Kt)),Q(this,_r,zr||null),Q(this,Cr,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${I(this,Gn)?(0,x.Dv)(I(this,Gn)):"null"}>`}get statusCode(){return I(this,tn)}get statusMessage(){return I(this,$n)}get headers(){return Object.assign({},I(this,tr))}get body(){return I(this,Gn)==null?null:new Uint8Array(I(this,Gn))}get bodyText(){try{return I(this,Gn)==null?"":(0,Te.ZN)(I(this,Gn))}catch{(0,J.hu)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,J.hu)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const Oe=this.headers,Mt=Object.keys(Oe);let Ht=0;return{next:()=>{if(Ht<Mt.length){const Kt=Mt[Ht++];return{value:[Kt,Oe[Kt]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(Oe,Mt){let Ht;Oe?Ht=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${Oe})`:(Oe=`${this.statusCode} ${this.statusMessage}`,Ht=`CLIENT ESCALATED SERVER ERROR (${Oe})`);const Kt=new nr(599,Ht,this.headers,this.body,I(this,_r)||void 0);return Q(Kt,Cr,{message:Oe,error:Mt}),Kt}throwThrottleError(Oe,Mt){Mt==null?Mt=-1:(0,J.en)(Number.isInteger(Mt)&&Mt>=0,"invalid stall timeout","stall",Mt);const Ht=new Error(Oe||"throttling requests");throw(0,de.h)(Ht,{stall:Mt,throttle:!0}),Ht}getHeader(Oe){return this.headers[Oe.toLowerCase()]}hasBody(){return I(this,Gn)!=null}get request(){return I(this,_r)}ok(){return I(this,Cr).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:Oe,error:Mt}=I(this,Cr);Oe===""&&(Oe=`server response ${this.statusCode} ${this.statusMessage}`);let Ht=null;this.request&&(Ht=this.request.url);let Kt=null;try{I(this,Gn)&&(Kt=(0,Te.ZN)(I(this,Gn)))}catch{}(0,J.hu)(!1,Oe,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:Mt,info:{requestUrl:Ht,responseBody:Kt,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};tn=new WeakMap,$n=new WeakMap,tr=new WeakMap,Gn=new WeakMap,_r=new WeakMap,Cr=new WeakMap;let ee=nr;function S(){return new Date().getTime()}function oe(_n){return(0,Te.Y0)(_n.replace(/%([0-9a-f][0-9a-f])/gi,(Oe,Mt)=>String.fromCharCode(parseInt(Mt,16))))}function F(_n){return new Promise(Oe=>setTimeout(Oe,_n))}},94295:function(Zt,ct,D){"use strict";D.d(ct,{$j:function(){return v},B4:function(){return Se},Dx:function(){return ae},Gh:function(){return Ae},He:function(){return j},_Y:function(){return Te},m9:function(){return $},ot:function(){return se},sS:function(){return O},yT:function(){return L}});var x=D(86503),ie=D(55669);const le=BigInt(0),J=BigInt(1),de=9007199254740991;function Te(M,fe){const q=be(M,"value"),ue=BigInt(ae(fe,"width"));if((0,ie.hu)(q>>ue===le,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:M}),q>>ue-J){const _e=(J<<ue)-J;return-((~q&_e)+J)}return q}function v(M,fe){let q=L(M,"value");const ue=BigInt(ae(fe,"width")),_e=J<<ue-J;if(q<le){q=-q,(0,ie.hu)(q<=_e,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:M});const ee=(J<<ue)-J;return(~q&ee)+J}else(0,ie.hu)(q<_e,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:M});return q}function O(M,fe){const q=be(M,"value"),ue=BigInt(ae(fe,"bits"));return q&(J<<ue)-J}function L(M,fe){switch(typeof M){case"bigint":return M;case"number":return(0,ie.en)(Number.isInteger(M),"underflow",fe||"value",M),(0,ie.en)(M>=-de&&M<=de,"overflow",fe||"value",M),BigInt(M);case"string":try{if(M==="")throw new Error("empty string");return M[0]==="-"&&M[1]!=="-"?-BigInt(M.substring(1)):BigInt(M)}catch(q){(0,ie.en)(!1,`invalid BigNumberish string: ${q.message}`,fe||"value",M)}}(0,ie.en)(!1,"invalid BigNumberish value",fe||"value",M)}function be(M,fe){const q=L(M,fe);return(0,ie.hu)(q>=le,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:M}),q}const P="0123456789abcdef";function Ae(M){if(M instanceof Uint8Array){let fe="0x0";for(const q of M)fe+=P[q>>4],fe+=P[q&15];return BigInt(fe)}return L(M)}function ae(M,fe){switch(typeof M){case"bigint":return(0,ie.en)(M>=-de&&M<=de,"overflow",fe||"value",M),Number(M);case"number":return(0,ie.en)(Number.isInteger(M),"underflow",fe||"value",M),(0,ie.en)(M>=-de&&M<=de,"overflow",fe||"value",M),M;case"string":try{if(M==="")throw new Error("empty string");return ae(BigInt(M),fe)}catch(q){(0,ie.en)(!1,`invalid numeric string: ${q.message}`,fe||"value",M)}}(0,ie.en)(!1,"invalid numeric value",fe||"value",M)}function j(M){return ae(Ae(M))}function $(M,fe){let ue=be(M,"value").toString(16);if(fe==null)ue.length%2&&(ue="0"+ue);else{const _e=ae(fe,"width");for((0,ie.hu)(_e*2>=ue.length,`value exceeds width (${_e} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:M});ue.length<_e*2;)ue="0"+ue}return"0x"+ue}function se(M){const fe=be(M,"value");if(fe===le)return new Uint8Array([]);let q=fe.toString(16);q.length%2&&(q="0"+q);const ue=new Uint8Array(q.length/2);for(let _e=0;_e<ue.length;_e++){const ee=_e*2;ue[_e]=parseInt(q.substring(ee,ee+2),16)}return ue}function Se(M){let fe=(0,x.Dv)((0,x.Zq)(M)?M:se(M)).substring(2);for(;fe.startsWith("0");)fe=fe.substring(1);return fe===""&&(fe="0"),"0x"+fe}},87410:function(Zt,ct,D){"use strict";D.d(ct,{h:function(){return le},m:function(){return ie}});function x(J,de,Te){const v=de.split("|").map(L=>L.trim());for(let L=0;L<v.length;L++)switch(de){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof J===de)return}const O=new Error(`invalid value for type ${de}`);throw O.code="INVALID_ARGUMENT",O.argument=`value.${Te}`,O.value=J,O}async function ie(J){const de=Object.keys(J);return(await Promise.all(de.map(v=>Promise.resolve(J[v])))).reduce((v,O,L)=>(v[de[L]]=O,v),{})}function le(J,de,Te){for(let v in de){let O=de[v];const L=Te?Te[v]:null;L&&x(O,L,v),Object.defineProperty(J,v,{enumerable:!0,value:O,writable:!1})}}},45801:function(Zt,ct,D){"use strict";D.d(ct,{e:function(){return de}});var x=D(86503);function ie(Te){const v=[];for(;Te;)v.unshift(Te&255),Te>>=8;return v}function le(Te){if(Array.isArray(Te)){let L=[];if(Te.forEach(function(P){L=L.concat(le(P))}),L.length<=55)return L.unshift(192+L.length),L;const be=ie(L.length);return be.unshift(247+be.length),be.concat(L)}const v=Array.prototype.slice.call((0,x.Pw)(Te,"object"));if(v.length===1&&v[0]<=127)return v;if(v.length<=55)return v.unshift(128+v.length),v;const O=ie(v.length);return O.unshift(183+O.length),O.concat(v)}const J="0123456789abcdef";function de(Te){let v="0x";for(const O of le(Te))v+=J[O>>4],v+=J[O&15];return v}},3330:function(Zt,ct,D){"use strict";D.d(ct,{Y0:function(){return O},ZN:function(){return be}});var x=D(86503),ie=D(55669);function le(Ae,ae,j,$,se){(0,ie.en)(!1,`invalid codepoint at offset ${ae}; ${Ae}`,"bytes",j)}function J(Ae,ae,j,$,se){if(Ae==="BAD_PREFIX"||Ae==="UNEXPECTED_CONTINUE"){let Se=0;for(let M=ae+1;M<j.length&&j[M]>>6===2;M++)Se++;return Se}return Ae==="OVERRUN"?j.length-ae-1:0}function de(Ae,ae,j,$,se){return Ae==="OVERLONG"?((0,ie.en)(typeof se=="number","invalid bad code point for replacement","badCodepoint",se),$.push(se),0):($.push(65533),J(Ae,ae,j,$,se))}const Te=Object.freeze({error:le,ignore:J,replace:de});function v(Ae,ae){ae==null&&(ae=Te.error);const j=(0,x.Pw)(Ae,"bytes"),$=[];let se=0;for(;se<j.length;){const Se=j[se++];if(!(Se>>7)){$.push(Se);continue}let M=null,fe=null;if((Se&224)===192)M=1,fe=127;else if((Se&240)===224)M=2,fe=2047;else if((Se&248)===240)M=3,fe=65535;else{(Se&192)===128?se+=ae("UNEXPECTED_CONTINUE",se-1,j,$):se+=ae("BAD_PREFIX",se-1,j,$);continue}if(se-1+M>=j.length){se+=ae("OVERRUN",se-1,j,$);continue}let q=Se&(1<<8-M-1)-1;for(let ue=0;ue<M;ue++){let _e=j[se];if((_e&192)!=128){se+=ae("MISSING_CONTINUE",se,j,$),q=null;break}q=q<<6|_e&63,se++}if(q!==null){if(q>1114111){se+=ae("OUT_OF_RANGE",se-1-M,j,$,q);continue}if(q>=55296&&q<=57343){se+=ae("UTF16_SURROGATE",se-1-M,j,$,q);continue}if(q<=fe){se+=ae("OVERLONG",se-1-M,j,$,q);continue}$.push(q)}}return $}function O(Ae,ae){(0,ie.en)(typeof Ae=="string","invalid string value","str",Ae),ae!=null&&((0,ie.fA)(ae),Ae=Ae.normalize(ae));let j=[];for(let $=0;$<Ae.length;$++){const se=Ae.charCodeAt($);if(se<128)j.push(se);else if(se<2048)j.push(se>>6|192),j.push(se&63|128);else if((se&64512)==55296){$++;const Se=Ae.charCodeAt($);(0,ie.en)($<Ae.length&&(Se&64512)===56320,"invalid surrogate pair","str",Ae);const M=65536+((se&1023)<<10)+(Se&1023);j.push(M>>18|240),j.push(M>>12&63|128),j.push(M>>6&63|128),j.push(M&63|128)}else j.push(se>>12|224),j.push(se>>6&63|128),j.push(se&63|128)}return new Uint8Array(j)}function L(Ae){return Ae.map(ae=>ae<=65535?String.fromCharCode(ae):(ae-=65536,String.fromCharCode((ae>>10&1023)+55296,(ae&1023)+56320))).join("")}function be(Ae,ae){return L(v(Ae,ae))}function P(Ae,ae){return v(O(Ae,ae))}},12779:function(Zt,ct,D){"use strict";D.d(ct,{h:function(){return ie}});var x=D(92950);class ie extends x.G{constructor(J){const{docsPath:de,field:Te,metaMessages:v}=J;super(`Invalid Sign-In with Ethereum message field "${Te}".`,{docsPath:de,metaMessages:v,name:"SiweInvalidMessageFieldError"})}}},21419:function(Zt,ct,D){"use strict";D.d(ct,{e:function(){return de}});var x=D(12779),ie=D(78951);function le(P){if(/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(P)||/%[^0-9a-f]/i.test(P)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(P))return!1;const Ae=J(P),ae=Ae[1],j=Ae[2],$=Ae[3],se=Ae[4],Se=Ae[5];if(!(ae!=null&&ae.length&&$.length>=0))return!1;if(j!=null&&j.length){if(!($.length===0||/^\//.test($)))return!1}else if(/^\/\//.test($))return!1;if(!/^[a-z][a-z0-9\+\-\.]*$/.test(ae.toLowerCase()))return!1;let M="";return M+=`${ae}:`,j!=null&&j.length&&(M+=`//${j}`),M+=$,se!=null&&se.length&&(M+=`?${se}`),Se!=null&&Se.length&&(M+=`#${Se}`),M}function J(P){return P.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)}function de(P){const{chainId:Ae,domain:ae,expirationTime:j,issuedAt:$=new Date,nonce:se,notBefore:Se,requestId:M,resources:fe,scheme:q,uri:ue,version:_e}=P;{if(Ae!==Math.floor(Ae))throw new x.h({field:"chainId",metaMessages:["- Chain ID must be a EIP-155 chain ID.","- See https://eips.ethereum.org/EIPS/eip-155","",`Provided value: ${Ae}`]});if(!(Te.test(ae)||v.test(ae)||O.test(ae)))throw new x.h({field:"domain",metaMessages:["- Domain must be an RFC 3986 authority.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${ae}`]});if(!L.test(se))throw new x.h({field:"nonce",metaMessages:["- Nonce must be at least 8 characters.","- Nonce must be alphanumeric.","",`Provided value: ${se}`]});if(!le(ue))throw new x.h({field:"uri",metaMessages:["- URI must be a RFC 3986 URI referring to the resource that is the subject of the signing.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${ue}`]});if(_e!=="1")throw new x.h({field:"version",metaMessages:["- Version must be '1'.","",`Provided value: ${_e}`]});if(q&&!be.test(q))throw new x.h({field:"scheme",metaMessages:["- Scheme must be an RFC 3986 URI scheme.","- See https://www.rfc-editor.org/rfc/rfc3986#section-3.1","",`Provided value: ${q}`]});const Be=P.statement;if(Be!=null&&Be.includes(`
`))throw new x.h({field:"statement",metaMessages:["- Statement must not include '\\n'.","",`Provided value: ${Be}`]})}const ee=(0,ie.K)(P.address),S=q?`${q}://${ae}`:ae,oe=P.statement?`${P.statement}
`:"",F=`${S} wants you to sign in with your Ethereum account:
${ee}

${oe}`;let re=`URI: ${ue}
Version: ${_e}
Chain ID: ${Ae}
Nonce: ${se}
Issued At: ${$.toISOString()}`;if(j&&(re+=`
Expiration Time: ${j.toISOString()}`),Se&&(re+=`
Not Before: ${Se.toISOString()}`),M&&(re+=`
Request ID: ${M}`),fe){let Be=`
Resources:`;for(const Ye of fe){if(!le(Ye))throw new x.h({field:"resources",metaMessages:["- Every resource must be a RFC 3986 URI.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${Ye}`]});Be+=`
- ${Ye}`}re+=Be}return`${F}
${re}`}const Te=/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}(:[0-9]{1,5})?$/,v=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:[0-9]{1,5})?$/,O=/^localhost(:[0-9]{1,5})?$/,L=/^[a-zA-Z0-9]{8,}$/,be=/^([a-zA-Z][a-zA-Z0-9+-.]*)$/},74093:function(Zt,ct,D){"use strict";D.d(ct,{BvB:function(){return g1}});var x={};D.r(x),D.d(x,{abiSchemaToJsonSchema:function(){return Iu},codePointToInt:function(){return Pu},ensureIfUint8Array:function(){return Xl},ethAbiToJsonSchema:function(){return Lc},fetchArrayElement:function(){return Su},hexToNumber:function(){return ga},hexToUint8Array:function(){return Xa},numberToHex:function(){return Ru},padLeft:function(){return Cu},parseBaseType:function(){return Ja},transformJsonDataToAbiFormat:function(){return Fc},uint8ArrayToHexString:function(){return so}});var ie={};D.r(ie),D.d(ie,{isBatchRequest:function(){return Gi},isBatchResponse:function(){return oc},isResponseRpcError:function(){return ld},isResponseWithError:function(){return ea},isResponseWithNotification:function(){return ju},isResponseWithResult:function(){return Yo},isSubscriptionResult:function(){return nh},isValidResponse:function(){return dd},setRequestIdStart:function(){return rh},toBatchPayload:function(){return fd},toPayload:function(){return _a},validateResponse:function(){return Gu}});var le={};D.r(le),D.d(le,{ChunkResponseParser:function(){return hd},Eip1193Provider:function(){return pd},EventEmitter:function(){return sd},SocketProvider:function(){return oh},Web3DeferredPromise:function(){return Ku},asciiToHex:function(){return bm},bytesToHex:function(){return sr},bytesToUint8Array:function(){return zs},checkAddressCheckSum:function(){return xm},compareBlockNumbers:function(){return Cm},convert:function(){return Du},convertScalarValue:function(){return Wc},encodePacked:function(){return Co},ethUnitMap:function(){return Ou},format:function(){return At},fromAscii:function(){return Hc},fromDecimal:function(){return Bu},fromTwosComplement:function(){return Nm},fromUtf8:function(){return Zo},fromWei:function(){return wm},getStorageSlotNumForLongString:function(){return od},hexToAscii:function(){return Hf},hexToBytes:function(){return mr},hexToNumber:function(){return ki},hexToNumberString:function(){return gm},hexToString:function(){return vm},hexToUtf8:function(){return Mu},isAddress:function(){return Tm},isBatchRequest:function(){return Gi},isBatchResponse:function(){return oc},isBloom:function(){return Im},isContractAddressInBloom:function(){return nc},isContractInitOptions:function(){return qo},isDataFormat:function(){return co},isHex:function(){return Am},isHexStrict:function(){return Em},isInBloom:function(){return jc},isNullish:function(){return kn},isPromise:function(){return uo},isResponseRpcError:function(){return ld},isResponseWithError:function(){return ea},isResponseWithNotification:function(){return ju},isResponseWithResult:function(){return Yo},isSubscriptionResult:function(){return nh},isTopic:function(){return Pm},isTopicInBloom:function(){return Rm},isUint8Array:function(){return Qo},isUserEthereumAddressInBloom:function(){return Sm},isValidResponse:function(){return dd},jsonRpc:function(){return ie},keccak256:function(){return rc},keccak256Wrapper:function(){return rc},leftPad:function(){return Gc},mergeDeep:function(){return Jo},numberToHex:function(){return fr},padLeft:function(){return ao},padRight:function(){return Vf},pollTillDefined:function(){return Om},pollTillDefinedAndReturnIntervalId:function(){return Uu},processSolidityEncodePackedArgs:function(){return Xf},randomBytes:function(){return Xo},randomHex:function(){return ad},rejectIfConditionAtInterval:function(){return th},rejectIfTimeout:function(){return ud},rightPad:function(){return zf},setRequestIdStart:function(){return rh},sha3:function(){return sc},sha3Raw:function(){return Ai},soliditySha3:function(){return Lu},soliditySha3Raw:function(){return Yf},stringToHex:function(){return ym},toAscii:function(){return ba},toBatchPayload:function(){return fd},toBigInt:function(){return wa},toBool:function(){return jf},toChecksumAddress:function(){return oo},toDecimal:function(){return Ff},toHex:function(){return Ro},toNumber:function(){return Ks},toPayload:function(){return _a},toTwosComplement:function(){return Kf},toUtf8:function(){return Uf},toWei:function(){return _m},uint8ArrayConcat:function(){return si},uint8ArrayEquals:function(){return ku},utf8ToBytes:function(){return rd},utf8ToHex:function(){return fi},uuidV4:function(){return Hu},validateResponse:function(){return Gu},waitWithTimeout:function(){return cd}});var J={};D.r(J),D.d(J,{dQ:function(){return jm},ci:function(){return tl},bytesToNumberBE:function(){return Kc},ty:function(){return Um},eV:function(){return bd},n$:function(){return Qg},ql:function(){return No},hexToBytes:function(){return nl},_t:function(){return na},tL:function(){return rl},S5:function(){return Hm},FF:function(){return wd}});var de={};D.r(de),D.d(de,{secp256k1:function(){return _h}});var Te;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(Te||(Te={}));var v;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(v||(v={}));const O={number:Te.BIGINT,bytes:v.HEX},L={number:Te.HEX,bytes:v.HEX};var be;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(be||(be={}));var P;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(P||(P={}));const Ae=Object.getPrototypeOf(Uint8Array);var ae=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const j=Symbol.for("web3/base-provider");class ${static isWeb3Provider(e){return e instanceof $||!!(e&&e[j])}get[j](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return ae(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(s){return ae(this,void 0,void 0,function*(){return(yield n(s)).result})},e.asEIP1193Provider=void 0,e}}class se extends Array{constructor(e){super(),this._accountProvider=e}}const Se=100,M=101,fe=200,q=201,ue=202,_e=203,ee=204,S=205,oe=206,F=207,re=208,Be=300,Ye=301,pe=302,V=303,U=304,X=305,me=306,ke=307,Ke=308,nt=309,ze=310,De=311,Fe=400,at=401,_t=402,Pt=403,En=404,wr=405,zt=406,tn=407,$n=408,tr=409,Gn=410,_r=411,Cr=412,nr=413,_n=414,Oe=415,Mt=416,Ht=417,Kt=418,zr=419,xn=420,He=421,k=422,N=423,xe=424,Je=425,pt=426,ot=427,bt=428,kt=429,In=430,Qn=431,ys=432,Os=433,ns=434,Zs=435,ir=436,hs=437,as=438,Es=439,vs=440,Gr=441,qs=500,ka=501,Js=502,ps=503,mt=504,he=505,W=506,te=507,rt=600,ht=601,Bt=602,en=603,Tt=604,Ln=701,Fn=702,Er=703,Xs=704,Ki=705,Mo=706,$i=707,oa=708,go=709,xi=801,Ss=802,ii="0x0",ge=4001,$e=4100,Qe=4200,lt=4900,it=4901,vt=901,Et=902,Dt=903,Nn=1001,or=1002,fn=1003,Hn=1004,On=1005,pr=1006,Jr=1007,Fr=1008,Kr=1009,Bs=1010,Ti=1011,Ps=1012,Ms=1013,Ur=1014,sn=1015,hn=1100,ar=1101,oi=1102,ai=1200,As=-32700,ci=-32600,gi=-32601,Ys=-32602,ui=-32603,ei=-32e3,Hs=-32001,xs=-32002,lr=-32003,yo=-32004,yi=-32005,aa=-32006;class yn extends Error{get innerError(){return this.cause instanceof $r?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new $r(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new $r(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(s,i)=>typeof i=="bigint"?i.toString():i);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class $r extends yn{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=re,this.errors=e}}class wn extends yn{constructor(e,n){super(`Invalid value given "${yn.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class rs extends yn{constructor(){super("Private key must be 32 bytes."),this.code=Ln}}class li extends yn{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=Fn}}class ur extends yn{constructor(e){super(`"${e}"`),this.code=Ss}}class rr extends yn{constructor(){super("Invalid key derivation function"),this.code=Er}}class ti extends yn{constructor(){super("Key derivation failed - possibly wrong password"),this.code=Xs}}class Ii extends yn{constructor(){super("Unsupported key store version"),this.code=Ki}}class vo extends yn{constructor(){super("Password cannot be empty"),this.code=Mo}}class Hr extends yn{constructor(){super("Initialization vector must be 16 bytes"),this.code=$i}}class vi extends yn{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=go}}class ni extends yn{constructor(e,n){super(e),this.code=qs,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class Wn extends null{constructor(e,n){super(`CONNECTION ERROR: Couldn't connect to node ${e}.`,n),this.host=e,this.code=ERR_CONN_INVALID}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{host:this.host})}}class ru extends null{constructor(e){super(`CONNECTION TIMEOUT: timeout of ${e}ms achieved`),this.duration=e,this.code=ERR_CONN_TIMEOUT}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{duration:this.duration})}}class Oa extends ni{constructor(e){super("Connection not open",e),this.code=ps}}class Al extends null{constructor(e){var n,r;super(`CONNECTION ERROR: The connection got closed with the close code ${(n=e==null?void 0:e.code)!==null&&n!==void 0?n:""} and the following reason string ${(r=e==null?void 0:e.reason)!==null&&r!==void 0?r:""}`,e),this.code=ERR_CONN_CLOSE}}class gc extends ni{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=he}}class Do extends ni{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=W}}class Si extends ni{constructor(e){super(`Request already sent with following id: ${e}`),this.code=te}}class ss extends yn{constructor(e,n){super(e),this.code=Be,this.receipt=n}}class H extends yn{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=Ye}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class h extends null{constructor(){super("You must provide the json interface of the contract when instantiating a contract object."),this.code=ERR_CONTRACT_ABI_MISSING}}class _ extends null{constructor(){super("Once requires a callback as the second parameter."),this.code=ERR_CONTRACT_REQUIRED_CALLBACK}}class T extends null{constructor(e){super(`Event "${e}" doesn't exist in this contract.`),this.eventName=e,this.code=ERR_CONTRACT_EVENT_NOT_EXISTS}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{eventName:this.eventName})}}class B extends null{constructor(e){super(`Event "${e}" doesn't exist in this contract.`),this.type=e,this.code=ERR_CONTRACT_RESERVED_EVENT}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}class Z extends null{constructor(){super('No "data" specified in neither the given options, nor the default options.'),this.code=ERR_CONTRACT_MISSING_DEPLOY_DATA}}class Ee extends null{constructor(){super("This contract object doesn't have address set yet, please set an address first."),this.code=ERR_CONTRACT_MISSING_ADDRESS}}class et extends null{constructor(){super('No "from" address specified in neither the given options, nor the default options.'),this.code=ERR_CONTRACT_MISSING_FROM_ADDRESS}}class ut extends null{constructor(){super(...arguments),this.code=ERR_CONTRACT_INSTANTIATION}}class wt extends ss{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new wt(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class Nt extends ss{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=ze,this.cause=new wt(e)}}class It extends wn{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=De}}class Xt extends null{constructor(e){super(`ENS resolver check interface support error. "${e}"`),this.code=ERR_ENS_CHECK_INTERFACE_SUPPORT}}class An extends yn{constructor(e){super(`ENS is not supported on network ${e}`),this.code=Et}}class Xn extends yn{constructor(){super("Network not synced"),this.code=Dt}}class w extends null{constructor(e,n,r){super(`Invalid number of parameters for "${r}". Got "${e}" expected "${n}"!`),this.got=e,this.expected=n,this.method=r,this.code=ERR_PARAM}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{got:this.got,expected:this.expected,method:this.method})}}class g extends yn{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=F}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class A extends yn{constructor(){super(...arguments),this.code=q}}class z extends yn{constructor(){super("The method you're trying to call is not implemented."),this.code=ue}}class Ie extends yn{constructor(){super(...arguments),this.code=_e}}class Ce extends yn{constructor(){super(...arguments),this.code=ee}}class Ge extends yn{constructor(e,n){super(e),this.code=S,this.props=n??{}}}class tt extends yn{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=oe}}class st extends yn{constructor(){super(...arguments),this.code=rt}}class gt extends null{constructor(e){super(`Provider with url "${e}" is not set or invalid`),this.clientUrl=e,this.code=ERR_INVALID_PROVIDER}}class $t extends yn{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=Bt}}class dt extends yn{constructor(){super(...arguments),this.code=en}}class Sn extends yn{constructor(){super(...arguments),this.code=Tt}}class Vn extends wn{constructor(){super(...arguments),this.code=xi}}class ln extends yn{constructor(e,n){super(e),this.receipt=n,this.code=Fe}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class Rt extends null{constructor(e,n){super(`Your request got reverted with the following reason string: ${e}`),this.reason=e,this.signature=n,this.code=ERR_TX_REVERT_INSTRUCTION}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature})}}class Ut extends yn{constructor(e,n,r,s){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${yn.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=s,this.code=_t}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class Wt extends Ut{constructor(e,n,r,s,i,a,c){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=s,this.signature=i,this.receipt=a,this.data=c,this.code=as}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class cn extends null{constructor(e){super("The transaction receipt didn't contain a contract address.",e),this.code=ERR_TX_NO_CONTRACT_ADDRESS}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class bn extends null{constructor(e){super("The contract code couldn't be stored, please check your gas limit.",e),this.code=ERR_TX_CONTRACT_NOT_STORED}}class Dn extends ln{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${yn.convertToString(e)}`}`,e),this.code=wr}}class Zn extends null{constructor(e){super(`Transaction ran out of gas. Please provide more gas:
 ${JSON.stringify(e,void 0,2)}`,e),this.code=ERR_TX_OUT_OF_GAS}}class pn extends ln{constructor(){super("Raw transaction undefined"),this.code=tn}}class Pn extends ln{constructor(){super("Transaction not found"),this.code=In}}class Un extends wn{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=$n}}class Rs extends wn{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=hs}}class Wr extends null{constructor(e){super(e,"invalid transaction call"),this.code=ERR_TX_INVALID_CALL}}class Nr extends wn{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=Gn}}class js extends wn{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=_r}}class Gs extends wn{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=Cr}}class bo extends wn{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=Zs}}class Vt extends wn{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=ir}}class un extends wn{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=nr}}class Yn extends wn{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=_n}}class Vr extends yn{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=vs}}class Mr extends wn{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,'"gas" is missing'),this.code=Oe,this.cause=new Vr}}class Or extends yn{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=Gr}}class jr extends wn{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=ns,this.cause=new Or}}class Cs extends wn{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=Mt}}class bi extends wn{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=Ht}}class Ds extends wn{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=Kt}}class wo extends wn{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=zr}}class ca extends wn{constructor(e){super(e,"invalid transaction object"),this.code=xn}}class Pi extends wn{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=He}}class wi extends wn{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=k}}class Ls extends wn{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=N}}class di extends wn{constructor(e){super(e,"unsupported transaction type"),this.code=xe}}class ua extends wn{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=Je}}class Qi extends yn{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=Qn}}function ms(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class Mi extends yn{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${ms(e.transactionHash)}`),this.code=pt}}class yc extends yn{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${ms(e.transactionHash)}`),this.code=ys}}class su extends wn{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=ot}}class xl extends wn{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=bt}}class Tl extends yn{constructor(e){super(`Invalid signature. "${e}"`),this.code=Os}}class Dd extends wn{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=kt}}class iu extends yn{constructor(e,n){const r=[];e.forEach(s=>r.push(s.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=Es}}class Ba extends wn{constructor(e){super(e,"can not parse as byte data"),this.code=or}}class ou extends wn{constructor(e){super(e,"can not parse as number data"),this.code=fn}}class Ma extends wn{constructor(e){super(e,"invalid ethereum address"),this.code=On}}class Ld extends wn{constructor(e){super(e,"not a valid string"),this.code=Nn}}class Fd extends wn{constructor(e){super(e,"invalid unit"),this.code=Hn}}class la extends wn{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=sn}}class sp extends wn{constructor(e){super(e,"can not be converted to hex"),this.code=pr}}class Ud extends wn{constructor(e){super(e,"value greater than the nibble width"),this.code=Ur}}class fb extends null{constructor(e){super(e,"invalid type, type not supported"),this.code=ERR_INVALID_TYPE}}class Il extends wn{constructor(e){super(e,"not a valid boolean."),this.code=Fr}}class Hd extends wn{constructor(e){super(e,"not a valid unsigned integer."),this.code=Kr}}class Sl extends wn{constructor(e){super(e,"invalid size given."),this.code=Bs}}class jd extends wn{constructor(e){super(e,"value is larger than size."),this.code=Ti}}class Gd extends wn{constructor(e){super(e,"invalid string given"),this.code=Ps}}class lg extends null{constructor(e){super(e,"components found but type is not tuple"),this.code=ERR_INVALID_TYPE_ABI}}const dg=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),Wd=t=>dg(t)?t.error.message:"";class Zi extends yn{constructor(e,n,r,s){var i;super(n??`Returned error: ${Array.isArray(e)?e.map(c=>Wd(c)).join(","):Wd(e)}`),this.code=Se,n||(this.data=Array.isArray(e)?e.map(c=>{var p;return(p=c.error)===null||p===void 0?void 0:p.data}):(i=e==null?void 0:e.error)===null||i===void 0?void 0:i.data),this.statusCode=s,this.request=r;let a;"error"in e?a=e.error:e instanceof Array&&(a=e.filter(c=>c.error).map(c=>c.error)),Array.isArray(a)&&a.length>0?this.cause=new $r(a):this.cause=a}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class au extends Zi{constructor(e,n){super(e,void 0,n),this.code=M;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(s=>s.error)),Array.isArray(r)?this.cause=new $r(r):this.cause=r}}class Vd extends yn{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=ar}}class zd extends yn{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=ar}}const da="An Rpc error has occured with a code of *code*",Dr={[As]:{message:"Parse error",description:"Invalid JSON"},[ci]:{message:"Invalid request",description:"JSON is not a valid request object	"},[gi]:{message:"Method not found",description:"Method does not exist	"},[Ys]:{message:"Invalid params",description:"Invalid method parameters"},[ui]:{message:"Internal error",description:"Internal JSON-RPC error"},[ei]:{message:"Invalid input",description:"Missing or invalid parameters"},[Hs]:{message:"Resource not found",description:"Requested resource not found"},[xs]:{message:"Resource unavailable",description:"Requested resource not available"},[lr]:{message:"Transaction rejected",description:"Transaction creation failed"},[yo]:{message:"Method not supported",description:"Method is not implemented"},[yi]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[aa]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[ge]:{name:"User Rejected Request",message:"The user rejected the request."},[$e]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[Qe]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[lt]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[it]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class gs extends yn{constructor(e,n){super(n??da.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class Kd extends yn{constructor(e,n){var r,s,i,a;if(!e)super();else if(!((r=Dr[e])===null||r===void 0)&&r.message)super(Dr[e].message);else{const c=Object.keys(Dr).find(p=>typeof p=="string"&&e>=parseInt(p.split("-")[0],10)&&e<=parseInt(p.split("-")[1],10));super((i=(s=Dr[c??""])===null||s===void 0?void 0:s.message)!==null&&i!==void 0?i:da.replace("*code*",(a=e==null?void 0:e.toString())!==null&&a!==void 0?a:'""'))}this.code=e,this.data=n}}class Di extends gs{constructor(e){super(e,Dr[As].message),this.code=As}}class qi extends gs{constructor(e){super(e,Dr[ci].message),this.code=ci}}class $d extends gs{constructor(e){super(e,Dr[gi].message),this.code=gi}}class vc extends gs{constructor(e){super(e,Dr[Ys].message),this.code=Ys}}class ip extends gs{constructor(e){super(e,Dr[ui].message),this.code=ui}}class cu extends gs{constructor(e){super(e,Dr[ei].message),this.code=ei}}class Pl extends gs{constructor(e){super(e,Dr[yo].message),this.code=yo}}class op extends gs{constructor(e){super(e,Dr[xs].message),this.code=xs}}class Rl extends gs{constructor(e){super(e,Dr[Hs].message),this.code=Hs}}class Da extends gs{constructor(e){super(e,Dr[aa].message),this.code=aa}}class Li extends gs{constructor(e){super(e,Dr[lr].message),this.code=lr}}class uu extends gs{constructor(e){super(e,Dr[yi].message),this.code=yi}}const cs=new Map;cs.set(As,{error:Di}),cs.set(ci,{error:qi}),cs.set(gi,{error:$d}),cs.set(Ys,{error:vc}),cs.set(ui,{error:ip}),cs.set(ei,{error:cu}),cs.set(yo,{error:Pl}),cs.set(xs,{error:op}),cs.set(lr,{error:Li}),cs.set(Hs,{error:Rl}),cs.set(aa,{error:Da}),cs.set(yi,{error:uu});class Qd extends yn{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=ai}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function Ns(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Cl(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Zd(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function La(t,...e){if(!Zd(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Lo(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ns(t.outputLen),Ns(t.blockLen)}function fa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lu(t,e){La(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}var _o={number:Ns,bool:Cl,bytes:La,hash:Lo,exists:fa,output:lu};const du=BigInt(2**32-1),Nl=BigInt(32);function kl(t,e=!1){return e?{h:Number(t&du),l:Number(t>>Nl&du)}:{h:Number(t>>Nl&du)|0,l:Number(t&du)|0}}function qd(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=kl(t[s],e);[n[s],r[s]]=[i,a]}return[n,r]}const ap=(t,e)=>BigInt(t>>>0)<<Nl|BigInt(e>>>0),cp=(t,e,n)=>t>>>n,Jd=(t,e,n)=>t<<32-n|e>>>n,Xd=(t,e,n)=>t>>>n|e<<32-n,up=(t,e,n)=>t<<32-n|e>>>n,lp=(t,e,n)=>t<<64-n|e>>>n-32,dp=(t,e,n)=>t>>>n-32|e<<64-n,fp=(t,e)=>e,Ol=(t,e)=>t,Bl=(t,e,n)=>t<<n|e>>>32-n,Ml=(t,e,n)=>e<<n|t>>>32-n,Yd=(t,e,n)=>e<<n-32|t>>>64-n,ef=(t,e,n)=>t<<n-32|e>>>64-n;function hp(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}var qn={fromBig:kl,split:qd,toBig:ap,shrSH:cp,shrSL:Jd,rotrSH:Xd,rotrSL:up,rotrBH:lp,rotrBL:dp,rotr32H:fp,rotr32L:Ol,rotlSH:Bl,rotlSL:Ml,rotlBH:Yd,rotlBL:ef,add:hp,add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,add5H:(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,add5L:(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0)};const fu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const pp=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Dl=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function Ll(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const hu=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),_i=(t,e)=>t<<32-e|t>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const tf=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mp(t){if(!Ll(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=tf[t[n]];return e}const Ji={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function nf(t){if(t>=Ji._0&&t<=Ji._9)return t-Ji._0;if(t>=Ji._A&&t<=Ji._F)return t-(Ji._A-10);if(t>=Ji._a&&t<=Ji._f)return t-(Ji._a-10)}function vg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=nf(t.charCodeAt(i)),c=nf(t.charCodeAt(i+1));if(a===void 0||c===void 0){const p=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+i)}r[s]=a*16+c}return r}const gp=async()=>{};async function bg(t,e,n){let r=Date.now();for(let s=0;s<t;s++){n(s);const i=Date.now()-r;i>=0&&i<e||(await gp(),r+=i)}}function Fa(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Fo(t){if(typeof t=="string"&&(t=Fa(t)),!Ll(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function pu(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];if(!Ll(s))throw new Error("Uint8Array expected");e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class rf{clone(){return this._cloneInto()}}const yp={}.toString;function vp(t,e){if(e!==void 0&&yp.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function Ul(t){const e=r=>t().update(Fo(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function wg(t){const e=(r,s)=>t(s).update(Fo(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function bp(t){const e=(r,s)=>t(s).update(Fo(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function sf(t=32){if(fu&&typeof fu.getRandomValues=="function")return fu.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[of,wp,_p]=[[],[],[]],Hl=BigInt(0),Ua=BigInt(1),af=BigInt(2),Ep=BigInt(7),cf=BigInt(256),uf=BigInt(113);for(let t=0,e=Ua,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],of.push(2*(5*r+n)),wp.push((t+1)*(t+2)/2%64);let s=Hl;for(let i=0;i<7;i++)e=(e<<Ua^(e>>Ep)*uf)%cf,e&af&&(s^=Ua<<(Ua<<BigInt(i))-Ua);_p.push(s)}const[lf,df]=qd(_p,!0),mu=(t,e,n)=>n>32?Yd(t,e,n):Bl(t,e,n),ff=(t,e,n)=>n>32?ef(t,e,n):Ml(t,e,n);function Ap(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,p=(a+2)%10,f=n[p],l=n[p+1],b=mu(f,l,1)^n[c],ve=ff(f,l,1)^n[c+1];for(let ye=0;ye<50;ye+=10)t[a+ye]^=b,t[a+ye+1]^=ve}let s=t[2],i=t[3];for(let a=0;a<24;a++){const c=wp[a],p=mu(s,i,c),f=ff(s,i,c),l=of[a];s=t[l],i=t[l+1],t[l]=p,t[l+1]=f}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=lf[r],t[1]^=df[r]}n.fill(0)}class bc extends rf{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ns(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Dl(this.state)}keccak(){Ap(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){fa(this);const{blockLen:n,state:r}=this;e=Fo(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let c=0;c<a;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){fa(this,!1),La(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ns(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lu(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new bc(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const wc=(t,e,n)=>Ul(()=>new bc(e,t,n)),_g=null,xp=null,Eg=null,Ag=null,hf=wc(1,144,224/8),jl=wc(1,136,256/8),Tp=wc(1,104,384/8),Ip=wc(1,72,512/8),xg=(t,e,n)=>wrapXOFConstructorWithOpts((r={})=>new bc(e,t,r.dkLen===void 0?n:r.dkLen,!0)),pf=null,Tg=null,Gl=_o.bool,Ha=_o.bytes;function Wl(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function Ig(t){const e=t.startsWith("0x")?t.substring(2):t;return _hexToBytes(e)}function Sp(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function _c(t){return e=>(_o.bytes(e),t(e))}const Sg=(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})(),Pg=_c(hf),Ws=(()=>{const t=_c(jl);return t.create=jl.create,t})(),Rg=_c(Tp),Pp=_c(Ip);var dr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(const c of i)a[c]=s[c];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(dr||(dr={}));var Vl;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Vl||(Vl={}));const nn=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Uo=t=>{switch(typeof t){case"undefined":return nn.undefined;case"string":return nn.string;case"number":return isNaN(t)?nn.nan:nn.number;case"boolean":return nn.boolean;case"function":return nn.function;case"bigint":return nn.bigint;case"symbol":return nn.symbol;case"object":return Array.isArray(t)?nn.array:t===null?nn.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?nn.promise:typeof Map<"u"&&t instanceof Map?nn.map:typeof Set<"u"&&t instanceof Set?nn.set:typeof Date<"u"&&t instanceof Date?nn.date:nn.object;default:return nn.unknown}},St=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Rp=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ei extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,p=0;for(;p<a.path.length;){const f=a.path[p];p===a.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(a))):c[f]=c[f]||{_errors:[]},c=c[f],p++}}};return s(this),r}static assert(e){if(!(e instanceof Ei))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ei.create=t=>new Ei(t);const ja=(t,e)=>{let n;switch(t.code){case St.invalid_type:t.received===nn.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case St.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,dr.jsonStringifyReplacer)}`;break;case St.unrecognized_keys:n=`Unrecognized key(s) in object: ${dr.joinValues(t.keys,", ")}`;break;case St.invalid_union:n="Invalid input";break;case St.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${dr.joinValues(t.options)}`;break;case St.invalid_enum_value:n=`Invalid enum value. Expected ${dr.joinValues(t.options)}, received '${t.received}'`;break;case St.invalid_arguments:n="Invalid function arguments";break;case St.invalid_return_type:n="Invalid function return type";break;case St.invalid_date:n="Invalid date";break;case St.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:dr.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case St.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case St.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case St.custom:n="Invalid input";break;case St.invalid_intersection_types:n="Intersection results could not be merged";break;case St.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case St.not_finite:n="Number must be finite";break;default:n=e.defaultError,dr.assertNever(t)}return{message:n}};let gu=ja;function Cp(t){gu=t}function Ec(){return gu}const yu=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const p=r.filter(f=>!!f).slice().reverse();for(const f of p)c=f(a,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},Np=[];function Jt(t,e){const n=Ec(),r=yu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ja?void 0:ja].filter(s=>!!s)});t.common.issues.push(r)}class bs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Tn;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return bs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Tn;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const Tn=Object.freeze({status:"aborted"}),Ga=t=>({status:"dirty",value:t}),ri=t=>({status:"valid",value:t}),Eo=t=>t.status==="aborted",vu=t=>t.status==="dirty",Ao=t=>t.status==="valid",Wa=t=>typeof Promise<"u"&&t instanceof Promise;function Ac(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function xo(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}typeof SuppressedError=="function"&&SuppressedError;var vn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(vn||(vn={}));var To,Va;class Xi{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bu=(t,e)=>{if(Ao(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ei(t.common.issues);return this._error=n,this._error}}};function jn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,c)=>{var p,f;const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??c.defaultError}:typeof c.data>"u"?{message:(p=l??r)!==null&&p!==void 0?p:c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:(f=l??n)!==null&&f!==void 0?f:c.defaultError}},description:s}}class Jn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Uo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Uo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bs,ctx:{common:e.parent.common,data:e.data,parsedType:Uo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Wa(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uo(e)},i=this._parseSync({data:e,path:s.path,parent:s});return bu(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Wa(s)?s:Promise.resolve(s));return bu(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),c=()=>i.addIssue({code:St.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(p=>p?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Hi({schema:this,typeName:Bn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return no.create(this,this._def)}nullable(){return Ko.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fi.create(this,this._def)}promise(){return to.create(this,this._def)}or(e){return Sc.create([this,e],this._def)}and(e){return Qa.create(this,e,this._def)}transform(e){return new Hi({...jn(this._def),schema:this,typeName:Bn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new kc({...jn(this._def),innerType:this,defaultValue:n,typeName:Bn.ZodDefault})}brand(){return new ql({typeName:Bn.ZodBranded,type:this,...jn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Oc({...jn(this._def),innerType:this,catchValue:n,typeName:Bn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Bc.create(this,e)}readonly(){return Mc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mf=/^c[^\s-]{8,}$/i,gf=/^[0-9a-z]+$/,Ri=/^[0-9A-HJKMNP-TV-Z]{26}$/,kp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zl=/^[a-z0-9_-]{21}$/i,yf=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Op=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xc;const Mp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kl=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Dp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$l="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wu=new RegExp(`^${$l}$`);function Ql(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function _u(t){return new RegExp(`^${Ql(t)}$`)}function Zl(t){let e=`${$l}T${Ql(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Lp(t,e){return!!((e==="v4"||!e)&&Mp.test(t)||(e==="v6"||!e)&&Kl.test(t))}class Ci extends Jn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==nn.string){const i=this._getOrReturnCtx(e);return Jt(i,{code:St.invalid_type,expected:nn.string,received:i.parsedType}),Tn}const r=new bs;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,c=e.data.length<i.value;(a||c)&&(s=this._getOrReturnCtx(e,s),a?Jt(s,{code:St.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&Jt(s,{code:St.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Op.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"email",code:St.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")xc||(xc=new RegExp(Bp,"u")),xc.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"emoji",code:St.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")kp.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"uuid",code:St.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")zl.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"nanoid",code:St.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")mf.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"cuid",code:St.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")gf.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"cuid2",code:St.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Ri.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"ulid",code:St.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Jt(s,{validation:"url",code:St.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"regex",code:St.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Zl(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?wu.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?_u(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?yf.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"duration",code:St.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Lp(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"ip",code:St.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Dp.test(e.data)||(s=this._getOrReturnCtx(e,s),Jt(s,{validation:"base64",code:St.invalid_string,message:i.message}),r.dirty()):dr.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:St.invalid_string,...vn.errToObj(r)})}_addCheck(e){return new Ci({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...vn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...vn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...vn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...vn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...vn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...vn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...vn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...vn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...vn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...vn.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...vn.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...vn.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...vn.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...vn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...vn.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...vn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...vn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...vn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...vn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...vn.errToObj(n)})}nonempty(e){return this.min(1,vn.errToObj(e))}trim(){return new Ci({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ci({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ci({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ci.create=t=>{var e;return new Ci({checks:[],typeName:Bn.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...jn(t)})};function vf(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Ho extends Jn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==nn.number){const i=this._getOrReturnCtx(e);return Jt(i,{code:St.invalid_type,expected:nn.number,received:i.parsedType}),Tn}let r;const s=new bs;for(const i of this._def.checks)i.kind==="int"?dr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?vf(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.not_finite,message:i.message}),s.dirty()):dr.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,vn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,vn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,vn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,vn.toString(n))}setLimit(e,n,r,s){return new Ho({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:vn.toString(s)}]})}_addCheck(e){return new Ho({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:vn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:vn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:vn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ho.create=t=>new Ho({checks:[],typeName:Bn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...jn(t)});class jo extends Jn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==nn.bigint){const i=this._getOrReturnCtx(e);return Jt(i,{code:St.invalid_type,expected:nn.bigint,received:i.parsedType}),Tn}let r;const s=new bs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Jt(r,{code:St.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):dr.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,vn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,vn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,vn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,vn.toString(n))}setLimit(e,n,r,s){return new jo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:vn.toString(s)}]})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:vn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}jo.create=t=>{var e;return new jo({checks:[],typeName:Bn.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...jn(t)})};class za extends Jn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==nn.boolean){const r=this._getOrReturnCtx(e);return Jt(r,{code:St.invalid_type,expected:nn.boolean,received:r.parsedType}),Tn}return ri(e.data)}}za.create=t=>new za({typeName:Bn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...jn(t)});class Go extends Jn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==nn.date){const i=this._getOrReturnCtx(e);return Jt(i,{code:St.invalid_type,expected:nn.date,received:i.parsedType}),Tn}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Jt(i,{code:St.invalid_date}),Tn}const r=new bs;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Jt(s,{code:St.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):dr.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Go({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:vn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:vn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Go.create=t=>new Go({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Bn.ZodDate,...jn(t)});class Tc extends Jn{_parse(e){if(this._getType(e)!==nn.symbol){const r=this._getOrReturnCtx(e);return Jt(r,{code:St.invalid_type,expected:nn.symbol,received:r.parsedType}),Tn}return ri(e.data)}}Tc.create=t=>new Tc({typeName:Bn.ZodSymbol,...jn(t)});class ha extends Jn{_parse(e){if(this._getType(e)!==nn.undefined){const r=this._getOrReturnCtx(e);return Jt(r,{code:St.invalid_type,expected:nn.undefined,received:r.parsedType}),Tn}return ri(e.data)}}ha.create=t=>new ha({typeName:Bn.ZodUndefined,...jn(t)});class Ka extends Jn{_parse(e){if(this._getType(e)!==nn.null){const r=this._getOrReturnCtx(e);return Jt(r,{code:St.invalid_type,expected:nn.null,received:r.parsedType}),Tn}return ri(e.data)}}Ka.create=t=>new Ka({typeName:Bn.ZodNull,...jn(t)});class $a extends Jn{constructor(){super(...arguments),this._any=!0}_parse(e){return ri(e.data)}}$a.create=t=>new $a({typeName:Bn.ZodAny,...jn(t)});class Wo extends Jn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ri(e.data)}}Wo.create=t=>new Wo({typeName:Bn.ZodUnknown,...jn(t)});class Io extends Jn{_parse(e){const n=this._getOrReturnCtx(e);return Jt(n,{code:St.invalid_type,expected:nn.never,received:n.parsedType}),Tn}}Io.create=t=>new Io({typeName:Bn.ZodNever,...jn(t)});class Ic extends Jn{_parse(e){if(this._getType(e)!==nn.undefined){const r=this._getOrReturnCtx(e);return Jt(r,{code:St.invalid_type,expected:nn.void,received:r.parsedType}),Tn}return ri(e.data)}}Ic.create=t=>new Ic({typeName:Bn.ZodVoid,...jn(t)});class Fi extends Jn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==nn.array)return Jt(n,{code:St.invalid_type,expected:nn.array,received:n.parsedType}),Tn;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(Jt(n,{code:a?St.too_big:St.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Jt(n,{code:St.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Jt(n,{code:St.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new Xi(n,a,n.path,c)))).then(a=>bs.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new Xi(n,a,n.path,c)));return bs.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Fi({...this._def,minLength:{value:e,message:vn.toString(n)}})}max(e,n){return new Fi({...this._def,maxLength:{value:e,message:vn.toString(n)}})}length(e,n){return new Fi({...this._def,exactLength:{value:e,message:vn.toString(n)}})}nonempty(e){return this.min(1,e)}}Fi.create=(t,e)=>new Fi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Bn.ZodArray,...jn(e)});function pa(t){if(t instanceof Qr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=no.create(pa(r))}return new Qr({...t._def,shape:()=>e})}else return t instanceof Fi?new Fi({...t._def,type:pa(t.element)}):t instanceof no?no.create(pa(t.unwrap())):t instanceof Ko?Ko.create(pa(t.unwrap())):t instanceof Ui?Ui.create(t.items.map(e=>pa(e))):t}class Qr extends Jn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=dr.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==nn.object){const f=this._getOrReturnCtx(e);return Jt(f,{code:St.invalid_type,expected:nn.object,received:f.parsedType}),Tn}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof Io&&this._def.unknownKeys==="strip"))for(const f in s.data)a.includes(f)||c.push(f);const p=[];for(const f of a){const l=i[f],b=s.data[f];p.push({key:{status:"valid",value:f},value:l._parse(new Xi(s,b,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof Io){const f=this._def.unknownKeys;if(f==="passthrough")for(const l of c)p.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(f==="strict")c.length>0&&(Jt(s,{code:St.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const l of c){const b=s.data[l];p.push({key:{status:"valid",value:l},value:f._parse(new Xi(s,b,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const l of p){const b=await l.key,ve=await l.value;f.push({key:b,value:ve,alwaysSet:l.alwaysSet})}return f}).then(f=>bs.mergeObjectSync(r,f)):bs.mergeObjectSync(r,p)}get shape(){return this._def.shape()}strict(e){return vn.errToObj,new Qr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,c;const p=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=vn.errToObj(e).message)!==null&&c!==void 0?c:p}:{message:p}}}:{}})}strip(){return new Qr({...this._def,unknownKeys:"strip"})}passthrough(){return new Qr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Bn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Qr({...this._def,catchall:e})}pick(e){const n={};return dr.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Qr({...this._def,shape:()=>n})}omit(e){const n={};return dr.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Qr({...this._def,shape:()=>n})}deepPartial(){return pa(this)}partial(e){const n={};return dr.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Qr({...this._def,shape:()=>n})}required(e){const n={};return dr.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof no;)i=i._def.innerType;n[r]=i}}),new Qr({...this._def,shape:()=>n})}keyof(){return bf(dr.objectKeys(this.shape))}}Qr.create=(t,e)=>new Qr({shape:()=>t,unknownKeys:"strip",catchall:Io.create(),typeName:Bn.ZodObject,...jn(e)}),Qr.strictCreate=(t,e)=>new Qr({shape:()=>t,unknownKeys:"strict",catchall:Io.create(),typeName:Bn.ZodObject,...jn(e)}),Qr.lazycreate=(t,e)=>new Qr({shape:t,unknownKeys:"strip",catchall:Io.create(),typeName:Bn.ZodObject,...jn(e)});class Sc extends Jn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=i.map(c=>new Ei(c.ctx.common.issues));return Jt(n,{code:St.invalid_union,unionErrors:a}),Tn}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const p of r){const f={...n,common:{...n.common,issues:[]},parent:null},l=p._parseSync({data:n.data,path:n.path,parent:f});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:f}),f.common.issues.length&&a.push(f.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=a.map(p=>new Ei(p));return Jt(n,{code:St.invalid_union,unionErrors:c}),Tn}}get options(){return this._def.options}}Sc.create=(t,e)=>new Sc({options:t,typeName:Bn.ZodUnion,...jn(e)});const Yi=t=>t instanceof Rc?Yi(t.schema):t instanceof Hi?Yi(t.innerType()):t instanceof Cc?[t.value]:t instanceof zo?t.options:t instanceof Nc?dr.objectValues(t.enum):t instanceof kc?Yi(t._def.innerType):t instanceof ha?[void 0]:t instanceof Ka?[null]:t instanceof no?[void 0,...Yi(t.unwrap())]:t instanceof Ko?[null,...Yi(t.unwrap())]:t instanceof ql||t instanceof Mc?Yi(t.unwrap()):t instanceof Oc?Yi(t._def.innerType):[];class Eu extends Jn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==nn.object)return Jt(n,{code:St.invalid_type,expected:nn.object,received:n.parsedType}),Tn;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Jt(n,{code:St.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Tn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=Yi(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Eu({typeName:Bn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...jn(r)})}}function ma(t,e){const n=Uo(t),r=Uo(e);if(t===e)return{valid:!0,data:t};if(n===nn.object&&r===nn.object){const s=dr.objectKeys(e),i=dr.objectKeys(t).filter(c=>s.indexOf(c)!==-1),a={...t,...e};for(const c of i){const p=ma(t[c],e[c]);if(!p.valid)return{valid:!1};a[c]=p.data}return{valid:!0,data:a}}else if(n===nn.array&&r===nn.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],c=e[i],p=ma(a,c);if(!p.valid)return{valid:!1};s.push(p.data)}return{valid:!0,data:s}}else return n===nn.date&&r===nn.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qa extends Jn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Eo(i)||Eo(a))return Tn;const c=ma(i.value,a.value);return c.valid?((vu(i)||vu(a))&&n.dirty(),{status:n.value,value:c.data}):(Jt(r,{code:St.invalid_intersection_types}),Tn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qa.create=(t,e,n)=>new Qa({left:t,right:e,typeName:Bn.ZodIntersection,...jn(n)});class Ui extends Jn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==nn.array)return Jt(r,{code:St.invalid_type,expected:nn.array,received:r.parsedType}),Tn;if(r.data.length<this._def.items.length)return Jt(r,{code:St.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tn;!this._def.rest&&r.data.length>this._def.items.length&&(Jt(r,{code:St.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,c)=>{const p=this._def.items[c]||this._def.rest;return p?p._parse(new Xi(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>bs.mergeArray(n,a)):bs.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ui({...this._def,rest:e})}}Ui.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ui({items:t,typeName:Bn.ZodTuple,rest:null,...jn(e)})};class Za extends Jn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==nn.object)return Jt(r,{code:St.invalid_type,expected:nn.object,received:r.parsedType}),Tn;const s=[],i=this._def.keyType,a=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new Xi(r,c,r.path,c)),value:a._parse(new Xi(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?bs.mergeObjectAsync(n,s):bs.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Jn?new Za({keyType:e,valueType:n,typeName:Bn.ZodRecord,...jn(r)}):new Za({keyType:Ci.create(),valueType:e,typeName:Bn.ZodRecord,...jn(n)})}}class Pc extends Jn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==nn.map)return Jt(r,{code:St.invalid_type,expected:nn.map,received:r.parsedType}),Tn;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,p],f)=>({key:s._parse(new Xi(r,c,r.path,[f,"key"])),value:i._parse(new Xi(r,p,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const p of a){const f=await p.key,l=await p.value;if(f.status==="aborted"||l.status==="aborted")return Tn;(f.status==="dirty"||l.status==="dirty")&&n.dirty(),c.set(f.value,l.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const p of a){const f=p.key,l=p.value;if(f.status==="aborted"||l.status==="aborted")return Tn;(f.status==="dirty"||l.status==="dirty")&&n.dirty(),c.set(f.value,l.value)}return{status:n.value,value:c}}}}Pc.create=(t,e,n)=>new Pc({valueType:e,keyType:t,typeName:Bn.ZodMap,...jn(n)});class eo extends Jn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==nn.set)return Jt(r,{code:St.invalid_type,expected:nn.set,received:r.parsedType}),Tn;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Jt(r,{code:St.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Jt(r,{code:St.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(p){const f=new Set;for(const l of p){if(l.status==="aborted")return Tn;l.status==="dirty"&&n.dirty(),f.add(l.value)}return{status:n.value,value:f}}const c=[...r.data.values()].map((p,f)=>i._parse(new Xi(r,p,r.path,f)));return r.common.async?Promise.all(c).then(p=>a(p)):a(c)}min(e,n){return new eo({...this._def,minSize:{value:e,message:vn.toString(n)}})}max(e,n){return new eo({...this._def,maxSize:{value:e,message:vn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}eo.create=(t,e)=>new eo({valueType:t,minSize:null,maxSize:null,typeName:Bn.ZodSet,...jn(e)});class Vo extends Jn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==nn.function)return Jt(n,{code:St.invalid_type,expected:nn.function,received:n.parsedType}),Tn;function r(c,p){return yu({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ec(),ja].filter(f=>!!f),issueData:{code:St.invalid_arguments,argumentsError:p}})}function s(c,p){return yu({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ec(),ja].filter(f=>!!f),issueData:{code:St.invalid_return_type,returnTypeError:p}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof to){const c=this;return ri(async function(...p){const f=new Ei([]),l=await c._def.args.parseAsync(p,i).catch(ye=>{throw f.addIssue(r(p,ye)),f}),b=await Reflect.apply(a,this,l);return await c._def.returns._def.type.parseAsync(b,i).catch(ye=>{throw f.addIssue(s(b,ye)),f})})}else{const c=this;return ri(function(...p){const f=c._def.args.safeParse(p,i);if(!f.success)throw new Ei([r(p,f.error)]);const l=Reflect.apply(a,this,f.data),b=c._def.returns.safeParse(l,i);if(!b.success)throw new Ei([s(l,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Vo({...this._def,args:Ui.create(e).rest(Wo.create())})}returns(e){return new Vo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Vo({args:e||Ui.create([]).rest(Wo.create()),returns:n||Wo.create(),typeName:Bn.ZodFunction,...jn(r)})}}class Rc extends Jn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Rc.create=(t,e)=>new Rc({getter:t,typeName:Bn.ZodLazy,...jn(e)});class Cc extends Jn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Jt(n,{received:n.data,code:St.invalid_literal,expected:this._def.value}),Tn}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cc.create=(t,e)=>new Cc({value:t,typeName:Bn.ZodLiteral,...jn(e)});function bf(t,e){return new zo({values:t,typeName:Bn.ZodEnum,...jn(e)})}class zo extends Jn{constructor(){super(...arguments),To.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Jt(n,{expected:dr.joinValues(r),received:n.parsedType,code:St.invalid_type}),Tn}if(Ac(this,To,"f")||xo(this,To,new Set(this._def.values),"f"),!Ac(this,To,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Jt(n,{received:n.data,code:St.invalid_enum_value,options:r}),Tn}return ri(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return zo.create(e,{...this._def,...n})}exclude(e,n=this._def){return zo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}To=new WeakMap,zo.create=bf;class Nc extends Jn{constructor(){super(...arguments),Va.set(this,void 0)}_parse(e){const n=dr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==nn.string&&r.parsedType!==nn.number){const s=dr.objectValues(n);return Jt(r,{expected:dr.joinValues(s),received:r.parsedType,code:St.invalid_type}),Tn}if(Ac(this,Va,"f")||xo(this,Va,new Set(dr.getValidEnumValues(this._def.values)),"f"),!Ac(this,Va,"f").has(e.data)){const s=dr.objectValues(n);return Jt(r,{received:r.data,code:St.invalid_enum_value,options:s}),Tn}return ri(e.data)}get enum(){return this._def.values}}Va=new WeakMap,Nc.create=(t,e)=>new Nc({values:t,typeName:Bn.ZodNativeEnum,...jn(e)});class to extends Jn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==nn.promise&&n.common.async===!1)return Jt(n,{code:St.invalid_type,expected:nn.promise,received:n.parsedType}),Tn;const r=n.parsedType===nn.promise?n.data:Promise.resolve(n.data);return ri(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}to.create=(t,e)=>new to({type:t,typeName:Bn.ZodPromise,...jn(e)});class Hi extends Jn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Bn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{Jt(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return Tn;const p=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return p.status==="aborted"?Tn:p.status==="dirty"||n.value==="dirty"?Ga(p.value):p});{if(n.value==="aborted")return Tn;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?Tn:c.status==="dirty"||n.value==="dirty"?Ga(c.value):c}}if(s.type==="refinement"){const a=c=>{const p=s.refinement(c,i);if(r.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Tn:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Tn:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ao(a))return a;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Ao(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):a);dr.assertNever(s)}}Hi.create=(t,e,n)=>new Hi({schema:t,typeName:Bn.ZodEffects,effect:e,...jn(n)}),Hi.createWithPreprocess=(t,e,n)=>new Hi({schema:e,effect:{type:"preprocess",transform:t},typeName:Bn.ZodEffects,...jn(n)});class no extends Jn{_parse(e){return this._getType(e)===nn.undefined?ri(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}no.create=(t,e)=>new no({innerType:t,typeName:Bn.ZodOptional,...jn(e)});class Ko extends Jn{_parse(e){return this._getType(e)===nn.null?ri(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ko.create=(t,e)=>new Ko({innerType:t,typeName:Bn.ZodNullable,...jn(e)});class kc extends Jn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===nn.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}kc.create=(t,e)=>new kc({innerType:t,typeName:Bn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...jn(e)});class Oc extends Jn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Wa(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ei(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ei(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Oc.create=(t,e)=>new Oc({innerType:t,typeName:Bn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...jn(e)});class Au extends Jn{_parse(e){if(this._getType(e)!==nn.nan){const r=this._getOrReturnCtx(e);return Jt(r,{code:St.invalid_type,expected:nn.nan,received:r.parsedType}),Tn}return{status:"valid",value:e.data}}}Au.create=t=>new Au({typeName:Bn.ZodNaN,...jn(t)});const Fp=Symbol("zod_brand");class ql extends Jn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bc extends Jn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Tn:i.status==="dirty"?(n.dirty(),Ga(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Tn:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Bc({in:e,out:n,typeName:Bn.ZodPipeline})}}class Mc extends Jn{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ao(s)&&(s.value=Object.freeze(s.value)),s);return Wa(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Mc.create=(t,e)=>new Mc({innerType:t,typeName:Bn.ZodReadonly,...jn(e)});function wf(t,e={},n){return t?$a.create().superRefine((r,s)=>{var i,a;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,p=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,f=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...f,fatal:p})}}):$a.create()}const Up={object:Qr.lazycreate};var Bn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Bn||(Bn={}));const Cg=(t,e={message:`Input not instance of ${t.name}`})=>wf(n=>n instanceof t,e),_f=Ci.create,Ef=Ho.create,Jl=Au.create,Hp=jo.create,jp=za.create,Vs=Go.create,Gp=Tc.create,Af=ha.create,xf=Ka.create,Tf=$a.create,If=Wo.create,Wp=Io.create,Sf=Ic.create,Pf=Fi.create,Rf=Qr.create,Vp=Qr.strictCreate,zp=Sc.create,Kp=Eu.create,$p=Qa.create,Qp=Ui.create,Cf=Za.create,Zp=Pc.create,qp=eo.create,Jp=Vo.create,Xp=Rc.create,Yp=Cc.create,em=zo.create,tm=Nc.create,nm=to.create,Nf=Hi.create,kf=no.create,rm=Ko.create,sm=Hi.createWithPreprocess,Ng=Bc.create;var ro=Object.freeze({__proto__:null,defaultErrorMap:ja,setErrorMap:Cp,getErrorMap:Ec,makeIssue:yu,EMPTY_PATH:Np,addIssueToContext:Jt,ParseStatus:bs,INVALID:Tn,DIRTY:Ga,OK:ri,isAborted:Eo,isDirty:vu,isValid:Ao,isAsync:Wa,get util(){return dr},get objectUtil(){return Vl},ZodParsedType:nn,getParsedType:Uo,ZodType:Jn,datetimeRegex:Zl,ZodString:Ci,ZodNumber:Ho,ZodBigInt:jo,ZodBoolean:za,ZodDate:Go,ZodSymbol:Tc,ZodUndefined:ha,ZodNull:Ka,ZodAny:$a,ZodUnknown:Wo,ZodNever:Io,ZodVoid:Ic,ZodArray:Fi,ZodObject:Qr,ZodUnion:Sc,ZodDiscriminatedUnion:Eu,ZodIntersection:Qa,ZodTuple:Ui,ZodRecord:Za,ZodMap:Pc,ZodSet:eo,ZodFunction:Vo,ZodLazy:Rc,ZodLiteral:Cc,ZodEnum:zo,ZodNativeEnum:Nc,ZodPromise:to,ZodEffects:Hi,ZodTransformer:Hi,ZodOptional:no,ZodNullable:Ko,ZodDefault:kc,ZodCatch:Oc,ZodNaN:Au,BRAND:Fp,ZodBranded:ql,ZodPipeline:Bc,ZodReadonly:Mc,custom:wf,Schema:Jn,ZodSchema:Jn,late:Up,get ZodFirstPartyTypeKind(){return Bn},coerce:{string:t=>Ci.create({...t,coerce:!0}),number:t=>Ho.create({...t,coerce:!0}),boolean:t=>za.create({...t,coerce:!0}),bigint:t=>jo.create({...t,coerce:!0}),date:t=>Go.create({...t,coerce:!0})},any:Tf,array:Pf,bigint:Hp,boolean:jp,date:Vs,discriminatedUnion:Kp,effect:Nf,enum:em,function:Jp,instanceof:Cg,intersection:$p,lazy:Xp,literal:Yp,map:Zp,nan:Jl,nativeEnum:tm,never:Wp,null:xf,nullable:rm,number:Ef,object:Rf,oboolean:()=>jp().optional(),onumber:()=>Ef().optional(),optional:kf,ostring:()=>_f().optional(),pipeline:Ng,preprocess:sm,promise:nm,record:Cf,set:qp,strictObject:Vp,string:_f,symbol:Gp,transformer:Nf,tuple:Qp,undefined:Af,union:zp,unknown:If,void:Sf,NEVER:Tn,ZodIssueCode:St,quotelessJson:Rp,ZodError:Ei});const im=t=>t.message?t.message:"unspecified error";class qa extends yn{constructor(e){super(),this.code=hn,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(im)}}const Lg=["bool","int","uint","bytes","string","address","tuple"],om=t=>typeof t=="object"&&"type"in t&&"name"in t,xu=t=>typeof t=="string",Ar=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function am(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}const Dc=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t),mb=(t,e=!0)=>e?Ar(t)&&t.length===18:Dc(t)&&t.length===16,Fg=(t,e=!0)=>e?Ar(t)&&t.length===66:Dc(t)&&t.length===64;function Of(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const Bf=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},Ug=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],Ja=t=>{let e=t.replace(/ /,""),n,r=!1,s=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),s=[...t.matchAll(/(?:\[(\d*)\])/g)].map(i=>parseInt(i[1],10)).map(i=>Number.isNaN(i)?-1:i),r=s.length>0),Lg.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:s};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s}},Tu=(t,e={})=>{if(Object.keys(e).includes("type"))throw new qa([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:s}=Ja(t);if(!r&&!Ug.includes(t))throw new qa([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${s??""}`,required:!0}}return t?{format:t,required:!0}:{}},Iu=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,s]of t.entries()){let i,a,c=[];om(s)?(i=s.type,a=s.name||`${e}/${r}`,c=s.components):typeof s=="string"?(i=s,a=`${e}/${r}`):Array.isArray(s)&&(s[0]&&typeof s[0]=="string"&&s[0].startsWith("tuple")&&!Array.isArray(s[0])&&s[1]&&Array.isArray(s[1])?(i=s[0],a=`${e}/${r}`,c=s[1]):(i="tuple",a=`${e}/${r}`,c=s));const{baseType:p,isArray:f,arraySizes:l}=Ja(i);let b,ve=n;for(let ye=l.length-1;ye>0;ye-=1)b={type:"array",$id:a,items:[],maxItems:l[ye],minItems:l[ye]},l[ye]<0&&(delete b.maxItems,delete b.minItems),Array.isArray(ve.items)?ve.items.length===0?ve.items=[b]:ve.items.push(b):ve.items=[ve.items,b],ve=b;if(p==="tuple"&&!f){const ye=Iu(c,a);ye.$id=a,ve.items.push(ye)}else if(p==="tuple"&&f){const ye=l[0],We=Object.assign({type:"array",$id:a,items:Iu(c,a)},ye>=0&&{minItems:ye,maxItems:ye});ve.items.push(We)}else if(f){const ye=l[0],We=Object.assign({type:"array",$id:a,items:Tu(i)},ye>=0&&{minItems:ye,maxItems:ye});ve.items.push(We)}else Array.isArray(ve.items)?ve.items.push(Object.assign({$id:a},Tu(i))):ve.items.push(Object.assign({$id:a},Tu(i)));ve=n}return n},Lc=t=>Iu(t),Su=(t,e)=>e===1?t:Su(t[0],e-1),Fc=(t,e,n)=>{const r=[];for(const[s,i]of t.entries()){let a,c,p=[];om(i)?(a=i.type,c=i.name,p=i.components):typeof i=="string"?a=i:Array.isArray(i)&&(i[1]&&Array.isArray(i[1])?(a=i[0],p=i[1]):(a="tuple",p=i));const{baseType:f,isArray:l,arraySizes:b}=Ja(a),ve=Array.isArray(e)?e[s]:e[c];if(f==="tuple"&&!l)r.push(Fc(p,ve,n));else if(f==="tuple"&&l){const ye=[];for(const We of ve)if(b.length>1){const we=Su(We,b.length-1),Ne=[];for(const Ue of we)Ne.push(Fc(p,Ue,n));ye.push(Ne)}else ye.push(Fc(p,We,n));r.push(ye)}else r.push(ve)}return n=n??[],n.push(...r),n},Pu=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},ga=t=>{if(!Ar(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},Ru=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&Ar(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!Ar(t))return Ru(BigInt(t));throw new ou(t)},Cu=(t,e,n="0")=>{if(typeof t=="string"&&!Ar(t))return t.padStart(e,n);const r=typeof t=="string"&&Ar(t)?t:Ru(t),[s,i]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${s}${i.padStart(e,n)}`};function so(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const io={zero:48,nine:57,A:65,F:70,a:97,f:102};function cm(t){if(t>=io.zero&&t<=io.nine)return t-io.zero;if(t>=io.A&&t<=io.F)return t-(io.A-10);if(t>=io.a&&t<=io.f)return t-(io.a-10)}function Xa(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new Ba(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let s=0,i=e;s<n;s+=1){const a=cm(t.charCodeAt(i++)),c=cm(t.charCodeAt(i++));if(a===void 0||c===void 0)throw new Ba(`Invalid byte sequence ("${t[i-2]}${t[i-1]}" in "${t}").`);r[s]=a*16+c}return r}function Xl(t){var e;return!(t instanceof Uint8Array)&&((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const Uc=t=>{var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},ji=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!Uc(t)||typeof t=="string"&&Ar(t)&&t.startsWith("-")||typeof t=="string"&&!Ar(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=Xa(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e!=null&&e.abiType){const{baseTypeSize:r}=Ja(e.abiType);return r?n.length===r:!0}return e!=null&&e.size?n.length===(e==null?void 0:e.size):!0},Mf=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=Fa(e.toLowerCase()),r=so(Ws(Xl(n))).slice(2);for(let s=0;s<40;s+=1)if(parseInt(r[s],16)>7&&e[s].toUpperCase()!==e[s]||parseInt(r[s],16)<=7&&e[s].toLowerCase()!==e[s])return!1;return!0},Ni=(t,e=!0)=>{if(typeof t!="string"&&!Uc(t))return!1;let n;return Uc(t)?n=so(t):typeof t=="string"&&!Ar(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?Mf(n):!0:!1},gb=t=>typeof t=="bigint",So=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},$o=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:s}=Ja(e.abiType);s&&(n=s)}else e.bitSize&&(n=e.bitSize);const r=So(BigInt(2),BigInt(n??256))-BigInt(1);try{const s=typeof t=="string"&&Ar(t)?BigInt(ga(t)):BigInt(t);return s>=0&&s<=r}catch{return!1}},Nu=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e!=null&&e.abiType){const{baseTypeSize:i,baseType:a}=Ja(e.abiType);if(a!=="int")return!1;i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=So(BigInt(2),BigInt((n??256)-1)),s=BigInt(-1)*So(BigInt(2),BigInt((n??256)-1));try{const i=typeof t=="string"&&Ar(t)?BigInt(ga(t)):BigInt(t);return i>=s&&i<=r}catch{return!1}},um=t=>!!(Nu(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),Yl=t=>$o(t),us=t=>Object.values(be).includes(t),ed=t=>us(t)||Yl(t),Ya=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),td=(t,e)=>{if(typeof e=="string"&&!Ar(e)||!Ya(t))return!1;const n=typeof e=="string"?Xa(e):e,r=so(Ws(n)).slice(2);for(let s=0;s<12;s+=4){const i=(parseInt(r.slice(s,s+2),16)<<8)+parseInt(r.slice(s+2,s+4),16)&2047,a=Pu(t.charCodeAt(t.length-1-Math.floor(i/4))),c=1<<i%4;if((a&c)!==c)return!1}return!0},lm=(t,e)=>{if(!Ya(t)||!Ni(e))return!1;const n=Cu(e,64);return td(t,n)},dm=(t,e)=>!Ya(t)||!Ni(e)?!1:td(t,e),fm=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!Ar(t)?t==="1"||t==="0":typeof t=="string"&&Ar(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,Xe=t=>t==null,ec=t=>typeof t=="object"&&!Xe(t)&&!Array.isArray(t)&&!(t instanceof Ae),nd=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),Df=(t,e)=>!Ya(t)||!nd(e)?!1:td(t,e),hm=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(Xe(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!Xe(t.fromBlock)&&!ed(t.fromBlock)||!Xe(t.toBlock)&&!ed(t.toBlock))return!1;if(!Xe(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>Ni(n)))return!1}else if(!Ni(t.address))return!1}return!(!Xe(t.topics)&&!t.topics.every(n=>Xe(n)?!0:Array.isArray(n)?n.every(r=>nd(r)):!!nd(n)))},ya={address:t=>Ni(t),bloom:t=>Ya(t),blockNumber:t=>Yl(t),blockTag:t=>us(t),blockNumberOrTag:t=>ed(t),bool:t=>fm(t),bytes:t=>ji(t),filter:t=>hm(t),hex:t=>Ar(t),uint:t=>$o(t),int:t=>Nu(t),number:t=>um(t),string:t=>xu(t)};for(let t=8;t<=256;t+=8)ya[`int${t}`]=e=>Nu(e,{bitSize:t}),ya[`uint${t}`]=e=>$o(e,{bitSize:t});for(let t=1;t<=32;t+=1)ya[`bytes${t}`]=e=>ji(e,{size:t});ya.bytes256=ya.bytes;var Lf=ya;const va=t=>{if((!(t!=null&&t.type)||(t==null?void 0:t.type)==="object")&&(t!=null&&t.properties)){const e={};for(const n of Object.keys(t.properties)){const r=va(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?ro.object(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):ro.object(e).partial()}if((t==null?void 0:t.type)==="array"&&(t!=null&&t.items)){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const s of t.items){const i=va(s);i&&r.push(i)}return ro.tuple(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=ro.array(va(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return ro.union(t.oneOf.map(e=>va(e)));if(t!=null&&t.format){if(!Lf[t.format])throw new Qd(t.format);return ro.any().refine(Lf[t.format],e=>({params:{value:e,format:t.format}}))}return t!=null&&t.type&&(t==null?void 0:t.type)!=="object"&&typeof ro[String(t.type)]=="function"?ro[String(t.type)]():ro.object({data:ro.any()}).partial()};class tc{static factory(){return tc.validatorInstance||(tc.validatorInstance=new tc),tc.validatorInstance}validate(e,n,r){var s,i;const c=va(e).safeParse(n);if(!c.success){const p=this.convertErrors((i=(s=c.error)===null||s===void 0?void 0:s.issues)!==null&&i!==void 0?i:[]);if(p){if(r!=null&&r.silent)return p;throw new qa(p)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let s,i,a,c;c=n.path.join("/");const p=String(n.path[n.path.length-1]),f=n.path.join("/");if(n.code===St.too_big)i="maxItems",c=`${f}/maxItems`,a={limit:n.maximum},s=`must NOT have more than ${n.maximum} items`;else if(n.code===St.too_small)i="minItems",c=`${f}/minItems`,a={limit:n.minimum},s=`must NOT have fewer than ${n.minimum} items`;else if(n.code===St.custom){const{value:l,format:b}=(r=n.params)!==null&&r!==void 0?r:{};typeof l>"u"?s=`value at "/${c}" is required`:s=`value "${typeof l=="object"?JSON.stringify(l):l}" at "/${c}" must pass "${b}" validation`,a={value:l}}return{keyword:i??p,instancePath:f?`/${f}`:"",schemaPath:c?`#${c}`:"#",params:a??{value:n.message},message:s??n.message}})}}class pm{constructor(){this._validator=tc.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var s,i;const a=Lc(e);if(!(Array.isArray(a.items)&&((s=a.items)===null||s===void 0?void 0:s.length)===0&&n.length===0)){if(Array.isArray(a.items)&&((i=a.items)===null||i===void 0?void 0:i.length)===0&&n.length!==0)throw new qa([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(a,n,r)}}}const mn=new pm,Hg=t=>{const{baseType:e,baseTypeSize:n}=parseBaseType(t);return e?e===t?!0:!((e==="int"||e==="uint")&&n&&!(n<=256&&n%8===0)||e==="bytes"&&n&&!(n>=1&&n<=32)):!1};function Qo(t){var e,n;return t instanceof Uint8Array||((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function si(...t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function ku(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const Ou={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},Po="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",zs=t=>{if(mn.validate(["bytes"],[t]),Qo(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return Xa(t);throw new Ba(t)},{uint8ArrayToHexString:mm}=x,sr=t=>mm(zs(t)),mr=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?zs(`0x${t}`):zs(t),ki=t=>(mn.validate(["hex"],[t]),ga(t)),Ff=ki,fr=(t,e)=>{typeof t!="bigint"&&mn.validate(["int"],[t]);let n=Ru(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},Bu=fr,gm=t=>ki(t).toString(),fi=t=>{mn.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),sr(new TextEncoder().encode(e))},Zo=fi,ym=fi,Mu=t=>Wl(mr(t)),Uf=t=>typeof t=="string"?Mu(t):(mn.validate(["bytes"],[t]),Wl(t)),rd=Fa,vm=Mu,bm=t=>{mn.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},Hc=bm,Hf=t=>new TextDecoder("ascii").decode(mr(t)),ba=Hf,Ro=(t,e)=>{if(typeof t=="string"&&Ni(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":fr(t);if(typeof t=="bigint")return e?"bigint":fr(t);if(Qo(t))return e?"bytes":sr(t);if(typeof t=="object"&&t)return e?"string":fi(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":fr(t);if(Ar(t))return e?"bytes":t;if(Dc(t)&&!Nu(t)&&!$o(t))return e?"bytes":`0x${t}`;if(Dc(t)&&!Nu(t)&&$o(t))return e?"uint":fr(t);if(!Number.isFinite(t))return e?"string":fi(t)}throw new sp(t)},Ks=t=>{if(typeof t=="number")return t>1e20?(console.warn(Po),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&Ar(t))return ki(t);try{return Ks(BigInt(t))}catch{throw new ou(t)}},wa=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&Dc(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new ou(t)},wm=(t,e)=>{let n;if(typeof e=="string"){if(n=Ou[e],!n)throw new Fd(e)}else{if(e<0||!Number.isInteger(e))throw new la(e);n=So(BigInt(10),BigInt(e))}const r=String(Ks(t)),s=n.toString().length-1;if(s<=0)return r.toString();const i=r.padStart(s,"0"),a=i.slice(0,-s),c=i.slice(-s).replace(/\.?0+$/,"");return a===""?c?`0.${c}`:"0":c===""?a:`${a}.${c}`.slice(0,a.length+s+1)},_m=(t,e)=>{mn.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=Ou[e],!n)throw new Fd(e)}else{if(e<0||!Number.isInteger(e))throw new la(e);n=So(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(Po),r>1e20?(console.warn(Po),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[s,i]=String(typeof r=="string"&&!Ar(r)?r:Ks(r)).split(".").concat(""),c=BigInt(`${s}${i}`)*n,p=i.length;return p===0?c.toString():c.toString().slice(0,-p)},oo=t=>{if(!Ni(t,!1))throw new Ma(t);const e=t.toLowerCase().replace(/^0x/i,""),n=so(Ws(Xl(rd(e))));if(Xe(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const s=n.replace(/^0x/i,"");for(let i=0;i<e.length;i+=1)parseInt(s[i],16)>7?r+=e[i].toUpperCase():r+=e[i];return r},jf=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!Ar(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&Ar(t)&&(t==="0x1"||t==="0x0"))return!!Ks(t);throw new Il(t)};var Gf=D(73983);class sd extends Gf.Z{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const Em=Ar,Am=Dc,xm=Mf,Tm=Ni,Im=Ya,jc=td,Sm=lm,nc=dm,Pm=nd,Rm=Df,Cm=(t,e)=>{const n=typeof t=="string"&&us(t),r=typeof e=="string"&&us(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const a={[be.EARLIEST]:1,[be.FINALIZED]:2,[be.SAFE]:3,[be.LATEST]:4,[be.PENDING]:5};return a[t]<a[e]?-1:1}if(n&&!r||!n&&r)throw new Gd("Cannot compare blocktag with provided non-blocktag input.");const s=BigInt(t),i=BigInt(e);return s<i?-1:s===i?0:1},qo=t=>typeof t=="object"&&!Xe(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),kn=Xe,Wf=t=>typeof t=="object"&&!Xe(t)&&!Array.isArray(t)&&!(t instanceof Ae),Jo=(t,...e)=>{if(!Wf(t))return t;const n=Object.assign({},t);for(const r of e)for(const s in r)Wf(r[s])?(n[s]||(n[s]={}),n[s]=Jo(n[s],r[s])):!Xe(r[s])&&Object.hasOwnProperty.call(r,s)&&(Array.isArray(r[s])||r[s]instanceof Ae?n[s]=r[s].slice(0):n[s]=r[s]);return n},ao=(t,e,n="0")=>typeof t=="string"?Ar(t)?Cu(t,e,n):t.padStart(e,n):(mn.validate(["int"],[t]),Cu(t,e,n)),Vf=(t,e,n="0")=>{if(typeof t=="string"&&!Ar(t))return t.padEnd(e,n);const r=typeof t=="string"&&Ar(t)?t:fr(t),s=r.startsWith("-")?3:2;return mn.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+s,n)},zf=Vf,Gc=ao,Kf=(t,e=64)=>{mn.validate(["int"],[t]);const n=Ks(t);if(n>=0)return ao(Ro(n),e);const r=So(BigInt(2),BigInt(e*4));if(-n>=r)throw new Ud(`value: ${t}, nibbleWidth: ${e}`);const i=BigInt(n)+r;return ao(fr(i),e)},Nm=(t,e=64)=>{mn.validate(["int"],[t]);const n=Ks(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new Ud(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const s=So(BigInt(2),BigInt(e)*BigInt(4));return Ks(BigInt(n)-s)},{parseBaseType:km}=x,co=t=>typeof t=="object"&&!Xe(t)&&"number"in t&&"bytes"in t,id=(t,e,n=[])=>{let r=Object.assign({},t),s;for(const i of e){if(r.oneOf&&s){const a=s,c=n.find(([p])=>p===a);c&&c[0]===s&&(r=r.oneOf[c[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[i]:r.items&&r.items.properties?r=r.items.properties[i]:r.items&&ec(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(i,10)]),r&&i&&(s=i)}return r},Wc=(t,e,n)=>{try{const{baseType:r,baseTypeSize:s}=km(e);if(r==="int"||r==="uint")switch(n.number){case Te.NUMBER:return Number(wa(t));case Te.HEX:return fr(wa(t));case Te.STR:return wa(t).toString();case Te.BIGINT:return wa(t);default:throw new A(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let i;switch(s?typeof t=="string"?i=ao(t,s*2):Qo(t)&&(i=si(new Uint8Array(s-t.length),t)):i=t,n.bytes){case v.HEX:return sr(zs(i));case v.UINT8ARRAY:return zs(i);default:throw new A(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},$f=({value:t,schemaProp:e,schema:n,object:r,key:s,dataPath:i,format:a,oneOfPath:c=[]})=>{var p,f;if(Array.isArray(t)){let l=e;if((e==null?void 0:e.oneOf)!==void 0&&e.oneOf.forEach((b,ve)=>{var ye,We;!Array.isArray(e==null?void 0:e.items)&&(typeof t[0]=="object"&&((ye=b==null?void 0:b.items)===null||ye===void 0?void 0:ye.type)==="object"||typeof t[0]=="string"&&((We=b==null?void 0:b.items)===null||We===void 0?void 0:We.type)!=="object")&&(l=b,c.push([s,ve]))}),Xe(l==null?void 0:l.items))return delete r[s],i.pop(),!0;if(ec(l.items)&&!Xe(l.items.format)){for(let b=0;b<t.length;b+=1)r[s][b]=Wc(t[b],(p=l==null?void 0:l.items)===null||p===void 0?void 0:p.format,a);return i.pop(),!0}if(!Array.isArray(l==null?void 0:l.items)&&((f=l==null?void 0:l.items)===null||f===void 0?void 0:f.type)==="object"){for(const b of t)Du(b,n,i,a,c);return i.pop(),!0}if(Array.isArray(l==null?void 0:l.items)){for(let b=0;b<t.length;b+=1)r[s][b]=Wc(t[b],l.items[b].format,a);return i.pop(),!0}}return!1},Du=(t,e,n,r,s=[])=>{var i;if(!ec(t)&&!Array.isArray(t))return Wc(t,e==null?void 0:e.format,r);const a=t;if(Array.isArray(a)&&(e==null?void 0:e.type)==="array"&&((i=e==null?void 0:e.items)===null||i===void 0?void 0:i.type)==="object")$f({value:a,schemaProp:e,schema:e,object:a,key:"",dataPath:n,format:r,oneOfPath:s});else for(const[c,p]of Object.entries(a)){n.push(c);let f=id(e,n,s);if(Xe(f)){delete a[c],n.pop();continue}if(ec(p)){Du(p,e,n,r,s),n.pop();continue}if(!$f({value:p,schemaProp:f,schema:e,object:a,key:c,dataPath:n,format:r,oneOfPath:s})){if((f==null?void 0:f.format)===void 0&&(f==null?void 0:f.oneOf)!==void 0){for(const[l,b]of f.oneOf.entries())if((b==null?void 0:b.format)!==void 0){f=b;break}}a[c]=Wc(p,f.format,r),n.pop()}}return a},At=(t,e,n=O)=>{let r;ec(e)?r=Jo({},e):Array.isArray(e)?r=[...e]:r=e;const s=ec(t)?t:Lc(t);if(!s.properties&&!s.items&&!s.format)throw new A("Invalid json schema for formatting");return Du(r,s,[],n)},Qf="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",rc=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=Fa(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!Ar(t)?e=Fa(t):e=zs(t),sr(Ws(Xl(e)))},sc=t=>{let e;typeof t=="string"?t.startsWith("0x")&&Ar(t)?e=mr(t):e=Fa(t):e=t;const n=rc(e);return n===Qf?void 0:n},Ai=t=>{const e=sc(t);return Xe(e)?Qf:e},Zf=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=Ro(t,!0),n=Ro(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=wa(n)),[e,n]},ic=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,Vc=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},qf=t=>t.toString(2).length,Jf=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return fi(e);throw new Ld(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new Il(e)}if(t==="address"){if(!Ni(n))throw new Ma(n);return n}const r=ic(t);if(t.startsWith("uint")){const s=Vc(r,4);if(s%8||s<8||s>256)throw new Sl(n);const i=Ks(n);if(qf(i)>s)throw new jd(n);if(i<BigInt(0))throw new Hd(n);return s?Gc(i.toString(16),s/8*2):i.toString(16)}if(t.startsWith("int")){const s=Vc(r,3);if(s%8||s<8||s>256)throw new Sl(t);const i=Ks(n);if(qf(i)>s)throw new jd(n);return i<BigInt(0)?Kf(i.toString(),s/8*2):s?Gc(i.toString(16),s/4):i.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new Ba(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new Ba(n);const s=Vc(t,5);if(!s||s<1||s>64||s<n.replace(/^0x/i,"").length/2)throw new Ba(n);return zf(n,s*2)}return""},Xf=t=>{const[e,n]=Zf(t);return Array.isArray(n)?n.map(i=>Jf(e,i).replace("0x","")).join(""):Jf(e,n).replace("0x","")},Co=(...t)=>`0x${t.map(Xf).join("").toLowerCase()}`,Lu=(...t)=>sc(Co(...t)),Yf=(...t)=>Ai(Co(...t)),od=t=>sc(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function eh(t){return sf(t)}async function zc(t){return randomBytes(t)}const Xo=t=>eh(t),ad=t=>sr(Xo(t));var Fu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function uo(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function cd(t,e,n){return Fu(this,void 0,void 0,function*(){let r;const s=yield Promise.race([t instanceof Promise?t:t(),new Promise((i,a)=>{r=setTimeout(()=>n?a(n):i(void 0),e)})]);if(r&&clearTimeout(r),s instanceof Error)throw s;return s})}function Uu(t,e){let n;return[new Promise((s,i)=>{n=setInterval(function a(){return Fu(this,void 0,void 0,function*(){try{const c=yield cd(t,e);Xe(c)||(clearInterval(n),s(c))}catch(c){clearInterval(n),i(c)}}),a}(),e)}),n]}function Om(t,e){return Fu(this,void 0,void 0,function*(){return Uu(t,e)[0]})}function ud(t,e){let n;const r=new Promise((s,i)=>{n=setTimeout(()=>{i(e)},t)});return[n,r]}function th(t,e){let n;const r=new Promise((s,i)=>{n=setInterval(()=>{Fu(this,void 0,void 0,function*(){const a=yield t();a&&(clearInterval(n),i(a))})},e)});return[n,r]}const Hu=()=>{const t=Xo(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=sr(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},ld=t=>{const e=t.error.code;return cs.has(e)||e>=-32099&&e<=-32e3},Yo=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&Xe(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),ea=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&Xe(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),ju=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!Xe(t.params)&&!Xe(t.method),nh=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,Gu=t=>Yo(t)||ea(t),dd=t=>Array.isArray(t)?t.every(Gu):Gu(t),oc=t=>Array.isArray(t)&&t.length>0&&dd(t);let Wu;const rh=t=>{Wu=t},_a=t=>{var e,n,r,s;return typeof Wu<"u"&&(Wu+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:Wu)!==null&&r!==void 0?r:Hu(),method:t.method,params:(s=t.params)!==null&&s!==void 0?s:void 0}},fd=t=>t.map(e=>_a(e)),Gi=t=>Array.isArray(t)&&t.length>0;var Vu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})},zu;class Ku{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[zu]="Promise",this._state="pending",this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return Vu(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Vu(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Vu(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new Ie(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}zu=Symbol.toStringTag;class hd{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(s=>{let i=s;this.lastChunk&&(i=this.lastChunk+i);let a;try{a=JSON.parse(i)}catch{this.lastChunk=i,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new au({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,a&&n.push(a)}),n}}var sh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class pd extends ${constructor(){super(...arguments),this._eventEmitter=new Gf.v,this._chainId="",this._accounts=[]}_getChainId(){return sh(this,void 0,void 0,function*(){var e;const n=yield this.request(_a({method:"eth_chainId",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:""})}_getAccounts(){return sh(this,void 0,void 0,function*(){var e;const n=yield this.request(_a({method:"eth_accounts",params:[]}));return(e=n==null?void 0:n.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new Kd(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var md=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const Bm={autoReconnect:!0,delay:5e3,maxAttempts:5},ih=1e3;class oh extends pd{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new $t(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},Bm),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new hd(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new ni(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new $t(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??ih;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return md(this,arguments,void 0,function*(r,s,i=!1,a=1e3){let c=0;yield md(this,void 0,void 0,function*(){return new Promise(f=>{const l=setInterval(()=>{i&&c>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(l),f(!0)),c+=1},a)})}),this.disconnect(r,s)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new Do),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new gc(this._reconnectOptions.maxAttempts))))}request(e){return md(this,void 0,void 0,function*(){if(kn(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=Gi(e)?e[0].id:e.id;if(!n)throw new Sn("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new Si(n);const r=new Ku;r.catch(i=>{this._eventEmitter.emit("error",i)});const s={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,s),s.deferredPromise;this._sentRequestsQueue.set(n,s);try{this._sendToSocket(s.payload)}catch(i){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",i)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(kn(n)||n.length===0))for(const r of n){if(ju(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const s=oc(r)?r[0].id:r.id,i=this._sentRequestsQueue.get(s);if(!i)return;(oc(r)||Yo(r)||ea(r))&&(this._eventEmitter.emit("message",r),i.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(s)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new Oa(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new Oa(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}class $u{constructor(){this._emitter=new sd}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var Ea;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(Ea||(Ea={}));class Mm extends $u{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:Ro(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:O,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!kn(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!kn(this.config.defaultCommon)&&!kn(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new zd(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!kn(this.config.defaultCommon)&&!kn(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new Vd(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!kn(this.config.defaultHardfork)&&!kn(e)&&!kn(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new Vd(this.config.defaultHardfork,e.hardfork);if(!kn(this.config.defaultChain)&&!kn(e)&&!kn(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new zd(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(Ea.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var Dm=D(64168),ah=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Qu extends ${constructor(e,n){if(super(),!Qu.validateClientUrl(e))throw new $t(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new z}supportsSubscriptions(){return!1}request(e,n){var r;return ah(this,void 0,void 0,function*(){const s=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),i=yield Dm(this.clientUrl,Object.assign(Object.assign({},s),{method:"POST",headers:Object.assign(Object.assign({},s.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new Zi(yield i.json(),void 0,void 0,i.status);return yield i.json()})}on(){throw new z}removeListener(){throw new z}once(){throw new z}removeAllListeners(){throw new z}connect(){throw new z}disconnect(){throw new z}reset(){throw new z}reconnect(){throw new z}}var ac=null;typeof WebSocket<"u"?ac=WebSocket:typeof MozWebSocket<"u"?ac=MozWebSocket:typeof D.g<"u"?ac=D.g.WebSocket||D.g.MozWebSocket:typeof window<"u"?ac=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ac=self.WebSocket||self.MozWebSocket);var Lm=ac;class ch extends oh{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!kn(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new Lm(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new Oa;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,s;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",i=>this._onCloseHandler(i)),(s=this._socketConnection)===null||s===void 0||s.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const uh=t=>$.isWeb3Provider(t),jg=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction"&&"isMetaMask"in t&&t.isMetaMask,lh=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",Zu=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",dh=t=>typeof t!="string"&&"send"in t,fh=t=>typeof t!="string"&&"sendAsync"in t,qu=t=>t&&(uh(t)||Zu(t)||lh(t)||fh(t)||dh(t)),o=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var u=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})},d;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(d||(d={}));const m={HttpProvider:Qu,WebsocketProvider:ch};class y extends $u{constructor(e,n,r){super(),kn(e)||this.setProvider(e),this.useRpcCallSpecification=n,kn(r)||(this.middleware=r)}static get providers(){return m}get provider(){return this._provider}get providers(){return m}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new st(`Can't autodetect provider for "${e}"`);else kn(e)?n=void 0:n=e;return this.emit(d.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(d.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return u(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(kn(this.middleware)||(r=yield this.middleware.processResponse(r)),Yo(r))return r.result;throw new Zi(r)})}sendBatch(e){return u(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return u(this,void 0,void 0,function*(){const{provider:n}=this;if(kn(n))throw new st("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=Gi(e)?fd(e):_a(e);if(kn(this.middleware)||(r=yield this.middleware.processRequest(r)),uh(n)){let s;try{s=yield n.request(r)}catch(i){s=i}return this._processJsonRpcResponse(r,s,{legacy:!1,error:!1})}if(Zu(n))return n.request(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));if(lh(n))return new Promise((s,i)=>{const a=f=>{i(this._processJsonRpcResponse(r,f,{legacy:!0,error:!0}))},c=f=>s(this._processJsonRpcResponse(r,f,{legacy:!0,error:!1})),p=n.request(r,(f,l)=>f?a(f):c(l));uo(p)&&p.then(c).catch(l=>{try{const b=this._processJsonRpcResponse(r,l,{legacy:!0,error:!0});i(b)}catch(b){i(b)}})});if(dh(n))return new Promise((s,i)=>{n.send(r,(a,c)=>{if(a)return i(this._processJsonRpcResponse(r,a,{legacy:!0,error:!0}));if(kn(c))throw new Zi({},'Got a "nullish" response from provider.');return s(this._processJsonRpcResponse(r,c,{legacy:!0,error:!1}))})});if(fh(n))return n.sendAsync(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));throw new st("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:s}){if(kn(n))return this._buildResponse(e,null,s);if(ea(n)){if(this.useRpcCallSpecification&&ld(n)){const i=n;if(cs.get(i.error.code)){const a=cs.get(i.error.code).error;throw new a(i)}else throw new gs(i)}else if(!y._isReverted(n))throw new au(n,e)}if(Yo(n))return n;if(n instanceof Error)throw y._isReverted(n),n;if(!r&&Gi(e)&&oc(n)||r&&!s&&Gi(e))return n;if(r&&s&&Gi(e))throw n;if(r&&!ea(n)&&!Yo(n))return this._buildResponse(e,n,s);throw Gi(e)&&!Array.isArray(n)?new Zi(n,"Got normal response for a batch request."):!Gi(e)&&Array.isArray(n)?new Zi(n,"Got batch response for a normal request."):new Zi(n,"Invalid response")}static _isReverted(e){let n;if(ea(e)?n=e.error:e instanceof Error&&(n=e),n!=null&&n.message.includes("revert"))throw new Nt(n);return!1}_buildResponse(e,n,r){const s={jsonrpc:"2.0",id:Gi(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},s),{error:n}):Object.assign(Object.assign({},s),{result:n})}}var E=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class R{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(d.BEFORE_PROVIDER_CHANGE,()=>E(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(d.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof(e==null?void 0:e.supportsSubscriptions)=="function"&&!(e!=null&&e.supportsSubscriptions())||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,s;if(!e)throw new dt("Should not call messageListener with no data. Type was");const i=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((s=e.id)===null||s===void 0?void 0:s.toString(16));if(i){const a=this._subscriptions.get(i);a==null||a.processSubscriptionData(e)}}subscribe(e,n){return E(this,arguments,void 0,function*(r,s,i=O){const a=this.registeredSubscriptions[r];if(!a)throw new dt("Invalid subscription type");const c=new a(s??void 0,{subscriptionManager:this,returnFormat:i});return yield this.addSubscription(c),c})}get subscriptions(){return this._subscriptions}addSubscription(e){return E(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new st("Provider not available");if(!this.supportsSubscriptions())throw new dt("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new dt(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),kn(e.id))throw new dt("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return E(this,void 0,void 0,function*(){const{id:n}=e;if(kn(n))throw new dt("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new dt(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return E(this,void 0,void 0,function*(){const n=[];for(const[r,s]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:s}))&&n.push(this.removeSubscription(s));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return kn(this.requestManager.provider)?!1:o(this.requestManager.provider)}}var C=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class G extends $u{constructor(e,n){var r;super(),this.args=e;const{requestManager:s}=n,{subscriptionManager:i}=n;s?this._subscriptionManager=new R(s,{},!0):this._subscriptionManager=i,this._returnFormat=(r=n==null?void 0:n.returnFormat)!==null&&r!==void 0?r:O}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return C(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e!=null&&e.data?this._processSubscriptionResult((r=(n=e==null?void 0:e.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e==null?void 0:e.data):e&&ju(e)&&this._processSubscriptionResult(e==null?void 0:e.params.result)}sendSubscriptionRequest(){return C(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return C(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return C(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return C(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var K=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class ne extends se{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!Xe(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return Xe(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return Xe(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return K(this,void 0,void 0,function*(){return Promise.all(this.map(r=>K(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return K(this,void 0,void 0,function*(){const s=yield Promise.all(e.map(i=>K(this,void 0,void 0,function*(){return this._accountProvider.decrypt(i,n,r)})));for(const i of s)this.add(i);return this})}save(e,n){return K(this,void 0,void 0,function*(){const r=ne.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return K(this,void 0,void 0,function*(){const r=ne.getStorage();if(!r)throw new Error("Local storage not available.");const s=r.getItem(n??this._defaultKeyName);return s&&(yield this.decrypt(JSON.parse(s)||[],e)),this})}}const Y={web:fu};function Pe(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function Me(t,e,n){if(!Y.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await Y.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function Le(t,e,n,r="aes-128-ctr",s=!0){if(Pe(e,n,r),Y.web){const[i,a]=await Me(r,e,n),c=await Y.web.subtle.encrypt(a,i,t);let p=new Uint8Array(c);return!s&&a.name==="aes-cbc"&&!(t.length%16)&&(p=p.slice(0,-16)),p}else if(Y.node){const i=Y.node.createCipheriv(r,e,n);return i.setAutoPadding(s),pu(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}async function ce(t,e,n,r){const s=t.slice(-16);for(let a=0;a<16;a++)s[a]^=n[a]^16;return(await Le(s,e,n,r)).slice(0,16)}async function Re(t,e,n,r="aes-128-ctr",s=!0){if(Pe(e,n,r),Y.web){const[i,a]=await Me(r,e,n);if(!s&&a.name==="aes-cbc"){const f=await ce(t,e,n,r);t=pu(t,f)}const c=await Y.web.subtle.decrypt(a,i,t),p=new Uint8Array(c);if(a.name==="aes-cbc"){const f=await Le(p,e,n,r);if(!Sp(f,t))throw new Error("AES: wrong padding")}return p}else if(Y.node){const i=Y.node.createDecipheriv(r,e,n);return i.setAutoPadding(s),pu(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}class je extends rf{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Lo(e);const r=Fo(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return fa(this),this.iHash.update(e),this}digestInto(e){fa(this),La(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qe=(t,e,n)=>new je(t,e).update(n).digest();qe.create=(t,e)=>new je(t,e);function xt(t,e,n,r){Lo(t);const s=vp({dkLen:32,asyncTick:10},r),{c:i,dkLen:a,asyncTick:c}=s;if(Ns(i),Ns(a),Ns(c),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const p=Fo(e),f=Fo(n),l=new Uint8Array(a),b=qe.create(t,p),ve=b._cloneInto().update(f);return{c:i,dkLen:a,asyncTick:c,DK:l,PRF:b,PRFSalt:ve}}function jt(t,e,n,r,s){return t.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),n}function Ft(t,e,n,r){const{c:s,dkLen:i,DK:a,PRF:c,PRFSalt:p}=xt(t,e,n,r);let f;const l=new Uint8Array(4),b=hu(l),ve=new Uint8Array(c.outputLen);for(let ye=1,We=0;We<i;ye++,We+=c.outputLen){const we=a.subarray(We,We+c.outputLen);b.setInt32(0,ye,!1),(f=p._cloneInto(f)).update(l).digestInto(ve),we.set(ve.subarray(0,we.length));for(let Ne=1;Ne<s;Ne++){c._cloneInto(f).update(ve).digestInto(ve);for(let Ue=0;Ue<we.length;Ue++)we[Ue]^=ve[Ue]}}return jt(c,p,a,f,ve)}async function gn(t,e,n,r){const{c:s,dkLen:i,asyncTick:a,DK:c,PRF:p,PRFSalt:f}=xt(t,e,n,r);let l;const b=new Uint8Array(4),ve=createView(b),ye=new Uint8Array(p.outputLen);for(let We=1,we=0;we<i;We++,we+=p.outputLen){const Ne=c.subarray(we,we+p.outputLen);ve.setInt32(0,We,!1),(l=f._cloneInto(l)).update(b).digestInto(ye),Ne.set(ye.subarray(0,Ne.length)),await asyncLoop(s-1,a,()=>{p._cloneInto(l).update(ye).digestInto(ye);for(let Ue=0;Ue<Ne.length;Ue++)Ne[Ue]^=ye[Ue]})}return jt(p,f,c,l,ye)}function an(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),p=r?4:0,f=r?0:4;t.setUint32(e+p,a,r),t.setUint32(e+f,c,r)}class Mn extends rf{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=hu(this.buffer)}update(e){fa(this);const{view:n,buffer:r,blockLen:s}=this;e=Fo(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const p=hu(e);for(;s<=i-a;a+=s)this.process(p,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fa(this),lu(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let b=a;b<s;b++)n[b]=0;an(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=hu(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=p/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<f;b++)c.setUint32(4*b,l[b],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}}const xr=(t,e,n)=>t&e^~t&n,Rn=(t,e,n)=>t&e^t&n^e&n,Sr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Tr=new Uint32Array(64);class Lr extends Mn{constructor(){super(64,32,8,!1),this.A=gr[0]|0,this.B=gr[1]|0,this.C=gr[2]|0,this.D=gr[3]|0,this.E=gr[4]|0,this.F=gr[5]|0,this.G=gr[6]|0,this.H=gr[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:c,H:p}=this;return[e,n,r,s,i,a,c,p]}set(e,n,r,s,i,a,c,p){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=p|0}process(e,n){for(let b=0;b<16;b++,n+=4)Tr[b]=e.getUint32(n,!1);for(let b=16;b<64;b++){const ve=Tr[b-15],ye=Tr[b-2],We=_i(ve,7)^_i(ve,18)^ve>>>3,we=_i(ye,17)^_i(ye,19)^ye>>>10;Tr[b]=we+Tr[b-7]+We+Tr[b-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:p,G:f,H:l}=this;for(let b=0;b<64;b++){const ve=_i(c,6)^_i(c,11)^_i(c,25),ye=l+ve+xr(c,p,f)+Sr[b]+Tr[b]|0,we=(_i(r,2)^_i(r,13)^_i(r,22))+Rn(r,s,i)|0;l=f,f=p,p=c,c=a+ye|0,a=i,i=s,s=r,r=ye+we|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,p=p+this.F|0,f=f+this.G|0,l=l+this.H|0,this.set(r,s,i,a,c,p,f,l)}roundClean(){Tr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Xr extends null{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const kr=Ul(()=>new Lr),hr=null,[Br,dn]=qn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),is=new Uint32Array(80),ls=new Uint32Array(80);class lo extends Mn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:c,Dl:p,Eh:f,El:l,Fh:b,Fl:ve,Gh:ye,Gl:We,Hh:we,Hl:Ne}=this;return[e,n,r,s,i,a,c,p,f,l,b,ve,ye,We,we,Ne]}set(e,n,r,s,i,a,c,p,f,l,b,ve,ye,We,we,Ne){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=c|0,this.Dl=p|0,this.Eh=f|0,this.El=l|0,this.Fh=b|0,this.Fl=ve|0,this.Gh=ye|0,this.Gl=We|0,this.Hh=we|0,this.Hl=Ne|0}process(e,n){for(let yt=0;yt<16;yt++,n+=4)is[yt]=e.getUint32(n),ls[yt]=e.getUint32(n+=4);for(let yt=16;yt<80;yt++){const Qt=is[yt-15]|0,Ct=ls[yt-15]|0,Gt=qn.rotrSH(Qt,Ct,1)^qn.rotrSH(Qt,Ct,8)^qn.shrSH(Qt,Ct,7),Yt=qn.rotrSL(Qt,Ct,1)^qn.rotrSL(Qt,Ct,8)^qn.shrSL(Qt,Ct,7),qt=is[yt-2]|0,vr=ls[yt-2]|0,cr=qn.rotrSH(qt,vr,19)^qn.rotrBH(qt,vr,61)^qn.shrSH(qt,vr,6),er=qn.rotrSL(qt,vr,19)^qn.rotrBL(qt,vr,61)^qn.shrSL(qt,vr,6),es=qn.add4L(Yt,er,ls[yt-7],ls[yt-16]),os=qn.add4H(es,Gt,cr,is[yt-7],is[yt-16]);is[yt]=os|0,ls[yt]=es|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:c,Cl:p,Dh:f,Dl:l,Eh:b,El:ve,Fh:ye,Fl:We,Gh:we,Gl:Ne,Hh:Ue,Hl:ft}=this;for(let yt=0;yt<80;yt++){const Qt=qn.rotrSH(b,ve,14)^qn.rotrSH(b,ve,18)^qn.rotrBH(b,ve,41),Ct=qn.rotrSL(b,ve,14)^qn.rotrSL(b,ve,18)^qn.rotrBL(b,ve,41),Gt=b&ye^~b&we,Yt=ve&We^~ve&Ne,qt=qn.add5L(ft,Ct,Yt,dn[yt],ls[yt]),vr=qn.add5H(qt,Ue,Qt,Gt,Br[yt],is[yt]),cr=qt|0,er=qn.rotrSH(r,s,28)^qn.rotrBH(r,s,34)^qn.rotrBH(r,s,39),es=qn.rotrSL(r,s,28)^qn.rotrBL(r,s,34)^qn.rotrBL(r,s,39),os=r&i^r&c^i&c,Qs=s&a^s&p^a&p;Ue=we|0,ft=Ne|0,we=ye|0,Ne=We|0,ye=b|0,We=ve|0,{h:b,l:ve}=qn.add(f|0,l|0,vr|0,cr|0),f=c|0,l=p|0,c=i|0,p=a|0,i=r|0,a=s|0;const Lt=qn.add3L(cr,es,Qs);r=qn.add3H(Lt,vr,er,os),s=Lt|0}({h:r,l:s}=qn.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=qn.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:c,l:p}=qn.add(this.Ch|0,this.Cl|0,c|0,p|0),{h:f,l}=qn.add(this.Dh|0,this.Dl|0,f|0,l|0),{h:b,l:ve}=qn.add(this.Eh|0,this.El|0,b|0,ve|0),{h:ye,l:We}=qn.add(this.Fh|0,this.Fl|0,ye|0,We|0),{h:we,l:Ne}=qn.add(this.Gh|0,this.Gl|0,we|0,Ne|0),{h:Ue,l:ft}=qn.add(this.Hh|0,this.Hl|0,Ue|0,ft|0),this.set(r,s,i,a,c,p,f,l,b,ve,ye,We,we,Ne,Ue,ft)}roundClean(){is.fill(0),ls.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ju extends null{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Xu extends null{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class gd extends null{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Aa=Ul(()=>new lo),ta=null,Yu=null,Wi=null;async function el(t,e,n,r,s){if(!["sha256","sha512"].includes(s))throw new Error("Only sha256 and sha512 are supported");return assertBytes(t),assertBytes(e),_pbkdf2Async(s==="sha256"?sha256:sha512,t,e,{c:n,dkLen:r})}function yd(t,e,n,r,s){if(!["sha256","sha512"].includes(s))throw new Error("Only sha256 and sha512 are supported");return Ha(t),Ha(e),Ft(s==="sha256"?kr:Aa,t,e,{c:n,dkLen:r})}const yr=(t,e)=>t<<e|t>>>32-e;function cc(t,e,n,r,s,i){let a=t[e++]^n[r++],c=t[e++]^n[r++],p=t[e++]^n[r++],f=t[e++]^n[r++],l=t[e++]^n[r++],b=t[e++]^n[r++],ve=t[e++]^n[r++],ye=t[e++]^n[r++],We=t[e++]^n[r++],we=t[e++]^n[r++],Ne=t[e++]^n[r++],Ue=t[e++]^n[r++],ft=t[e++]^n[r++],yt=t[e++]^n[r++],Qt=t[e++]^n[r++],Ct=t[e++]^n[r++],Gt=a,Yt=c,qt=p,vr=f,cr=l,er=b,es=ve,os=ye,Qs=We,Lt=we,on=Ne,zn=Ue,Rr=ft,br=yt,ts=Qt,Is=Ct;for(let mi=0;mi<8;mi+=2)cr^=yr(Gt+Rr|0,7),Qs^=yr(cr+Gt|0,9),Rr^=yr(Qs+cr|0,13),Gt^=yr(Rr+Qs|0,18),Lt^=yr(er+Yt|0,7),br^=yr(Lt+er|0,9),Yt^=yr(br+Lt|0,13),er^=yr(Yt+br|0,18),ts^=yr(on+es|0,7),qt^=yr(ts+on|0,9),es^=yr(qt+ts|0,13),on^=yr(es+qt|0,18),vr^=yr(Is+zn|0,7),os^=yr(vr+Is|0,9),zn^=yr(os+vr|0,13),Is^=yr(zn+os|0,18),Yt^=yr(Gt+vr|0,7),qt^=yr(Yt+Gt|0,9),vr^=yr(qt+Yt|0,13),Gt^=yr(vr+qt|0,18),es^=yr(er+cr|0,7),os^=yr(es+er|0,9),cr^=yr(os+es|0,13),er^=yr(cr+os|0,18),zn^=yr(on+Lt|0,7),Qs^=yr(zn+on|0,9),Lt^=yr(Qs+zn|0,13),on^=yr(Lt+Qs|0,18),Rr^=yr(Is+ts|0,7),br^=yr(Rr+Is|0,9),ts^=yr(br+Rr|0,13),Is^=yr(ts+br|0,18);s[i++]=a+Gt|0,s[i++]=c+Yt|0,s[i++]=p+qt|0,s[i++]=f+vr|0,s[i++]=l+cr|0,s[i++]=b+er|0,s[i++]=ve+es|0,s[i++]=ye+os|0,s[i++]=We+Qs|0,s[i++]=we+Lt|0,s[i++]=Ne+on|0,s[i++]=Ue+zn|0,s[i++]=ft+Rr|0,s[i++]=yt+br|0,s[i++]=Qt+ts|0,s[i++]=Ct+Is|0}function xa(t,e,n,r,s){let i=r+0,a=r+16*s;for(let c=0;c<16;c++)n[a+c]=t[e+(2*s-1)*16+c];for(let c=0;c<s;c++,i+=16,e+=16)cc(n,a,t,e,n,i),c>0&&(a+=16),cc(n,i,t,e+=16,n,a)}function hh(t,e,n){const r=vp({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:s,r:i,p:a,dkLen:c,asyncTick:p,maxmem:f,onProgress:l}=r;if(Ns(s),Ns(i),Ns(a),Ns(c),Ns(p),Ns(f),l!==void 0&&typeof l!="function")throw new Error("progressCb should be function");const b=128*i,ve=b/4;if(s<=1||s&s-1||s>=2**(b/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/b)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const ye=b*(s+a);if(ye>f)throw new Error(`Scrypt: parameters too large, ${ye} (128 * r * (N + p)) > ${f} (maxmem)`);const We=Ft(kr,t,e,{c:1,dkLen:b*a}),we=Dl(We),Ne=Dl(new Uint8Array(b*s)),Ue=Dl(new Uint8Array(b));let ft=()=>{};if(l){const yt=2*s*a,Qt=Math.max(Math.floor(yt/1e4),1);let Ct=0;ft=()=>{Ct++,l&&(!(Ct%Qt)||Ct===yt)&&l(Ct/yt)}}return{N:s,r:i,p:a,dkLen:c,blockSize32:ve,V:Ne,B32:we,B:We,tmp:Ue,blockMixCb:ft,asyncTick:p}}function ph(t,e,n,r,s){const i=Ft(kr,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),s.fill(0),i}function Fm(t,e,n){const{N:r,r:s,p:i,dkLen:a,blockSize32:c,V:p,B32:f,B:l,tmp:b,blockMixCb:ve}=hh(t,e,n);for(let ye=0;ye<i;ye++){const We=c*ye;for(let we=0;we<c;we++)p[we]=f[We+we];for(let we=0,Ne=0;we<r-1;we++)xa(p,Ne,p,Ne+=c,s),ve();xa(p,(r-1)*c,f,We,s),ve();for(let we=0;we<r;we++){const Ne=f[We+c-16]%r;for(let Ue=0;Ue<c;Ue++)b[Ue]=f[We+Ue]^p[Ne*c+Ue];xa(b,0,f,We,s),ve()}}return ph(t,a,l,p,b)}async function Gg(t,e,n){const{N:r,r:s,p:i,dkLen:a,blockSize32:c,V:p,B32:f,B:l,tmp:b,blockMixCb:ve,asyncTick:ye}=hh(t,e,n);for(let We=0;We<i;We++){const we=c*We;for(let Ue=0;Ue<c;Ue++)p[Ue]=f[we+Ue];let Ne=0;await asyncLoop(r-1,ye,()=>{xa(p,Ne,p,Ne+=c,s),ve()}),xa(p,(r-1)*c,f,we,s),ve(),await asyncLoop(r,ye,()=>{const Ue=f[we+c-16]%r;for(let ft=0;ft<c;ft++)b[ft]=f[we+ft]^p[Ue*c+ft];xa(b,0,f,we,s),ve()})}return ph(t,a,l,p,b)}async function vd(t,e,n,r,s,i,a){return assertBytes(t),assertBytes(e),_async(t,e,{N:n,r:s,p:r,dkLen:i,onProgress:a})}function Wg(t,e,n,r,s,i,a){return Ha(t),Ha(e),Fm(t,e,{N:n,r:s,p:r,dkLen:i,onProgress:a})}const Vg=BigInt(0),mh=BigInt(1),yb=BigInt(2);function na(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const vb=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tl(t){if(!na(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=vb[t[n]];return e}function bb(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function zg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Ta={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Kg(t){if(t>=Ta._0&&t<=Ta._9)return t-Ta._0;if(t>=Ta._A&&t<=Ta._F)return t-(Ta._A-10);if(t>=Ta._a&&t<=Ta._f)return t-(Ta._a-10)}function nl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=Kg(t.charCodeAt(i)),c=Kg(t.charCodeAt(i+1));if(a===void 0||c===void 0){const p=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+i)}r[s]=a*16+c}return r}function Kc(t){return zg(tl(t))}function Um(t){if(!na(t))throw new Error("Uint8Array expected");return zg(tl(Uint8Array.from(t).reverse()))}function rl(t,e){return nl(t.toString(16).padStart(e*2,"0"))}function Hm(t,e){return rl(t,e).reverse()}function b1(t){return nl(bb(t))}function No(t,e,n){let r;if(typeof e=="string")try{r=nl(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(na(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function bd(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];if(!na(i))throw new Error("Uint8Array expected");e+=i.length}let n=new Uint8Array(e),r=0;for(let s=0;s<t.length;s++){const i=t[s];n.set(i,r),r+=i.length}return n}function w1(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function _1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function E1(t){let e;for(e=0;t>Vg;t>>=mh,e+=1);return e}function A1(t,e){return t>>BigInt(e)&mh}const x1=(t,e,n)=>t|(n?mh:Vg)<<BigInt(e),jm=t=>(yb<<BigInt(t-1))-mh,Gm=t=>new Uint8Array(t),$g=t=>Uint8Array.from(t);function Qg(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Gm(t),s=Gm(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},c=(...b)=>n(s,r,...b),p=(b=Gm())=>{s=c($g([0]),b),r=c(),b.length!==0&&(s=c($g([1]),b),r=c())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const ve=[];for(;b<e;){r=c();const ye=r.slice();ve.push(ye),b+=r.length}return bd(...ve)};return(b,ve)=>{a(),p(b);let ye;for(;!(ye=ve(f()));)p();return a(),ye}}const wb={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||na(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function wd(t,e,n={}){const r=(s,i,a)=>{const c=wb[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const p=t[s];if(!(a&&p===void 0)&&!c(p,t))throw new Error(`Invalid param ${String(s)}=${p} (${typeof p}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const Fs=BigInt(0),Zr=BigInt(1),uc=BigInt(2),_b=BigInt(3),Wm=BigInt(4),Zg=BigInt(5),qg=BigInt(8),Eb=BigInt(9),Ab=BigInt(16);function hi(t,e){const n=t%e;return n>=Fs?n:e+n}function xb(t,e,n){if(n<=Fs||e<Fs)throw new Error("Expected power/modulo > 0");if(n===Zr)return Fs;let r=Zr;for(;e>Fs;)e&Zr&&(r=r*t%n),t=t*t%n,e>>=Zr;return r}function fo(t,e,n){let r=t;for(;e-- >Fs;)r*=r,r%=n;return r}function gh(t,e){if(t===Fs||e<=Fs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=hi(t,e),r=e,s=Fs,i=Zr,a=Zr,c=Fs;for(;n!==Fs;){const f=r/n,l=r%n,b=s-a*f,ve=i-c*f;r=n,n=l,s=a,i=c,a=b,c=ve}if(r!==Zr)throw new Error("invert: does not exist");return hi(s,e)}function Tb(t){const e=(t-Zr)/uc;let n,r,s;for(n=t-Zr,r=0;n%uc===Fs;n/=uc,r++);for(s=uc;s<t&&xb(s,e,t)!==t-Zr;s++);if(r===1){const a=(t+Zr)/Wm;return function(p,f){const l=p.pow(f,a);if(!p.eql(p.sqr(l),f))throw new Error("Cannot find square root");return l}}const i=(n+Zr)/uc;return function(c,p){if(c.pow(p,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,l=c.pow(c.mul(c.ONE,s),n),b=c.pow(p,i),ve=c.pow(p,n);for(;!c.eql(ve,c.ONE);){if(c.eql(ve,c.ZERO))return c.ZERO;let ye=1;for(let we=c.sqr(ve);ye<f&&!c.eql(we,c.ONE);ye++)we=c.sqr(we);const We=c.pow(l,Zr<<BigInt(f-ye-1));l=c.sqr(We),b=c.mul(b,We),ve=c.mul(ve,l),f=ye}return b}}function Ib(t){if(t%Wm===_b){const e=(t+Zr)/Wm;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%qg===Zg){const e=(t-Zg)/qg;return function(r,s){const i=r.mul(s,uc),a=r.pow(i,e),c=r.mul(s,a),p=r.mul(r.mul(c,uc),a),f=r.mul(c,r.sub(p,r.ONE));if(!r.eql(r.sqr(f),s))throw new Error("Cannot find square root");return f}}return t%Ab,Tb(t)}const T1=(t,e)=>(hi(t,e)&Zr)===Zr,Sb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pb(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Sb.reduce((r,s)=>(r[s]="function",r),e);return wd(t,n)}function Rb(t,e,n){if(n<Fs)throw new Error("Expected power > 0");if(n===Fs)return t.ONE;if(n===Zr)return e;let r=t.ONE,s=e;for(;n>Fs;)n&Zr&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Zr;return r}function Cb(t,e){const n=new Array(e.length),r=e.reduce((i,a,c)=>t.is0(a)?i:(n[c]=i,t.mul(i,a)),t.ONE),s=t.inv(r);return e.reduceRight((i,a,c)=>t.is0(a)?i:(n[c]=t.mul(i,n[c]),t.mul(i,a)),s),n}function I1(t,e,n){return t.mul(e,typeof n=="bigint"?gh(n,t.ORDER):t.inv(n))}function S1(t){const e=(t.ORDER-Zr)/uc;return n=>{const r=t.pow(n,e);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}}function Vm(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Nb(t,e,n=!1,r={}){if(t<=Fs)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Vm(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Ib(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:jm(s),ZERO:Fs,ONE:Zr,create:p=>hi(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return Fs<=p&&p<t},is0:p=>p===Fs,isOdd:p=>(p&Zr)===Zr,neg:p=>hi(-p,t),eql:(p,f)=>p===f,sqr:p=>hi(p*p,t),add:(p,f)=>hi(p+f,t),sub:(p,f)=>hi(p-f,t),mul:(p,f)=>hi(p*f,t),pow:(p,f)=>Rb(c,p,f),div:(p,f)=>hi(p*gh(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>gh(p,t),sqrt:r.sqrt||(p=>a(c,p)),invertBatch:p=>Cb(c,p),cmov:(p,f,l)=>l?f:p,toBytes:p=>n?Hm(p,i):rl(p,i),fromBytes:p=>{if(p.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${p.length}`);return n?Um(p):Kc(p)}});return Object.freeze(c)}function P1(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)}function R1(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function C1(t,e,n=!1){t=ensureBytes("privateHash",t);const r=t.length,s=Vm(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${r}`);const i=n?bytesToNumberLE(t):bytesToNumberBE(t);return hi(i,e-Zr)+Zr}function Jg(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Xg(t){const e=Jg(t);return e+Math.ceil(e/2)}function kb(t,e,n=!1){const r=t.length,s=Jg(e),i=Xg(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=n?Kc(t):Um(t),c=hi(a,e-Zr)+Zr;return n?Hm(c,s):rl(c,s)}const Ob=BigInt(0),zm=BigInt(1);function Bb(t,e){const n=(s,i)=>{const a=i.negate();return s?a:i},r=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(s,i){let a=t.ZERO,c=s;for(;i>Ob;)i&zm&&(a=a.add(c)),c=c.double(),i>>=zm;return a},precomputeWindow(s,i){const{windows:a,windowSize:c}=r(i),p=[];let f=s,l=f;for(let b=0;b<a;b++){l=f,p.push(l);for(let ve=1;ve<c;ve++)l=l.add(f),p.push(l);f=l.double()}return p},wNAF(s,i,a){const{windows:c,windowSize:p}=r(s);let f=t.ZERO,l=t.BASE;const b=BigInt(2**s-1),ve=2**s,ye=BigInt(s);for(let We=0;We<c;We++){const we=We*p;let Ne=Number(a&b);a>>=ye,Ne>p&&(Ne-=ve,a+=zm);const Ue=we,ft=we+Math.abs(Ne)-1,yt=We%2!==0,Qt=Ne<0;Ne===0?l=l.add(n(yt,i[Ue])):f=f.add(n(Qt,i[ft]))}return{p:f,f:l}},wNAFCached(s,i,a,c){const p=s._WINDOW_SIZE||1;let f=i.get(s);return f||(f=this.precomputeWindow(s,p),p!==1&&i.set(s,c(f))),this.wNAF(p,f,a)}}}function Yg(t){return Pb(t.Fp),wd(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vm(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function Mb(t){const e=Yg(t);wd(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Db,hexToBytes:Lb}=J,$c={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=$c;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Db(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=$c,n=typeof t=="string"?Lb(t):t;if(!na(n))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=$c._parseInt(n.subarray(2)),{d:a,l:c}=$c._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,n=f=>{const l=f.toString(16);return l.length&1?`0${l}`:l},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,a=s.length/2,c=n(i),p=n(a);return`30${n(a+i+4)}02${p}${s}02${c}${r}`}},ko=BigInt(0),ws=BigInt(1),lc=BigInt(2),yh=BigInt(3),ey=BigInt(4);function Fb(t){const e=Mb(t),{Fp:n}=e,r=e.toBytes||((We,we,Ne)=>{const Ue=we.toAffine();return bd(Uint8Array.from([4]),n.toBytes(Ue.x),n.toBytes(Ue.y))}),s=e.fromBytes||(We=>{const we=We.subarray(1),Ne=n.fromBytes(we.subarray(0,n.BYTES)),Ue=n.fromBytes(we.subarray(n.BYTES,2*n.BYTES));return{x:Ne,y:Ue}});function i(We){const{a:we,b:Ne}=e,Ue=n.sqr(We),ft=n.mul(Ue,We);return n.add(n.add(ft,n.mul(We,we)),Ne)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(We){return typeof We=="bigint"&&ko<We&&We<e.n}function c(We){if(!a(We))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(We){const{allowedPrivateKeyLengths:we,nByteLength:Ne,wrapPrivateKey:Ue,n:ft}=e;if(we&&typeof We!="bigint"){if(na(We)&&(We=tl(We)),typeof We!="string"||!we.includes(We.length))throw new Error("Invalid key");We=We.padStart(Ne*2,"0")}let yt;try{yt=typeof We=="bigint"?We:Kc(No("private key",We,Ne))}catch{throw new Error(`private key must be ${Ne} bytes, hex or bigint, not ${typeof We}`)}return Ue&&(yt=hi(yt,ft)),c(yt),yt}const f=new Map;function l(We){if(!(We instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(we,Ne,Ue){if(this.px=we,this.py=Ne,this.pz=Ue,we==null||!n.isValid(we))throw new Error("x required");if(Ne==null||!n.isValid(Ne))throw new Error("y required");if(Ue==null||!n.isValid(Ue))throw new Error("z required")}static fromAffine(we){const{x:Ne,y:Ue}=we||{};if(!we||!n.isValid(Ne)||!n.isValid(Ue))throw new Error("invalid affine point");if(we instanceof b)throw new Error("projective point not allowed");const ft=yt=>n.eql(yt,n.ZERO);return ft(Ne)&&ft(Ue)?b.ZERO:new b(Ne,Ue,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(we){const Ne=n.invertBatch(we.map(Ue=>Ue.pz));return we.map((Ue,ft)=>Ue.toAffine(Ne[ft])).map(b.fromAffine)}static fromHex(we){const Ne=b.fromAffine(s(No("pointHex",we)));return Ne.assertValidity(),Ne}static fromPrivateKey(we){return b.BASE.multiply(p(we))}_setWindowSize(we){this._WINDOW_SIZE=we,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:we,y:Ne}=this.toAffine();if(!n.isValid(we)||!n.isValid(Ne))throw new Error("bad point: x or y not FE");const Ue=n.sqr(Ne),ft=i(we);if(!n.eql(Ue,ft))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:we}=this.toAffine();if(n.isOdd)return!n.isOdd(we);throw new Error("Field doesn't support isOdd")}equals(we){l(we);const{px:Ne,py:Ue,pz:ft}=this,{px:yt,py:Qt,pz:Ct}=we,Gt=n.eql(n.mul(Ne,Ct),n.mul(yt,ft)),Yt=n.eql(n.mul(Ue,Ct),n.mul(Qt,ft));return Gt&&Yt}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:we,b:Ne}=e,Ue=n.mul(Ne,yh),{px:ft,py:yt,pz:Qt}=this;let Ct=n.ZERO,Gt=n.ZERO,Yt=n.ZERO,qt=n.mul(ft,ft),vr=n.mul(yt,yt),cr=n.mul(Qt,Qt),er=n.mul(ft,yt);return er=n.add(er,er),Yt=n.mul(ft,Qt),Yt=n.add(Yt,Yt),Ct=n.mul(we,Yt),Gt=n.mul(Ue,cr),Gt=n.add(Ct,Gt),Ct=n.sub(vr,Gt),Gt=n.add(vr,Gt),Gt=n.mul(Ct,Gt),Ct=n.mul(er,Ct),Yt=n.mul(Ue,Yt),cr=n.mul(we,cr),er=n.sub(qt,cr),er=n.mul(we,er),er=n.add(er,Yt),Yt=n.add(qt,qt),qt=n.add(Yt,qt),qt=n.add(qt,cr),qt=n.mul(qt,er),Gt=n.add(Gt,qt),cr=n.mul(yt,Qt),cr=n.add(cr,cr),qt=n.mul(cr,er),Ct=n.sub(Ct,qt),Yt=n.mul(cr,vr),Yt=n.add(Yt,Yt),Yt=n.add(Yt,Yt),new b(Ct,Gt,Yt)}add(we){l(we);const{px:Ne,py:Ue,pz:ft}=this,{px:yt,py:Qt,pz:Ct}=we;let Gt=n.ZERO,Yt=n.ZERO,qt=n.ZERO;const vr=e.a,cr=n.mul(e.b,yh);let er=n.mul(Ne,yt),es=n.mul(Ue,Qt),os=n.mul(ft,Ct),Qs=n.add(Ne,Ue),Lt=n.add(yt,Qt);Qs=n.mul(Qs,Lt),Lt=n.add(er,es),Qs=n.sub(Qs,Lt),Lt=n.add(Ne,ft);let on=n.add(yt,Ct);return Lt=n.mul(Lt,on),on=n.add(er,os),Lt=n.sub(Lt,on),on=n.add(Ue,ft),Gt=n.add(Qt,Ct),on=n.mul(on,Gt),Gt=n.add(es,os),on=n.sub(on,Gt),qt=n.mul(vr,Lt),Gt=n.mul(cr,os),qt=n.add(Gt,qt),Gt=n.sub(es,qt),qt=n.add(es,qt),Yt=n.mul(Gt,qt),es=n.add(er,er),es=n.add(es,er),os=n.mul(vr,os),Lt=n.mul(cr,Lt),es=n.add(es,os),os=n.sub(er,os),os=n.mul(vr,os),Lt=n.add(Lt,os),er=n.mul(es,Lt),Yt=n.add(Yt,er),er=n.mul(on,Lt),Gt=n.mul(Qs,Gt),Gt=n.sub(Gt,er),er=n.mul(Qs,es),qt=n.mul(on,qt),qt=n.add(qt,er),new b(Gt,Yt,qt)}subtract(we){return this.add(we.negate())}is0(){return this.equals(b.ZERO)}wNAF(we){return ye.wNAFCached(this,f,we,Ne=>{const Ue=n.invertBatch(Ne.map(ft=>ft.pz));return Ne.map((ft,yt)=>ft.toAffine(Ue[yt])).map(b.fromAffine)})}multiplyUnsafe(we){const Ne=b.ZERO;if(we===ko)return Ne;if(c(we),we===ws)return this;const{endo:Ue}=e;if(!Ue)return ye.unsafeLadder(this,we);let{k1neg:ft,k1:yt,k2neg:Qt,k2:Ct}=Ue.splitScalar(we),Gt=Ne,Yt=Ne,qt=this;for(;yt>ko||Ct>ko;)yt&ws&&(Gt=Gt.add(qt)),Ct&ws&&(Yt=Yt.add(qt)),qt=qt.double(),yt>>=ws,Ct>>=ws;return ft&&(Gt=Gt.negate()),Qt&&(Yt=Yt.negate()),Yt=new b(n.mul(Yt.px,Ue.beta),Yt.py,Yt.pz),Gt.add(Yt)}multiply(we){c(we);let Ne=we,Ue,ft;const{endo:yt}=e;if(yt){const{k1neg:Qt,k1:Ct,k2neg:Gt,k2:Yt}=yt.splitScalar(Ne);let{p:qt,f:vr}=this.wNAF(Ct),{p:cr,f:er}=this.wNAF(Yt);qt=ye.constTimeNegate(Qt,qt),cr=ye.constTimeNegate(Gt,cr),cr=new b(n.mul(cr.px,yt.beta),cr.py,cr.pz),Ue=qt.add(cr),ft=vr.add(er)}else{const{p:Qt,f:Ct}=this.wNAF(Ne);Ue=Qt,ft=Ct}return b.normalizeZ([Ue,ft])[0]}multiplyAndAddUnsafe(we,Ne,Ue){const ft=b.BASE,yt=(Ct,Gt)=>Gt===ko||Gt===ws||!Ct.equals(ft)?Ct.multiplyUnsafe(Gt):Ct.multiply(Gt),Qt=yt(this,Ne).add(yt(we,Ue));return Qt.is0()?void 0:Qt}toAffine(we){const{px:Ne,py:Ue,pz:ft}=this,yt=this.is0();we==null&&(we=yt?n.ONE:n.inv(ft));const Qt=n.mul(Ne,we),Ct=n.mul(Ue,we),Gt=n.mul(ft,we);if(yt)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Gt,n.ONE))throw new Error("invZ was invalid");return{x:Qt,y:Ct}}isTorsionFree(){const{h:we,isTorsionFree:Ne}=e;if(we===ws)return!0;if(Ne)return Ne(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:we,clearCofactor:Ne}=e;return we===ws?this:Ne?Ne(b,this):this.multiplyUnsafe(e.h)}toRawBytes(we=!0){return this.assertValidity(),r(b,this,we)}toHex(we=!0){return tl(this.toRawBytes(we))}}b.BASE=new b(e.Gx,e.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const ve=e.nBitLength,ye=Bb(b,e.endo?Math.ceil(ve/2):ve);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:p,weierstrassEquation:i,isWithinCurveOrder:a}}function Ub(t){const e=Yg(t);return wd(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Hb(t){const e=Ub(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function a(Lt){return ko<Lt&&Lt<n.ORDER}function c(Lt){return hi(Lt,r)}function p(Lt){return gh(Lt,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:b,isWithinCurveOrder:ve}=Fb({...e,toBytes(Lt,on,zn){const Rr=on.toAffine(),br=n.toBytes(Rr.x),ts=bd;return zn?ts(Uint8Array.from([on.hasEvenY()?2:3]),br):ts(Uint8Array.from([4]),br,n.toBytes(Rr.y))},fromBytes(Lt){const on=Lt.length,zn=Lt[0],Rr=Lt.subarray(1);if(on===s&&(zn===2||zn===3)){const br=Kc(Rr);if(!a(br))throw new Error("Point is not on curve");const ts=b(br);let Is=n.sqrt(ts);const mi=(Is&ws)===ws;return(zn&1)===1!==mi&&(Is=n.neg(Is)),{x:br,y:Is}}else if(on===i&&zn===4){const br=n.fromBytes(Rr.subarray(0,n.BYTES)),ts=n.fromBytes(Rr.subarray(n.BYTES,2*n.BYTES));return{x:br,y:ts}}else throw new Error(`Point of length ${on} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),ye=Lt=>tl(rl(Lt,e.nByteLength));function We(Lt){const on=r>>ws;return Lt>on}function we(Lt){return We(Lt)?c(-Lt):Lt}const Ne=(Lt,on,zn)=>Kc(Lt.slice(on,zn));class Ue{constructor(on,zn,Rr){this.r=on,this.s=zn,this.recovery=Rr,this.assertValidity()}static fromCompact(on){const zn=e.nByteLength;return on=No("compactSignature",on,zn*2),new Ue(Ne(on,0,zn),Ne(on,zn,2*zn))}static fromDER(on){const{r:zn,s:Rr}=$c.toSig(No("DER",on));return new Ue(zn,Rr)}assertValidity(){if(!ve(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ve(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(on){return new Ue(this.r,this.s,on)}recoverPublicKey(on){const{r:zn,s:Rr,recovery:br}=this,ts=Yt(No("msgHash",on));if(br==null||![0,1,2,3].includes(br))throw new Error("recovery id invalid");const Is=br===2||br===3?zn+e.n:zn;if(Is>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const mi=br&1?"03":"02",hc=f.fromHex(mi+ye(Is)),pc=p(Is),yl=c(-ts*pc),Nd=c(Rr*pc),mc=f.BASE.multiplyAndAddUnsafe(hc,yl,Nd);if(!mc)throw new Error("point at infinify");return mc.assertValidity(),mc}hasHighS(){return We(this.s)}normalizeS(){return this.hasHighS()?new Ue(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return nl(this.toDERHex())}toDERHex(){return $c.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return nl(this.toCompactHex())}toCompactHex(){return ye(this.r)+ye(this.s)}}const ft={isValidPrivateKey(Lt){try{return l(Lt),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const Lt=Xg(e.n);return kb(e.randomBytes(Lt),e.n)},precompute(Lt=8,on=f.BASE){return on._setWindowSize(Lt),on.multiply(BigInt(3)),on}};function yt(Lt,on=!0){return f.fromPrivateKey(Lt).toRawBytes(on)}function Qt(Lt){const on=na(Lt),zn=typeof Lt=="string",Rr=(on||zn)&&Lt.length;return on?Rr===s||Rr===i:zn?Rr===2*s||Rr===2*i:Lt instanceof f}function Ct(Lt,on,zn=!0){if(Qt(Lt))throw new Error("first arg must be private key");if(!Qt(on))throw new Error("second arg must be public key");return f.fromHex(on).multiply(l(Lt)).toRawBytes(zn)}const Gt=e.bits2int||function(Lt){const on=Kc(Lt),zn=Lt.length*8-e.nBitLength;return zn>0?on>>BigInt(zn):on},Yt=e.bits2int_modN||function(Lt){return c(Gt(Lt))},qt=jm(e.nBitLength);function vr(Lt){if(typeof Lt!="bigint")throw new Error("bigint expected");if(!(ko<=Lt&&Lt<qt))throw new Error(`bigint expected < 2^${e.nBitLength}`);return rl(Lt,e.nByteLength)}function cr(Lt,on,zn=er){if(["recovered","canonical"].some(nu=>nu in zn))throw new Error("sign() legacy options not supported");const{hash:Rr,randomBytes:br}=e;let{lowS:ts,prehash:Is,extraEntropy:mi}=zn;ts==null&&(ts=!0),Lt=No("msgHash",Lt),Is&&(Lt=No("prehashed msgHash",Rr(Lt)));const hc=Yt(Lt),pc=l(on),yl=[vr(pc),vr(hc)];if(mi!=null){const nu=mi===!0?br(n.BYTES):mi;yl.push(No("extraEntropy",nu))}const Nd=bd(...yl),mc=hc;function Z0(nu){const vl=Gt(nu);if(!ve(vl))return;const eb=p(vl),bl=f.BASE.multiply(vl).toAffine(),Bo=c(bl.x);if(Bo===ko)return;const wl=c(eb*c(mc+Bo*pc));if(wl===ko)return;let tb=(bl.x===Bo?0:2)|Number(bl.y&ws),nb=wl;return ts&&We(wl)&&(nb=we(wl),tb^=1),new Ue(Bo,nb,tb)}return{seed:Nd,k2sig:Z0}}const er={lowS:e.lowS,prehash:!1},es={lowS:e.lowS,prehash:!1};function os(Lt,on,zn=er){const{seed:Rr,k2sig:br}=cr(Lt,on,zn),ts=e;return Qg(ts.hash.outputLen,ts.nByteLength,ts.hmac)(Rr,br)}f.BASE._setWindowSize(8);function Qs(Lt,on,zn,Rr=es){var bl;const br=Lt;if(on=No("msgHash",on),zn=No("publicKey",zn),"strict"in Rr)throw new Error("options.strict was renamed to lowS");const{lowS:ts,prehash:Is}=Rr;let mi,hc;try{if(typeof br=="string"||na(br))try{mi=Ue.fromDER(br)}catch(Bo){if(!(Bo instanceof $c.Err))throw Bo;mi=Ue.fromCompact(br)}else if(typeof br=="object"&&typeof br.r=="bigint"&&typeof br.s=="bigint"){const{r:Bo,s:wl}=br;mi=new Ue(Bo,wl)}else throw new Error("PARSE");hc=f.fromHex(zn)}catch(Bo){if(Bo.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ts&&mi.hasHighS())return!1;Is&&(on=e.hash(on));const{r:pc,s:yl}=mi,Nd=Yt(on),mc=p(yl),Z0=c(Nd*mc),nu=c(pc*mc),vl=(bl=f.BASE.multiplyAndAddUnsafe(hc,Z0,nu))==null?void 0:bl.toAffine();return vl?c(vl.x)===pc:!1}return{CURVE:e,getPublicKey:yt,getSharedSecret:Ct,sign:os,verify:Qs,ProjectivePoint:f,Signature:Ue,utils:ft}}function jb(t,e){const n=t.ORDER;let r=ko;for(let We=n-ws;We%lc===ko;We/=lc)r+=ws;const s=r,i=lc<<s-ws-ws,a=i*lc,c=(n-ws)/a,p=(c-ws)/lc,f=a-ws,l=i,b=t.pow(e,c),ve=t.pow(e,(c+ws)/lc);let ye=(We,we)=>{let Ne=b,Ue=t.pow(we,f),ft=t.sqr(Ue);ft=t.mul(ft,we);let yt=t.mul(We,ft);yt=t.pow(yt,p),yt=t.mul(yt,Ue),Ue=t.mul(yt,we),ft=t.mul(yt,We);let Qt=t.mul(ft,Ue);yt=t.pow(Qt,l);let Ct=t.eql(yt,t.ONE);Ue=t.mul(ft,ve),yt=t.mul(Qt,Ne),ft=t.cmov(Ue,ft,Ct),Qt=t.cmov(yt,Qt,Ct);for(let Gt=s;Gt>ws;Gt--){let Yt=Gt-lc;Yt=lc<<Yt-ws;let qt=t.pow(Qt,Yt);const vr=t.eql(qt,t.ONE);Ue=t.mul(ft,Ne),Ne=t.mul(Ne,Ne),qt=t.mul(Qt,Ne),ft=t.cmov(Ue,ft,vr),Qt=t.cmov(qt,Qt,vr)}return{isValid:Ct,value:ft}};if(t.ORDER%ey===yh){const We=(t.ORDER-yh)/ey,we=t.sqrt(t.neg(e));ye=(Ne,Ue)=>{let ft=t.sqr(Ue);const yt=t.mul(Ne,Ue);ft=t.mul(ft,yt);let Qt=t.pow(ft,We);Qt=t.mul(Qt,yt);const Ct=t.mul(Qt,we),Gt=t.mul(t.sqr(Qt),Ue),Yt=t.eql(Gt,Ne);let qt=t.cmov(Ct,Qt,Yt);return{isValid:Yt,value:qt}}}return ye}function N1(t,e){if(mod.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=jb(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,i,a,c,p,f,l,b;s=t.sqr(r),s=t.mul(s,e.Z),i=t.sqr(s),i=t.add(i,s),a=t.add(i,t.ONE),a=t.mul(a,e.B),c=t.cmov(e.Z,t.neg(i),!t.eql(i,t.ZERO)),c=t.mul(c,e.A),i=t.sqr(a),f=t.sqr(c),p=t.mul(f,e.A),i=t.add(i,p),i=t.mul(i,a),f=t.mul(f,c),p=t.mul(f,e.B),i=t.add(i,p),l=t.mul(s,a);const{isValid:ve,value:ye}=n(i,f);b=t.mul(s,r),b=t.mul(b,ye),l=t.cmov(l,a,ve),b=t.cmov(b,ye,ve);const We=t.isOdd(r)===t.isOdd(b);return b=t.cmov(t.neg(b),b,We),l=t.div(l,c),{x:l,y:b}}}function Gb(t){return{hash:t,hmac:(e,...n)=>qe(t,e,pu(...n)),randomBytes:sf}}function Wb(t,e){const n=r=>Hb({...t,...Gb(r)});return Object.freeze({...n(e),create:n})}const vh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ty=BigInt(1),wh=BigInt(2),ny=(t,e)=>(t+e/wh)/e;function ry(t){const e=vh,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),p=BigInt(88),f=t*t*t%e,l=f*f*t%e,b=fo(l,n,e)*l%e,ve=fo(b,n,e)*l%e,ye=fo(ve,wh,e)*f%e,We=fo(ye,s,e)*ye%e,we=fo(We,i,e)*We%e,Ne=fo(we,c,e)*we%e,Ue=fo(Ne,p,e)*Ne%e,ft=fo(Ue,c,e)*we%e,yt=fo(ft,n,e)*l%e,Qt=fo(yt,a,e)*We%e,Ct=fo(Qt,r,e)*f%e,Gt=fo(Ct,wh,e);if(!Km.eql(Km.sqr(Gt),t))throw new Error("Cannot find square root");return Gt}const Km=Nb(vh,void 0,void 0,{sqrt:ry}),_h=Wb({a:BigInt(0),b:BigInt(7),Fp:Km,n:bh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=bh,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ty*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),c=ny(i*t,e),p=ny(-r*t,e);let f=hi(t-c*n-p*s,e),l=hi(-c*r-p*i,e);const b=f>a,ve=l>a;if(b&&(f=e-f),ve&&(l=e-l),f>a||l>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:f,k2neg:ve,k2:l}}}},kr),Eh=BigInt(0),sy=t=>typeof t=="bigint"&&Eh<t&&t<vh,Vb=t=>typeof t=="bigint"&&Eh<t&&t<bh,iy={};function $m(t,...e){let n=iy[t];if(n===void 0){const r=sha256(Uint8Array.from(t,s=>s.charCodeAt(0)));n=concatBytes(r,r),iy[t]=n}return sha256(concatBytes(n,...e))}const oy=t=>t.toRawBytes(!0).slice(1),Qm=t=>numberToBytesBE(t,32),Zm=t=>mod(t,vh),_d=t=>mod(t,bh),qm=_h.ProjectivePoint,zb=(t,e,n)=>qm.BASE.multiplyAndAddUnsafe(t,e,n);function Jm(t){let e=_h.utils.normPrivateKeyToScalar(t),n=qm.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:_d(-e),bytes:oy(n)}}function Kb(t){if(!sy(t))throw new Error("bad x: need 0 < x < p");const e=Zm(t*t),n=Zm(e*t+BigInt(7));let r=ry(n);r%wh!==Eh&&(r=Zm(-r));const s=new qm(t,r,ty);return s.assertValidity(),s}function ay(...t){return _d(bytesToNumberBE($m("BIP0340/challenge",...t)))}function k1(t){return Jm(t).bytes}function O1(t,e,n=randomBytes(32)){const r=ensureBytes("message",t),{bytes:s,scalar:i}=Jm(e),a=ensureBytes("auxRand",n,32),c=Qm(i^bytesToNumberBE($m("BIP0340/aux",a))),p=$m("BIP0340/nonce",c,s,r),f=_d(bytesToNumberBE(p));if(f===Eh)throw new Error("sign failed: k is zero");const{bytes:l,scalar:b}=Jm(f),ve=ay(l,s,r),ye=new Uint8Array(64);if(ye.set(l,0),ye.set(Qm(_d(b+ve*i)),32),!$b(ye,r,s))throw new Error("sign: Invalid signature produced");return ye}function $b(t,e,n){const r=ensureBytes("signature",t,64),s=ensureBytes("message",e),i=ensureBytes("publicKey",n,32);try{const a=Kb(bytesToNumberBE(i)),c=bytesToNumberBE(r.subarray(0,32));if(!sy(c))return!1;const p=bytesToNumberBE(r.subarray(32,64));if(!Vb(p))return!1;const f=ay(Qm(c),oy(a),s),l=zb(a,p,_d(-f));return!(!l||!l.hasEvenY()||l.toAffine().x!==c)}catch{return!1}}const B1=null,M1=null,D1=null,L1=null,F1=null,U1=null;var Xm;const Ia=(Xm=_h)!==null&&Xm!==void 0?Xm:de,cy=BigInt("0xffffffffffffffff"),Ed=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Qb=Ia.CURVE.n/BigInt(2),Zb={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var Ah;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(Ah||(Ah={}));var Yr;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(Yr||(Yr={}));var uy;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(uy||(uy={}));var ly;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(ly||(ly={}));var pi;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(pi||(pi={}));var ho;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(ho||(ho={}));const dy=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Of(t)?t.slice(2):t};function qb(t){return!t||t==="0x0"?"0x0000000000000000":Of(t)?`0x${dy(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const fy=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function Jb(t,e=!0){var n,r;const{name:s,config:i,difficulty:a,mixHash:c,gasLimit:p,coinbase:f,baseFeePerGas:l}=t;let{extraData:b,timestamp:ve,nonce:ye}=t;const We=Number(ve),{chainId:we}=i;if(b===""&&(b="0x"),Of(ve)||(ve=fy(parseInt(ve))),ye.length!==18&&(ye=qb(ye)),i.eip155Block!==i.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const Ne={name:s,chainId:we,networkId:we,genesis:{timestamp:ve,gasLimit:parseInt(p),difficulty:parseInt(a),nonce:ye,extraData:b,mixHash:c,coinbase:f,baseFeePerGas:l},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:i.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=i.clique.period)!==null&&n!==void 0?n:i.clique.blockperiodseconds,epoch:(r=i.clique.epoch)!==null&&r!==void 0?r:i.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},Ue={[Yr.Homestead]:{name:"homesteadBlock"},[Yr.Dao]:{name:"daoForkBlock"},[Yr.TangerineWhistle]:{name:"eip150Block"},[Yr.SpuriousDragon]:{name:"eip155Block"},[Yr.Byzantium]:{name:"byzantiumBlock"},[Yr.Constantinople]:{name:"constantinopleBlock"},[Yr.Petersburg]:{name:"petersburgBlock"},[Yr.Istanbul]:{name:"istanbulBlock"},[Yr.MuirGlacier]:{name:"muirGlacierBlock"},[Yr.Berlin]:{name:"berlinBlock"},[Yr.London]:{name:"londonBlock"},[Yr.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[Yr.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Yr.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},ft=Object.keys(Ue).reduce((Ct,Gt)=>(Ct[Ue[Gt].name]=Gt,Ct),{}),yt=Object.keys(i).filter(Ct=>ft[Ct]!==void 0&&i[Ct]!==void 0&&i[Ct]!==null);if(Ne.hardforks=yt.map(Ct=>({name:ft[Ct],block:Ue[ft[Ct]].isTimestamp===!0||typeof i[Ct]!="number"?null:i[Ct],timestamp:Ue[ft[Ct]].isTimestamp===!0&&typeof i[Ct]=="number"?i[Ct]:void 0})).filter(Ct=>Ct.block!==null||Ct.timestamp!==void 0),Ne.hardforks.sort((Ct,Gt)=>{var Yt,qt;return((Yt=Ct.block)!==null&&Yt!==void 0?Yt:1/0)-((qt=Gt.block)!==null&&qt!==void 0?qt:1/0)}),Ne.hardforks.sort((Ct,Gt)=>{var Yt,qt;return((Yt=Ct.timestamp)!==null&&Yt!==void 0?Yt:We)-((qt=Gt.timestamp)!==null&&qt!==void 0?qt:We)}),i.terminalTotalDifficulty!==void 0){const Ct={name:Yr.Merge,ttd:i.terminalTotalDifficulty,block:null},Gt=Ne.hardforks.findIndex(Yt=>{var qt;return((qt=Ue[Yt.name])===null||qt===void 0?void 0:qt.postMerge)===!0});Gt!==-1?Ne.hardforks.splice(Gt,0,Ct):Ne.hardforks.push(Ct)}const Qt=Ne.hardforks.length>0?Ne.hardforks.slice(-1)[0]:void 0;return Ne.hardfork=Qt==null?void 0:Qt.name,Ne.hardforks.unshift({name:Yr.Chainstart,block:0}),Ne}function Xb(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),Jb(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function hy(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const Yb=function(t){const e=fy(t);return mr(`0x${hy(e.slice(2))}`)},ds=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t==null?void 0:t.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!am(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return mr(hy(dy(t)))}if(typeof t=="number")return ds(fr(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),ds(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function qr(t){const e=sr(t);return BigInt(e==="0x"?0:e)}function ew(t){return ds(`0x${t.toString(16)}`)}const py=function(t){return new Uint8Array(t).fill(0)},tw=function(t,e,n){const r=py(e);return n?t.length<e?(r.set(t),r):t.subarray(0,e):t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function Ym(t){if(!Qo(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const my=function(t,e){return Ym(t),tw(t,e,!1)};function nw(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const xh=function(t){return Ym(t),nw(t)},fs=t=>`0x${t.toString(16)}`;function Ir(t){return xh(ew(t))}function rw(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function sw(t){return t===BigInt(0)||t===BigInt(1)}const e0=function(t,e,n,r,s){const i=rw(e,s);if(!sw(i))throw new Error("Invalid signature v value");return new Ia.Signature(qr(n),qr(r)).addRecoveryBit(Number(i)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function sl(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!am(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=ds(t);switch(e){case ho.Uint8Array:return n;case ho.BigInt:return qr(n);case ho.Number:{const r=qr(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case ho.PrefixedHexString:return sr(n);default:throw new Error("unknown outputType")}}var po=D(88513),iw=D(70090),ow={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},aw={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},cw={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},uw={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},lw={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},dw={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},fw={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},hw={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},pw={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},mw={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},gw={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},yw={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},vw={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},bw={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},ww={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},_w={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Ew={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Aw={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},xw={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},Tw={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Iw={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},Sw={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},Pw={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Rw={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},Cw={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}};const il={1153:uw,1559:lw,2315:dw,2537:fw,2565:hw,2718:pw,2929:mw,2930:gw,3198:yw,3529:vw,3540:bw,3541:ww,3554:_w,3607:Ew,3651:Aw,3670:xw,3675:Tw,3855:Iw,3860:Sw,4345:Pw,4399:Rw,5133:Cw};var Nw={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},kw={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},Ow={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},Bw={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},Mw={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},Dw={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Lw={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},Fw={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},Uw={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},Hw={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},jw={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},Gw={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},Ww={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},Vw={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},zw={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},Kw={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},$w={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]};const Qw={chainstart:Nw,homestead:Ow,dao:kw,tangerineWhistle:Bw,spuriousDragon:Mw,byzantium:Dw,constantinople:Lw,petersburg:Fw,istanbul:Uw,muirGlacier:Hw,berlin:jw,london:Gw,shanghai:Ww,arrowGlacier:Vw,grayGlacier:zw,mergeForkIdTransition:Kw,merge:$w},{buf:Zw}=iw;class Us extends sd{static custom(e,n={}){var r;const s=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",i=Object.assign({},Us._getChainParams(s));if(i.name="custom-chain",typeof e!="string")return new Us(Object.assign({chain:Object.assign(Object.assign({},i),e)},n));if(e===pi.PolygonMainnet)return Us.custom({name:pi.PolygonMainnet,chainId:137,networkId:137},n);if(e===pi.PolygonMumbai)return Us.custom({name:pi.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===pi.ArbitrumRinkebyTestnet)return Us.custom({name:pi.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===pi.ArbitrumOne)return Us.custom({name:pi.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===pi.xDaiChain)return Us.custom({name:pi.xDaiChain,chainId:100,networkId:100},n);if(e===pi.OptimisticKovan)return Us.custom({name:pi.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:Yr.Berlin},n));if(e===pi.OptimisticEthereum)return Us.custom({name:pi.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:Yr.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:s,hardfork:i,mergeForkIdPostMerge:a}){var c;const p=Xb(e,n,a),f=new Us({chain:(c=p.name)!==null&&c!==void 0?c:"custom",customChains:[p],eips:r,hardfork:i??p.hardfork});return s!==void 0&&f.setForkHashes(s),f}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const s=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),s.names[r]){const i=s.names[r];return s[i]}throw new Error(`Chain with ID ${r} not supported`)}if(s[r]!==void 0)return s[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:Yr.Merge,this.HARDFORK_CHANGES=this.hardforks().map(s=>[s.name,Qw[s.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Us._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const s=sl(e,ho.BigInt),i=sl(n,ho.BigInt),a=sl(r,ho.Number),c=this.hardforks().filter(ye=>ye.block!==null||ye.ttd!==null&&ye.ttd!==void 0||ye.timestamp!==void 0),p=c.findIndex(ye=>ye.ttd!==null&&ye.ttd!==void 0);if(c.slice(p+1).findIndex(ye=>ye.ttd!==null&&ye.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let l=c.findIndex(ye=>ye.block!==null&&ye.block>s||a!==void 0&&Number(ye.timestamp)>a);if(l===-1)l=c.length;else if(l===0)throw Error("Must have at least one hardfork at block 0");if(a===void 0){const ye=c.slice(0,l).reverse().findIndex(We=>We.block!==null||We.ttd!==void 0);l-=ye}if(l-=1,c[l].block===null&&c[l].timestamp===void 0)(i==null||BigInt(c[l].ttd)>i)&&(l-=1);else if(p>=0&&i!==void 0&&i!==null){if(l>=p&&BigInt(c[p].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(l<p&&BigInt(c[p].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const b=l;for(;l<c.length-1&&!(c[l].block!==c[l+1].block||c[l].timestamp!==c[l+1].timestamp);l+=1);if(a){if(c.slice(0,b).reduce((we,Ne)=>{var Ue;return Math.max(Number((Ue=Ne.timestamp)!==null&&Ue!==void 0?Ue:"0"),we)},0)>a)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(c.slice(l+1).reduce((we,Ne)=>{var Ue;return Math.min(Number((Ue=Ne.timestamp)!==null&&Ue!==void 0?Ue:a),we)},a)<a)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return c[l].name}setHardforkByBlockNumber(e,n,r){const s=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(s),s}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in il))throw new Error(`${n} not supported`);const r=this.gteHardfork(il[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(il[n].requiredEIPs!==void 0){for(const s of il[n].requiredEIPs)if(!(e.includes(s)||this.isActivatedEIP(s)))throw new Error(`${n} requires EIP ${s}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const s of this._eips)if(r=this.paramByEIP(e,n,s),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let s=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const a=i[1].eips;for(const c of a){const p=this.paramByEIP(e,n,c);s=typeof p=="bigint"?p:s}}else{if(i[1][e]===void 0)throw new Error(`Topic ${e} not defined`);i[1][e][n]!==void 0&&(s=i[1][e][n].v)}if(i[0]===r)break}return BigInt(s??0)}paramByEIP(e,n,r){if(!(r in il))throw new Error(`${r} not supported`);const s=il[r];if(!(e in s))throw new Error(`Topic ${e} not defined`);if(s[e][n]===void 0)return;const i=s[e][n].v;return BigInt(i)}paramByBlock(e,n,r,s,i){const a=this.getHardforkByBlockNumber(r,s,i);return this.paramByHardfork(e,n,a)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=sl(n,ho.BigInt),s=e??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,s=this.hardforks();let i=-1,a=-1,c=0;for(const p of s)p.name===r&&(i=c),p.name===n&&(a=c),c+=1;return i>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return s==null?null:BigInt(s)}hardforkTimestamp(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return s==null?null:BigInt(s)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return s==null?null:BigInt(s)}isHardforkBlock(e,n){const r=sl(e,ho.BigInt),s=n??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)?i===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,s;const i=(n=e)!==null&&n!==void 0?n:this._hardfork,a=this.hardforks();let c=a.findIndex(b=>b.name===i);if(i===Yr.Merge&&(c-=1),c<0)return null;let p=(r=a[c].timestamp)!==null&&r!==void 0?r:a[c].block;p=p!=null?Number(p):null;const f=a.slice(c+1).find(b=>{var ve;let ye=(ve=b.timestamp)!==null&&ve!==void 0?ve:b.block;return ye=ye!=null?Number(ye):null,b.name!==Yr.Merge&&ye!==null&&ye!==void 0&&ye!==p});if(f===void 0)return null;const l=(s=f.timestamp)!==null&&s!==void 0?s:f.block;return l==null?null:BigInt(l)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let s=this.hardforkBlock(r);if(s===null&&r===Yr.Merge){const a=this.hardforks(),c=a.findIndex(p=>p.ttd!==null&&p.ttd!==void 0);if(c<0)throw Error("Merge hardfork should have been found");s=this.hardforkBlock(a[c-1].name)}return s===null?null:this.hardforks().reduce((a,c)=>{const p=BigInt(c.block===null||c.ttd!==void 0&&c.ttd!==null?0:c.block);return p>s&&a===null?p:a},null)}isNextHardforkBlock(e,n){const r=sl(e,ho.BigInt),s=n??this._hardfork,i=this.nextHardforkBlock(s);return i===null?!1:i===r}_calcForkHash(e,n){let r=new Uint8Array,s=0;for(const c of this.hardforks()){const{block:p,timestamp:f,name:l}=c;let b=f??p;if(b=b!==null?Number(b):null,typeof b=="number"&&b!==0&&b!==s&&l!==Yr.Merge){const ve=mr(b.toString(16).padStart(16,"0"));r=si(r,ve),s=b}if(c.name===e)break}const i=si(n,r);return sr(Yb(Zw(i)>>>0))}forkHash(e,n){const r=e??this._hardfork,s=this._getHardfork(r);if(s===null||(s==null?void 0:s.block)===null&&(s==null?void 0:s.timestamp)===void 0&&(s==null?void 0:s.ttd)===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if((s==null?void 0:s.forkHash)!==null&&(s==null?void 0:s.forkHash)!==void 0)return s.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const s=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(s!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const s of this.HARDFORK_CHANGES)if("consensus"in s[1]&&(r=s[1].consensus[s[1].consensus.algorithm]),s[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[s,i]of Object.entries(Ah))n[i]=s.toLowerCase();const r={mainnet:aw,goerli:ow,sepolia:cw};if(e)for(const s of e){const{name:i}=s;n[s.chainId.toString()]=i,r[i]=s}return r.names=n,r}}var ra;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(ra||(ra={}));function qw(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function Jw(t){return!qw(t)}class ol{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new ol(py(20))}equals(e){return ku(this.buf,e.buf)}isZero(){return this.equals(ol.zero())}toString(){return sr(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(Ym(r),n&&r.length!==64&&(r=Ia.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return Ws(r).slice(-20)}}const Xw=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},gy=t=>{let e,n;if(Jw(t)){e=t;const r=[];for(let s=0;s<t.length;s+=1){const i=t[s],a=ds(i.address),c=[];for(let p=0;p<i.storageKeys.length;p+=1)c.push(ds(i.storageKeys[p]));r.push([a,c])}n=r}else{n=t??[];const r=[];for(let s=0;s<n.length;s+=1){const i=n[s],a=sr(i[0]),c=[];for(let f=0;f<i[1].length;f+=1)c.push(sr(i[1][f]));const p={address:a,storageKeys:c};r.push(p)}e=r}return{AccessListJSON:e,accessList:n}},yy=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],s=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let i=0;i<s.length;i+=1)if(s[i].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},vy=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],s={address:sr(my(r[0],20)),storageKeys:[]},i=r&&r[1];for(let a=0;a<i.length;a+=1){const c=i[a];s.storageKeys.push(sr(my(c,32)))}e.push(s)}return e},by=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let s=0;for(let a=0;a<t.length;a+=1){const p=t[a][1];s+=p.length}return t.length*Number(r)+s*Number(n)};class al{constructor(e,n){var r,s;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Ah.Mainnet,this.DEFAULT_HARDFORK=Yr.Merge;const{nonce:i,gasLimit:a,to:c,value:p,data:f,v:l,r:b,s:ve,type:ye}=e;this._type=Number(qr(ds(ye))),this.txOptions=n;const We=ds(c===""?"0x":c),we=ds(l===""?"0x":l),Ne=ds(b===""?"0x":b),Ue=ds(ve===""?"0x":ve);this.nonce=qr(ds(i===""?"0x":i)),this.gasLimit=qr(ds(a===""?"0x":a)),this.to=We.length>0?new ol(We):void 0,this.value=qr(ds(p===""?"0x":p)),this.data=ds(f===""?"0x":f),this.v=we.length>0?qr(we):void 0,this.r=Ne.length>0?qr(Ne):void 0,this.s=Ue.length>0?qr(Ue):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const ft=this.to===void 0||this.to===null,yt=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,Qt=(s=n.common)!==null&&s!==void 0?s:this._getCommon();ft&&Qt.isActivatedEIP(3860)&&!yt&&Xw(Qt,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>Qb){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let s=0;s<this.data.length;s+=1)this.data[s]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const s=BigInt(Math.ceil(this.data.length/32)),i=this.common.param("gasPrices","initCodeWordCost")*s;r+=i}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return xh(e).length!==0}catch{return!1}}getSenderAddress(){return new ol(ol.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const p=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(p)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(ra.EIP155ReplayProtection)&&(this.activeCapabilities.push(ra.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:s,r:i,s:a}=this._ecsign(r,e),c=this._processSignature(s,i,a);if(n){const p=this.activeCapabilities.indexOf(ra.EIP155ReplayProtection);p>-1&&this.activeCapabilities.splice(p,1)}return c}_getCommon(e,n){var r,s,i,a;if(n!==void 0){const c=qr(ds(n));if(e){if(e.chainId()!==c){const p=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(p)}return e.copy()}return Us.isSupportedChainId(c)?new Us({chain:c,hardfork:this.DEFAULT_HARDFORK}):Us.custom({name:"custom-chain",networkId:c,chainId:c},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e!=null&&e.copy&&typeof(e==null?void 0:e.copy)=="function")return e.copy();if(e){const c=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return Us.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(s=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&s!==void 0?s:void 0,chainId:e.chainId?e.chainId():(a=BigInt((i=e.customChain)===null||i===void 0?void 0:i.chainId))!==null&&a!==void 0?a:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:c||this.DEFAULT_HARDFORK})}return new Us({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[s,i]of Object.entries(e))switch(n){case 64:if(r){if(i!==void 0&&i>=cy){const a=this._errorMsg(`${s} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>cy){const a=this._errorMsg(`${s} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}break;case 256:if(r){if(i!==void 0&&i>=Ed){const a=this._errorMsg(`${s} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>Ed){const a=this._errorMsg(`${s} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}break;default:{const a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,s]of Object.entries(e))if(n.includes(r)&&Array.isArray(s))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?sr(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let s=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return s+=`signed=${n} hf=${r}`,s}_ecsign(e,n,r){const s=Ia.sign(e,n),i=s.toCompactRawBytes(),a=i.subarray(0,32),c=i.subarray(32,64),p=r===void 0?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s:c,v:p}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const t0=2,n0=mr(t0.toString(16).padStart(2,"0"));class Qc extends al{static fromTxData(e,n={}){return new Qc(e,n)}static fromSerializedTx(e,n={}){if(!ku(e.subarray(0,1),n0))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${t0}, received: ${sr(e.subarray(0,1))}`);const r=po.yH.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Qc.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,s,i,a,c,p,f,l,b,ve,ye,We]=e;return this._validateNotArray({chainId:r,v:ve}),Bf({nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:c,value:f,v:ve,r:ye,s:We}),new Qc({chainId:qr(r),nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:c,to:p,value:f,data:l,accessList:b??[],v:ve!==void 0?qr(ve):void 0,r:ye,s:We},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:t0}),n),this.DEFAULT_HARDFORK="london";const{chainId:s,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:c}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const p=gy(i??[]);if(this.accessList=p.accessList,this.AccessListJSON=p.AccessListJSON,yy(this.accessList),this.maxFeePerGas=qr(ds(a===""?"0x":a)),this.maxPriorityFeePerGas=qr(ds(c===""?"0x":c)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),al._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Ed){const l=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(l)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const l=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(l)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(by(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,i=(n<r?n:r)+e;return this.gasLimit*i+this.value}raw(){return[Ir(this.chainId),Ir(this.nonce),Ir(this.maxPriorityFeePerGas),Ir(this.maxFeePerGas),Ir(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Ir(this.value),this.data,this.accessList,this.v!==void 0?Ir(this.v):Uint8Array.from([]),this.r!==void 0?Ir(this.r):Uint8Array.from([]),this.s!==void 0?Ir(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return si(n0,po.yH.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=si(n0,po.yH.encode(n));return e?Ws(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Ws(this.serialize())),this.cache.hash):Ws(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return e0(e,n+BigInt(27),Ir(r),Ir(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Qc.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:qr(n),s:qr(r)},s)}toJSON(){const e=vy(this.accessList);return{chainId:fs(this.chainId),nonce:fs(this.nonce),maxPriorityFeePerGas:fs(this.maxPriorityFeePerGas),maxFeePerGas:fs(this.maxFeePerGas),gasLimit:fs(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:fs(this.value),data:sr(this.data),accessList:e,v:this.v!==void 0?fs(this.v):void 0,r:this.r!==void 0?fs(this.r):void 0,s:this.s!==void 0?fs(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const r0=1,s0=mr(r0.toString(16).padStart(2,"0"));class Zc extends al{static fromTxData(e,n={}){return new Zc(e,n)}static fromSerializedTx(e,n={}){if(!ku(e.subarray(0,1),s0))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${r0}, received: ${sr(e.subarray(0,1))}`);const r=po.yH.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Zc.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,s,i,a,c,p,f,l,b,ve,ye]=e;this._validateNotArray({chainId:r,v:b}),Bf({nonce:s,gasPrice:i,gasLimit:a,value:p,v:b,r:ve,s:ye});const We=[];return new Zc({chainId:qr(r),nonce:s,gasPrice:i,gasLimit:a,to:c,value:p,data:f,accessList:l??We,v:b!==void 0?qr(b):void 0,r:ve,s:ye},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:r0}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:s,accessList:i,gasPrice:a}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const c=gy(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,yy(this.accessList),this.gasPrice=qr(ds(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),al._validateNotArray(e),this.gasPrice*this.gasLimit>Ed){const f=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(f)}this._validateYParity(),this._validateHighS(),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(by(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[Ir(this.chainId),Ir(this.nonce),Ir(this.gasPrice),Ir(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Ir(this.value),this.data,this.accessList,this.v!==void 0?Ir(this.v):Uint8Array.from([]),this.r!==void 0?Ir(this.r):Uint8Array.from([]),this.s!==void 0?Ir(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return si(s0,po.yH.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=si(s0,po.yH.encode(n));return e?Ws(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Ws(this.serialize())),this.cache.hash):Ws(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return e0(e,n+BigInt(27),Ir(r),Ir(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Zc.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:qr(n),s:qr(r)},s)}toJSON(){const e=vy(this.accessList);return{chainId:fs(this.chainId),nonce:fs(this.nonce),gasPrice:fs(this.gasPrice),gasLimit:fs(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:fs(this.value),data:sr(this.data),accessList:e,v:this.v!==void 0?fs(this.v):void 0,r:this.r!==void 0?fs(this.r):void 0,s:this.s!==void 0?fs(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Yw=0;function wy(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class dc extends al{static fromTxData(e,n={}){return new dc(e,n)}static fromSerializedTx(e,n={}){const r=po.yH.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,s,i,a,c,p,f,l,b]=e;return Bf({nonce:r,gasPrice:s,gasLimit:i,value:c,v:f,r:l,s:b}),new dc({nonce:r,gasPrice:s,gasLimit:i,to:a,value:c,data:p,v:f,r:l,s:b},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:Yw}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=qr(ds(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>Ed){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),al._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?wy(this.v,this.common.chainId())&&this.activeCapabilities.push(ra.EIP155ReplayProtection):this.activeCapabilities.push(ra.EIP155ReplayProtection)),((r=n==null?void 0:n.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[Ir(this.nonce),Ir(this.gasPrice),Ir(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Ir(this.value),this.data,this.v!==void 0?Ir(this.v):Uint8Array.from([]),this.r!==void 0?Ir(this.r):Uint8Array.from([]),this.s!==void 0?Ir(this.s):Uint8Array.from([])]}serialize(){return po.yH.encode(this.raw())}_getMessageToSign(){const e=[Ir(this.nonce),Ir(this.gasPrice),Ir(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Ir(this.value),this.data];return this.supports(ra.EIP155ReplayProtection)&&(e.push(ds(this.common.chainId())),e.push(xh(ds(0))),e.push(xh(ds(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?Ws(po.yH.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Ws(po.yH.encode(this.raw()))),this.cache.hash):Ws(po.yH.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return Ws(po.yH.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return e0(e,n,Ir(r),Ir(s),this.supports(ra.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){let s=e;this.supports(ra.EIP155ReplayProtection)&&(s+=this.common.chainId()*BigInt(2)+BigInt(8));const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return dc.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:s,r:qr(n),s:qr(r)},i)}toJSON(){return{nonce:fs(this.nonce),gasPrice:fs(this.gasPrice),gasLimit:fs(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:fs(this.value),data:sr(this.data),v:this.v!==void 0?fs(this.v):void 0,r:this.r!==void 0?fs(this.r):void 0,s:this.s!==void 0?fs(this.s):void 0}}_validateTxV(e,n){let r;const s=e!==void 0?Number(e):void 0;if(s!==void 0&&s<37&&s!==27&&s!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${s}`);if(s!==void 0&&s!==0&&(!n||n.gteHardfork("spuriousDragon"))&&s!==27&&s!==28)if(n){if(!wy(BigInt(s),n.chainId()))throw new Error(`Incompatible EIP155-based V ${s} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let i;(s-35)%2===0?i=35:i=36,r=BigInt(s-i)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const i0=new Map;class qc{constructor(){}static typeToInt(e){return Number(qr(ds(e)))}static registerTransactionType(e,n){const r=qc.typeToInt(e);i0.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return dc.fromTxData(e,n);const r=qc.typeToInt(e.type);if(r===0)return dc.fromTxData(e,n);if(r===1)return Zc.fromTxData(e,n);if(r===2)return Qc.fromTxData(e,n);const s=i0.get(r);if(s!=null&&s.fromTxData)return s.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return Zc.fromSerializedTx(e,n);case 2:return Qc.fromSerializedTx(e,n);default:{const r=i0.get(Number(e[0]));if(r!=null&&r.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return dc.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(Qo(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return dc.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var Th=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const cl=(t,e)=>{let n;if(!e&&typeof t=="string"&&Ar(t)&&t.length!==66)throw new rs;try{n=Qo(t)?t:zs(t)}catch{throw new li}if(!e&&n.byteLength!==32)throw new rs;return n},Ih=(t,e=!1)=>{const n=Ar(t)?t:fi(t),r=mr(n),s=mr(Zo(`Ethereum Signed Message:
${r.byteLength}`)),i=e?r:si(s,r);return Ai(i)},_y=(t,e)=>{const n=cl(e),r=Ia.sign(t.substring(2),n),s=r.toCompactRawBytes(),i=r.r.toString(16).padStart(64,"0"),a=r.s.toString(16).padStart(64,"0"),c=r.recovery+27;return{messageHash:t,v:fr(c),r:`0x${i}`,s:`0x${a}`,signature:`${sr(s)}${c.toString(16)}`}},Ey=(t,e)=>{const n=Ih(t),{messageHash:r,v:s,r:i,s:a,signature:c}=_y(n,e);return{message:t,messageHash:r,v:s,r:i,s:a,signature:c}},j1=(t,e)=>{const n=Ih(t,!0),{messageHash:r,v:s,r:i,s:a,signature:c}=_y(n,e);return{message:t,messageHash:r,v:s,r:i,s:a,signature:c}},e_=(t,e)=>Th(void 0,void 0,void 0,function*(){const n=t.sign(mr(e));if(Xe(n.v)||Xe(n.r)||Xe(n.s))throw new Tl("Signer Error");const r=n.validate(!0);if(r.length>0){let a="Signer Error ";for(const c of r)a+=`${a} ${c}.`;throw new Tl(a)}const s=sr(n.serialize()),i=Ai(s);return{messageHash:sr(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:s,transactionHash:sr(i)}}),t_=t=>{if(Xe(t))throw new pn;const e=qc.fromSerializedData(mr(t));return oo(e.getSenderAddress().toString())},o0=(t,e,n,r,s)=>{if(typeof t=="object"){const b=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return o0(t.messageHash,b,n)}if(typeof e=="string"&&typeof n=="string"&&!Xe(r)){const b=`${n}${r.slice(2)}${e.slice(2)}`;return o0(t,b,s)}if(Xe(e))throw new ur("signature string undefined");const i=130,a=n?t:Ih(t);let c=parseInt(e.substring(i),16);c>26&&(c-=27);const p=Ia.Signature.fromCompact(e.slice(2,i)).addRecoveryBit(c).recoverPublicKey(a.replace("0x","")).toRawBytes(!1),f=Ai(p.subarray(1));return oo(`0x${f.slice(-40)}`)},Sh=t=>{const e=cl(t),n=Ia.getPublicKey(e,!1),s=Ai(n.slice(1)).slice(-40);return oo(`0x${s}`)},n_=(t,e)=>{const n=cl(t);return`0x${sr(Ia.getPublicKey(n,e)).slice(4)}`},Ay=(t,e,n)=>Th(void 0,void 0,void 0,function*(){var r,s,i,a,c,p,f;const l=cl(t);let b;if(n!=null&&n.salt?b=typeof n.salt=="string"?mr(n.salt):n.salt:b=Xo(32),!(xu(e)||Qo(e)))throw new vo;const ve=typeof e=="string"?mr(fi(e)):e;let ye;if(n!=null&&n.iv){if(ye=typeof n.iv=="string"?mr(n.iv):n.iv,ye.length!==16)throw new Hr}else ye=Xo(16);const We=(r=n==null?void 0:n.kdf)!==null&&r!==void 0?r:"scrypt";let we,Ne;if(We==="pbkdf2"){if(Ne={dklen:(s=n==null?void 0:n.dklen)!==null&&s!==void 0?s:32,salt:sr(b).replace("0x",""),c:(i=n==null?void 0:n.c)!==null&&i!==void 0?i:262144,prf:"hmac-sha256"},Ne.c<1e3)throw new vi;we=yd(ve,b,Ne.c,Ne.dklen,"sha256")}else if(We==="scrypt")Ne={n:(a=n==null?void 0:n.n)!==null&&a!==void 0?a:8192,r:(c=n==null?void 0:n.r)!==null&&c!==void 0?c:8,p:(p=n==null?void 0:n.p)!==null&&p!==void 0?p:1,dklen:(f=n==null?void 0:n.dklen)!==null&&f!==void 0?f:32,salt:sr(b).replace("0x","")},we=Wg(ve,b,Ne.n,Ne.p,Ne.r,Ne.dklen);else throw new rr;const Ue=yield Le(l,we.slice(0,16),ye,"aes-128-ctr"),ft=sr(Ue).slice(2),yt=Ai(si(we.slice(16,32),Ue)).replace("0x","");return{version:3,id:Hu(),address:Sh(l).toLowerCase().replace("0x",""),crypto:{ciphertext:ft,cipherparams:{iv:sr(ye).replace("0x","")},cipher:"aes-128-ctr",kdf:We,kdfparams:Ne,mac:yt}}}),a0=(t,e)=>{const n=cl(t,e);return{address:Sh(n),privateKey:sr(n),signTransaction:r=>{throw new Tl("Do not have network access to sign the transaction")},sign:r=>Ey(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,s)=>Th(void 0,void 0,void 0,function*(){return Ay(n,r,s)})}},r_=()=>{const t=Ia.utils.randomPrivateKey();return a0(`${sr(t)}`)},s_=(t,e,n)=>Th(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(mn.validateJSONSchema(Zb,r),r.version!==3)throw new Ii;const s=typeof e=="string"?mr(fi(e)):e;mn.validate(["bytes"],[s]);let i;if(r.crypto.kdf==="scrypt"){const f=r.crypto.kdfparams,l=typeof f.salt=="string"?mr(f.salt):f.salt;i=Wg(s,l,f.n,f.p,f.r,f.dklen)}else if(r.crypto.kdf==="pbkdf2"){const f=r.crypto.kdfparams,l=typeof f.salt=="string"?mr(f.salt):f.salt;i=yd(s,l,f.c,f.dklen,"sha256")}else throw new rr;const a=mr(r.crypto.ciphertext);if(Ai(si(i.slice(16,32),a)).replace("0x","")!==r.crypto.mac)throw new ti;const p=yield Re(mr(r.crypto.ciphertext),i.slice(0,16),mr(r.crypto.cipherparams.iv));return a0(p)});var xy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const i_=1e3;class o_{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=_a(e),r=new Ku;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return xy(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new Ku({timeout:(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:i_,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(s=>r.reject(s)),r.catch(s=>{s instanceof Ie&&this._abortAllRequests("Batch request timeout"),r.reject(s)}),r})}_processBatchRequest(e){return xy(this,void 0,void 0,function*(){var n,r;const s=yield this._requestManager.sendBatch([...this._requests.values()].map(c=>c.payload));if(s.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new Zi(s,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${s.length}`);const i=this.requests.map(c=>c.id).map(Number).sort((c,p)=>c-p),a=s.map(c=>c.id).map(Number).sort((c,p)=>c-p);if(JSON.stringify(i)!==JSON.stringify(a))throw this._abortAllRequests("Invalid batch response"),new Zi(s,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${a.join()}]`);for(const c of s)Yo(c)?(n=this._requests.get(c.id))===null||n===void 0||n.promise.resolve(c.result):ea(c)&&((r=this._requests.get(c.id))===null||r===void 0||r.promise.reject(c.error));e.resolve(s)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new Ce(e))}}var a_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Oi extends Mm{constructor(e){var n;if(super(),this.providers=y.providers,kn(e)||typeof e=="string"&&e.trim()!==""||qu(e)){this._requestManager=new y(e),this._subscriptionManager=new R(this._requestManager,{});return}const{config:r,provider:s,requestManager:i,subscriptionManager:a,registeredSubscriptions:c,accountProvider:p,wallet:f,requestManagerMiddleware:l}=e;this.setConfig(r??{}),this._requestManager=i??new y(s,(n=r==null?void 0:r.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,l),a?this._subscriptionManager=a:this._subscriptionManager=new R(this.requestManager,c??{}),p&&(this._accountProvider=p),f&&(this._wallet=f)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(Ea.CONFIG_CHANGE,s=>{r.setConfig({[s.name]:s.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(Ea.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new tt(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return Oi.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return o_.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const s=(...i)=>a_(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:i})});e.property?this[e.property][r.name]=s:this[r.name]=s}),this}}Oi.providers=y.providers;class G1 extends null{registerNewTransactionType(e,n){TransactionFactory.registerTransactionType(e,n)}}class W1 extends null{}class ks{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=ks._parseInt(n,36),s=Gc(r,40);return oo(s)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},ks.isIndirect(e)||ks.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return ks.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return ks.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&ks._mod9710(ks._iso13616Prepare(e))===1}isValid(){return ks.isValid(this._iban)}static fromBban(e){const n="XE",s=`0${(98-this._mod9710(this._iso13616Prepare(`${n}00${e}`))).toString()}`.slice(-2);return new ks(`${n}${s}${e}`)}static createIndirect(e){return ks.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!Ni(e))throw new Ma(e);const r=BigInt(ki(e)).toString(36),s=Gc(r,15);return ks.fromBban(s.toUpperCase())}static toIban(e){return ks.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}ks._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(i=>{const a=i.charCodeAt(0);return a>=65&&a<=90?a-65+10:i}).join("")},ks._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0)),ks._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97},ks.toAddress=t=>new ks(t).toAddress();var V1=null;const z1=t=>t.map(e=>numberToHex(e)),K1=t=>({address:toChecksumAddress(t.address),nonce:hexToNumberString(t.nonce),balance:hexToNumberString(t.balance)}),Jc=t=>toNumber(t),Ph=t=>{if(!isNullish(t))return typeof t=="string"&&isBlockTag(t)?t:t==="genesis"?"0x0":typeof t=="string"&&isHexStrict(t)?t.toLowerCase():numberToHex(t)},$1=(t,e)=>Ph(t||e),Ad=t=>{if(Iban.isValid(t)&&Iban.isDirect(t))return new Iban(t).toAddress().toLowerCase();if(isAddress(t))return`0x${t.toLowerCase().replace("0x","")}`;throw new FormatterError(`Provided address ${t} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)},Ty=t=>{var e;const n=Object.assign({},t);if(t.to&&(n.to=Ad(t.to)),t.data&&t.input)throw new FormatterError(`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`);if(!t.input&&t.data&&(n.input=t.data,delete n.data),t.input&&!t.input.startsWith("0x")&&(n.input=`0x${t.input}`),n.input&&!isHexStrict(n.input))throw new FormatterError("The input field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(n.gas=toNumber((e=t.gas)!==null&&e!==void 0?e:t.gasLimit)),(t.maxPriorityFeePerGas||t.maxFeePerGas)&&delete n.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce","chainId"].filter(r=>!isNullish(n[r])).forEach(r=>{n[r]=numberToHex(n[r])}),n},Q1=(t,e)=>{var n;const r=Ty(t),s=(n=r.from)!==null&&n!==void 0?n:e;return s&&(r.from=Ad(s)),r},Z1=(t,e)=>{var n;const r=Ty(t);if(typeof r.from!="number"&&!(r.from&&typeof r.from=="object")){if(r.from=(n=r.from)!==null&&n!==void 0?n:e,!t.from&&typeof t.from!="number")throw new FormatterError('The send transactions "from" field must be defined!');r.from=Ad(t.from)}return r},q1=t=>isHexStrict(t)?t:utf8ToHex(t),c_=t=>{const e=Object.assign({},t);return t.blockNumber&&(e.blockNumber=hexToNumber(t.blockNumber)),t.transactionIndex&&(e.transactionIndex=hexToNumber(t.transactionIndex)),e.nonce=hexToNumber(t.nonce),e.gas=hexToNumber(t.gas),t.gasPrice&&(e.gasPrice=Jc(t.gasPrice)),t.maxFeePerGas&&(e.maxFeePerGas=Jc(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=Jc(t.maxPriorityFeePerGas)),t.type&&(e.type=hexToNumber(t.type)),e.value=Jc(t.value),t.to&&isAddress(t.to)?e.to=toChecksumAddress(t.to):e.to=void 0,t.from&&(e.from=toChecksumAddress(t.from)),e},Iy=t=>{if(isNullish(t))return null;const e=String(t);return isHex(e)?e:fromUtf8(e)},J1=t=>{var e;const n=isNullish(t)?{}:mergeDeep({},t);return isNullish(n.fromBlock)&&(n.fromBlock=BlockTags.LATEST),n.fromBlock=Ph(n.fromBlock),isNullish(n.toBlock)||(n.toBlock=Ph(n.toBlock)),n.topics=(e=n.topics)!==null&&e!==void 0?e:[],n.topics=n.topics.map(r=>Array.isArray(r)?r.map(Iy):Iy(r)),n.address&&(n.address=Array.isArray(n.address)?n.address.map(r=>Ad(r)):Ad(n.address)),n},u_=t=>{const e=Object.assign({},t),n=typeof t.logIndex=="string"?t.logIndex:numberToHex(t.logIndex);if(typeof t.blockHash=="string"&&typeof t.transactionHash=="string"){const r=sha3Raw(`${t.blockHash.replace("0x","")}${t.transactionHash.replace("0x","")}${n.replace("0x","")}`);e.id=`log_${r.replace("0x","").slice(0,8)}`}else t.id||(e.id=void 0);return t.blockNumber&&isHexStrict(t.blockNumber)&&(e.blockNumber=hexToNumber(t.blockNumber)),t.transactionIndex&&isHexStrict(t.transactionIndex)&&(e.transactionIndex=hexToNumber(t.transactionIndex)),t.logIndex&&isHexStrict(t.logIndex)&&(e.logIndex=hexToNumber(t.logIndex)),t.address&&(e.address=toChecksumAddress(t.address)),e},X1=t=>{if(typeof t!="object")throw new FormatterError(`Received receipt is invalid: ${String(t)}`);const e=Object.assign({},t);return t.blockNumber&&(e.blockNumber=hexToNumber(t.blockNumber)),t.transactionIndex&&(e.transactionIndex=hexToNumber(t.transactionIndex)),e.cumulativeGasUsed=hexToNumber(t.cumulativeGasUsed),e.gasUsed=hexToNumber(t.gasUsed),t.logs&&Array.isArray(t.logs)&&(e.logs=t.logs.map(u_)),t.effectiveGasPrice&&(e.effectiveGasPrice=hexToNumber(t.effectiveGasPrice)),t.contractAddress&&(e.contractAddress=toChecksumAddress(t.contractAddress)),t.status&&(e.status=!!parseInt(t.status,10)),e},Y1=t=>{const e=Object.assign({},t);return e.gasLimit=hexToNumber(t.gasLimit),e.gasUsed=hexToNumber(t.gasUsed),e.size=hexToNumber(t.size),e.timestamp=hexToNumber(t.timestamp),t.number&&(e.number=hexToNumber(t.number)),t.difficulty&&(e.difficulty=Jc(t.difficulty)),t.totalDifficulty&&(e.totalDifficulty=Jc(t.totalDifficulty)),t.transactions&&Array.isArray(t.transactions)&&(e.transactions=t.transactions.map(c_)),t.miner&&(e.miner=toChecksumAddress(t.miner)),t.baseFeePerGas&&(e.baseFeePerGas=Jc(t.baseFeePerGas)),e},eT=t=>{var e;const n=Object.assign({},t);return t.ttl&&(n.ttl=numberToHex(t.ttl)),t.workToProve&&(n.workToProve=numberToHex(t.workToProve)),t.priority&&(n.priority=numberToHex(t.priority)),t.topics&&!Array.isArray(t.topics)&&(n.topics=t.topics?[t.topics]:[]),n.topics=(e=n.topics)===null||e===void 0?void 0:e.map(r=>r.startsWith("0x")?r:fromUtf8(r)),n},tT=t=>{var e;const n=Object.assign({},t);return t.expiry&&(n.expiry=hexToNumber(t.expiry)),t.sent&&(n.sent=hexToNumber(t.sent)),t.ttl&&(n.ttl=hexToNumber(t.ttl)),t.workProved&&(n.workProved=hexToNumber(t.workProved)),t.topics||(n.topics=[]),n.topics=(e=n.topics)===null||e===void 0?void 0:e.map(toUtf8),n},nT=t=>{const e=Object.assign({},t);return e.startingBlock=hexToNumber(t.startingBlock),e.currentBlock=hexToNumber(t.currentBlock),e.highestBlock=hexToNumber(t.highestBlock),t.knownStates&&(e.knownStates=hexToNumber(t.knownStates)),t.pulledStates&&(e.pulledStates=hexToNumber(t.pulledStates)),e};var c0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})},Sy;class Py extends $u{constructor(e){super(),this[Sy]="Promise",this._promise=new Promise(e)}then(e,n){return c0(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return c0(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return c0(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}Sy=Symbol.toStringTag;var rT=D(22353),Cn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function l_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function Ry(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function d_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function f_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function h_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function p_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function m_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function g_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function y_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function v_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function b_(t,e,n,r){return Cn(this,void 0,void 0,function*(){return mn.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function w_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function __(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function E_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function A_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function x_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function T_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function I_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function S_(t,e){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function P_(t,e){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function Cy(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function R_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function C_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function N_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function Ny(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function k_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function O_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function B_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function M_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function D_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function L_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function sT(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_getCompilers",params:[]})})}function iT(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["string"],[e]),t.send({method:"eth_compileSolidity",params:[e]})})}function oT(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["string"],[e]),t.send({method:"eth_compileLLL",params:[e]})})}function aT(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["string"],[e]),t.send({method:"eth_compileSerpent",params:[e]})})}function F_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function U_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function H_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function j_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function G_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function W_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function V_(t,e){return Cn(this,void 0,void 0,function*(){return mn.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function z_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function K_(t,e,n,r){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function cT(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["bytes32","bytes32"],[e,n]),t.send({method:"eth_submitHashrate",params:[e,n]})})}function $_(t,e,n,r){return Cn(this,void 0,void 0,function*(){mn.validate(["hex","blockNumberOrTag"],[e,n]);for(const s of r)mn.validate(["number"],[s]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function Q_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function Z_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function q_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function J_(t,e,n,r){return Cn(this,void 0,void 0,function*(){return mn.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function X_(t){return Cn(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function Y_(t,e,n){return Cn(this,void 0,void 0,function*(){return mn.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function eE(t,e,n,r=!1){return Cn(this,void 0,void 0,function*(){return mn.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var u0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function tE(t){return u0(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function nE(t){return u0(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function rE(t){return u0(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var Sa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const sE=t=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),iE=(t,e)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),oE=(t,e,n,r)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),aE=(t,e)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),cE=(t,e,n)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),uE=(t,e,n)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),lE=(t,e,n)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),dE=(t,e,n,r)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),fE=(t,e,n)=>Sa(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),ky={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},Oy={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},By={type:"object",properties:{gasPrice:{type:"null"}}},Rh=(t,e,n)=>{try{mn.validateJSONSchema(t,e)}catch(r){throw r instanceof qa?new iu(r.errors,n):r}},hE=t=>{var e,n;const r=t;if(!Xe(r.type)){let i;switch(r.type){case"0x0":i=ky;break;case"0x1":i=Oy;break;case"0x2":i=By;break;default:return At({format:"uint"},r.type,L)}return Rh(i,r,r.type),At({format:"uint"},r.type,L)}if(!Xe(r.maxFeePerGas)||!Xe(r.maxPriorityFeePerGas))return Rh(By,r,"0x2"),"0x2";if(!Xe(r.accessList))return Rh(Oy,r,"0x1"),"0x1";const s=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!Xe(s)){const i=Object.keys(P).indexOf(s);if(i>=Object.keys(P).indexOf("london"))return Xe(r.gasPrice)?"0x2":"0x0";if(i===Object.keys(P).indexOf("berlin"))return"0x0"}if(!Xe(r.gasPrice))return Rh(ky,r,"0x0"),"0x0"},pE=(t,e)=>{var n;return((n=e==null?void 0:e.transactionTypeParser)!==null&&n!==void 0?n:hE)(t)},mE=t=>t[0]>127?"0x0":Ro(t[0]),l0={type:"array",items:Object.assign({},{type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}})},gE={type:"object",properties:{accessList:Object.assign({},l0),gasUsed:{type:"string"}}},My={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},Dy={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},yE={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},Ly={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},l0),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},My),hardfork:Object.assign({},Dy),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},yE),baseChain:Object.assign({},My),hardfork:Object.assign({},Dy)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},d0={type:"object",properties:Object.assign(Object.assign({},Ly.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},l0),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},Fy={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},Ch={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},d0)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},Fy)},withdrawalsRoot:{format:"bytes32"}}},vE={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},Fy)},withdrawalsRoot:{format:"bytes32"}}},ul={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},bE={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},ll={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},ul)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},wE={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},_E={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},EE={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},{type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}})}}};function Bi(t,e=O,n={transactionSchema:d0,fillInputAndData:!1}){var r,s;let i=Jo({},t);if(Xe(t==null?void 0:t.common)||(i.common=Object.assign({},t.common),Xe((r=t.common)===null||r===void 0?void 0:r.customChain)||(i.common.customChain=Object.assign({},t.common.customChain))),i=At((s=n.transactionSchema)!==null&&s!==void 0?s:d0,i,e),!Xe(i.data)&&!Xe(i.input)&&Ro(i.data)!==Ro(i.input))throw new ua({data:sr(i.data),input:sr(i.input)});return n.fillInputAndData&&(Xe(i.data)?Xe(i.input)||(i.data=i.input):i.input=i.data),Xe(i.gasLimit)||(i.gas=i.gasLimit,delete i.gasLimit),i}function AE(t,e,n={fillInputAndData:!1}){return{raw:At({format:"bytes"},t,e),tx:Bi(Object.assign(Object.assign({},qc.fromSerializedData(mr(t)).toJSON()),{hash:sr(rc(mr(t))),type:mE(mr(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}var f0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function h0(t,e){return f0(this,void 0,void 0,function*(){const n=yield tE(t.requestManager);return At({format:"uint"},n,e)})}function xE(t,e){return f0(this,void 0,void 0,function*(){const n=yield nE(t.requestManager);return At({format:"uint"},n,e)})}const TE=t=>f0(void 0,void 0,void 0,function*(){return rE(t.requestManager)});var p0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Uy extends Oi{getId(e=this.defaultReturnFormat){return p0(this,void 0,void 0,function*(){return h0(this,e)})}getPeerCount(e=this.defaultReturnFormat){return p0(this,void 0,void 0,function*(){return xE(this,e)})}isListening(){return p0(this,void 0,void 0,function*(){return TE(this)})}}var dT=null;const dl="ALLEVENTS",m0={name:dl,signature:"",type:"event",inputs:[]},Nh={bytes:v.HEX,number:Te.NUMBER};var Hy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function IE(t,e,n){return Hy(this,void 0,void 0,function*(){var r,s,i,a;const c=yield Av(e,e.defaultBlock,!1,L);if(Xe(c.baseFeePerGas))throw new Ls;let p;if(Xe(t.gasPrice)&&BigInt(c.baseFeePerGas)===BigInt(0)&&(p=yield U0(e,n)),!Xe(t.gasPrice)||!Xe(p)){const f=At({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:p,n);return{maxPriorityFeePerGas:f,maxFeePerGas:f}}return{maxPriorityFeePerGas:At({format:"uint"},(s=t.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:At({format:"uint"},(i=t.maxFeePerGas)!==null&&i!==void 0?i:BigInt(c.baseFeePerGas)*BigInt(2)+BigInt((a=t.maxPriorityFeePerGas)!==null&&a!==void 0?a:e.defaultMaxPriorityFeePerGas),n)}})}function jy(t,e,n){return Hy(this,void 0,void 0,function*(){const r=Gy(t,e);if(!Xe(r)){if(r.startsWith("-"))throw new di(r);if(Number(r)<0||Number(r)>127)throw new di(r);if(Xe(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield U0(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield IE(t,e,n))}})}var g0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const y0=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&Ni(n[t]))return n[t];if(!Ar(n[t])&&um(n[t])){if(e.wallet){const s=e.wallet.get(At({format:"uint"},n[t],Nh));if(!Xe(s))return s.address;throw new Dd}throw new Dd}else throw t==="from"?new Un(n.from):new Rs(n.to)}if(t==="from"){if(!Xe(r))return Sh(r);if(!Xe(e.defaultAccount))return e.defaultAccount}},SE=(t,e,...n)=>g0(void 0,[t,e,...n],void 0,function*(r,s,i=r.defaultReturnFormat){if(Xe(s))throw new wi;return Tv(r,s,r.defaultBlock,i)}),Gy=(t,e)=>{const n=pE(t,e);if(!Xe(n))return n;if(!Xe(e.defaultTransactionType))return At({format:"uint"},e.defaultTransactionType,L)};function PE(t){return g0(this,void 0,void 0,function*(){var e,n;let r=At(Ly,t.transaction,t.web3Context.defaultReturnFormat);if(Xe(r.from)&&(r.from=y0("from",t.web3Context,void 0,t.privateKey)),Xe(r.nonce)&&(r.nonce=yield SE(t.web3Context,r.from,L)),Xe(r.value)&&(r.value="0x0"),Xe(r.data))Xe(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!Xe(r.input)&&r.data!==r.input)throw new ua({data:sr(r.data),input:sr(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(Xe(r.common)){if(t.web3Context.defaultCommon){const s=t.web3Context.defaultCommon,i=s.customChain.chainId,a=s.customChain.networkId,c=s.customChain.name;r.common=Object.assign(Object.assign({},s),{customChain:{chainId:i,networkId:a,name:c}})}Xe(r.chain)&&(r.chain=t.web3Context.defaultChain),Xe(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(Xe(r.chainId)&&Xe((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield Sv(t.web3Context,L)),Xe(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield h0(t.web3Context,L)),Xe(r.gasLimit)&&!Xe(r.gas)&&(r.gasLimit=r.gas),r.type=Gy(r,t.web3Context),Xe(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield jy(r,t.web3Context,L))),Xe(r.gas)&&Xe(r.gasLimit)&&t.fillGasLimit){const s=yield G0(t.web3Context,r,"latest",L);r=Object.assign(Object.assign({},r),{gas:At({format:"uint"},s,L)})}return r})}const RE=t=>g0(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:PE)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var v0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function b0(t,e,n){const r=t.transactionPollingInterval,[s,i]=th(()=>v0(this,void 0,void 0,function*(){let c;try{c=yield H0(t,Nh)}catch(f){console.warn("An error happen while trying to get the block number",f);return}const p=c-e;if(p>=t.transactionBlockTimeout)return new yc({starterBlockNumber:e,numberOfBlocks:p,transactionHash:n})}),r);return[i,{clean:()=>{clearInterval(s)}}]}function CE(t,e,n){return v0(this,void 0,void 0,function*(){var r;let s=!0,i,a;function c(f,l){l&&console.warn("error happened at subscription. So revert to polling...",l),a.clean(),s=!1;const[b,ve]=b0(t,e,n);a.clean=ve.clean,b.catch(ye=>f(ye))}try{i=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),a={clean:()=>{var f;i.id&&((f=t.subscriptionManager)===null||f===void 0||f.removeSubscription(i).then(()=>{}).catch(()=>{}))}}}catch{return b0(t,e,n)}return[new Promise((f,l)=>{try{i.on("data",b=>{if(s=!1,!(b!=null&&b.number))return;const ve=Number(BigInt(b.number)-BigInt(e));ve>=t.transactionBlockTimeout&&l(new yc({starterBlockNumber:e,numberOfBlocks:ve,transactionHash:n}))}),i.on("error",b=>{c(l,b)})}catch(b){c(l,b)}setTimeout(()=>{s&&c(l)},t.blockHeaderTimeout*1e3)}),a]})}function Wy(t,e){return v0(this,void 0,void 0,function*(){var n,r;const{provider:s}=t.requestManager;let i;const a=yield H0(t,Nh);return!((r=(n=s).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?i=yield CE(t,a,e):i=b0(t,a,e),i})}var NE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function w0(t,e,n){return NE(this,void 0,void 0,function*(){const[r,s]=ud(t.transactionSendTimeout,new Qi({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[i,a]=yield Wy(t,n);try{return yield Promise.race([e(),s,i])}finally{clearTimeout(r),a.clean()}})}var Vy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function zy(t,e,n,r){return Vy(this,void 0,void 0,function*(){var s;const i=(s=t.transactionReceiptPollingInterval)!==null&&s!==void 0?s:t.transactionPollingInterval,[a,c]=Uu(()=>Vy(this,void 0,void 0,function*(){try{return(r??xv)(t,e,n)}catch(ve){console.warn("An error happen while trying to get the transaction receipt",ve);return}}),i),[p,f]=ud(t.transactionPollingTimeout,new Mi({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[l,b]=yield Wy(t,e);try{return yield Promise.race([a,f,l])}finally{p&&clearTimeout(p),c&&clearInterval(c),b.clean()}})}var kE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const kh=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{var i;let a=1;const c=setInterval(()=>{kE(void 0,void 0,void 0,function*(){if(a>=t.transactionConfirmationBlocks){clearInterval(c);return}const p=yield Ny(t.requestManager,fr(BigInt(e.blockNumber)+BigInt(a)),!1);p!=null&&p.hash&&(a+=1,n.emit("confirmation",{confirmations:At({format:"uint"},a,s),receipt:At(r??ll,e,s),latestBlockHash:At({format:"bytes32"},p.hash,s)}))})},(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval)};var Ky=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const OE=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{let i=!0,a;setImmediate(()=>{var c;(c=t.subscriptionManager)===null||c===void 0||c.subscribe("newHeads").then(p=>{p.on("data",f=>Ky(void 0,void 0,void 0,function*(){var l;if(i=!1,!(f!=null&&f.number)||a===(f==null?void 0:f.parentHash))return;a=f==null?void 0:f.parentHash;const b=BigInt(f.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:At({format:"uint"},b,s),receipt:At(r??ll,e,s),latestBlockHash:At({format:"bytes32"},f.parentHash,s)}),b>=t.transactionConfirmationBlocks&&(yield(l=t.subscriptionManager)===null||l===void 0?void 0:l.removeSubscription(p))})),p.on("error",()=>Ky(void 0,void 0,void 0,function*(){var f;yield(f=t.subscriptionManager)===null||f===void 0?void 0:f.removeSubscription(p),i=!1,kh({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})}))}).catch(()=>{i=!1,kh({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:s})})}),setTimeout(()=>{i&&kh({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:s})},t.blockHeaderTimeout*1e3)};function BE(t,e,n,r,s,i){if(Xe(n)||Xe(n.blockHash))throw new su({receipt:n,blockHash:At({format:"bytes32"},n==null?void 0:n.blockHash,s),transactionHash:At({format:"bytes32"},r,s)});if(!n.blockNumber)throw new xl({receipt:n});e.emit("confirmation",{confirmations:At({format:"uint"},1,s),receipt:At(i??ll,n,s),latestBlockHash:At({format:"bytes32"},n.blockHash,s)});const a=t.requestManager.provider;a&&"supportsSubscriptions"in a&&a.supportsSubscriptions()?OE({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s}):kh({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s})}const fT=t=>!isNullish(t)&&typeof t=="object"&&!isNullish(t.type)&&["function","event","constructor","error"].includes(t.type),Oh=t=>!kn(t)&&typeof t=="object"&&!kn(t.type)&&t.type==="error",_0=t=>!kn(t)&&typeof t=="object"&&!kn(t.type)&&t.type==="event",Bh=t=>!kn(t)&&typeof t=="object"&&!kn(t.type)&&t.type==="function",ME=t=>!kn(t)&&typeof t=="object"&&!kn(t.type)&&t.type==="constructor",$y=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",E0=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},A0=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},E0(n)),{components:A0(r)})):e.push({name:n,type:t[n]})}return e},hT=t=>{const e=[];for(const n of t){let r=n;if(typeof n=="object"&&(r=Object.assign({},n)),typeof n=="object"&&n.type==="function"&&(r=Object.assign(Object.assign({},n),{type:"bytes24"})),$y(r)){const s=Object.keys(r)[0];e.push(Object.assign(Object.assign({},E0(s)),{components:A0(r[s])}))}else e.push(r)}return e},DE=t=>typeof t=="string"&&/^(-)?0x[0-9a-f]*$/i.test(t)&&t.length%2===1,Qy=t=>DE(t)?`0x0${t.substring(2)}`:t,LE=/^bytes([0-9]*)$/,FE=/^bytes([0-9]*)\[\]$/,UE=/^(u?int)([0-9]*)$/,HE=/^(u?int)([0-9]*)\[\]$/,jE=(t,e)=>{const n=typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e;if(n instanceof BigInt||typeof n=="bigint")return n.toString(10);if(FE.exec(t)||HE.exec(t))return[...n].map(i=>jE(t.replace("[]",""),i));let r=UE.exec(t);if(r){const s=parseInt(r[2]?r[2]:"256",10);if(s/8<n.length)return leftPad(n,s)}if(r=LE.exec(t),r){const s=isUint8Array(n)?toHex(n):n,i=parseInt(r[1],10);if(i){let a=i*2;n.startsWith("0x")&&(a+=2);const c=s.length<a?rightPad(n,i*2):s;return Qy(c)}return Qy(s)}return n},x0=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new Ge(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const s=r.type.indexOf("["),i=s>=0?r.type.substring(s):"",a=x0(t,r.components);Array.isArray(a)&&t?n.push(`tuple(${a.join(",")})${i}`):t?n.push(`(${a.join()})`):n.push(`(${a.join(",")})${i}`)}else n.push(r.type)}),n},Pa=t=>{var e,n,r,s;return Oh(t)||_0(t)||Bh(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${x0(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${x0(!1,(s=t.inputs)!==null&&s!==void 0?s:[]).join(",")})`},GE=t=>{if(typeof t!="string"&&!Oh(t))throw new Ge("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Pa(t):e=t,Ai(e)},T0=t=>{if(typeof t!="string"&&!_0(t))throw new Ge("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Pa(t):e=t,Ai(e)};function I0(t,e){const n=t.exec(e);return n==null?void 0:n.groups}var Zy=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qy=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Jy=/^\(.+?\).*?$/,WE=Object.defineProperty,VE=(t,e,n)=>e in t?WE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xd=(t,e,n)=>(VE(t,typeof e!="symbol"?e+"":e,n),n),zE="abitype",KE="0.7.1",Ts=class extends Error{constructor(t,e={}){var i;const n=e.cause instanceof Ts?e.cause.details:(i=e.cause)!=null&&i.message?e.cause.message:e.details,r=e.cause instanceof Ts&&e.cause.docsPath||e.docsPath,s=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${zE}@${KE}`].join(`
`);super(s),xd(this,"details"),xd(this,"docsPath"),xd(this,"metaMessages"),xd(this,"shortMessage"),xd(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}};function pT(t){return t}var Xy=/^error (?<name>[a-zA-Z0-9_]+)\((?<parameters>.*?)\)$/;function $E(t){return Xy.test(t)}function QE(t){return execTyped(Xy,t)}var Yy=/^event (?<name>[a-zA-Z0-9_]+)\((?<parameters>.*?)\)$/;function ZE(t){return Yy.test(t)}function qE(t){return execTyped(Yy,t)}var ev=/^function (?<name>[a-zA-Z0-9_]+)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns \((?<returns>.*?)\))?$/;function JE(t){return ev.test(t)}function XE(t){return execTyped(ev,t)}var tv=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function Td(t){return tv.test(t)}function YE(t){return I0(tv,t)}var nv=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function eA(t){return nv.test(t)}function tA(t){return execTyped(nv,t)}var nA=/^fallback\(\)$/;function rA(t){return nA.test(t)}var sA=/^receive\(\) external payable$/;function iA(t){return sA.test(t)}var Mh=new Set(["memory","indexed","storage","calldata"]),oA=new Set(["indexed"]),S0=new Set(["calldata","memory","storage"]);function aA(t,e){return e?`${e}:${t}`:t}var P0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function R0(t,e={}){if(JE(t)){const n=XE(t);if(!n)throw new Ts("Invalid function signature.",{details:t});const r=Vi(n.parameters),s=[],i=r.length;for(let c=0;c<i;c++)s.push(Oo(r[c],{modifiers:S0,structs:e,type:"function"}));const a=[];if(n.returns){const c=Vi(n.returns),p=c.length;for(let f=0;f<p;f++)a.push(Oo(c[f],{modifiers:S0,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}if(ZE(t)){const n=qE(t);if(!n)throw new Ts("Invalid event signature.",{details:t});const r=Vi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Oo(r[a],{modifiers:oA,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}if($E(t)){const n=QE(t);if(!n)throw new Ts("Invalid error signature.",{details:t});const r=Vi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Oo(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}if(eA(t)){const n=tA(t);if(!n)throw new Ts("Invalid constructor signature.",{details:t});const r=Vi(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Oo(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}if(rA(t))return{type:"fallback"};if(iA(t))return{type:"receive",stateMutability:"payable"};throw new Ts("Unknown signature.",{details:t})}var cA=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,uA=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,lA=/^u?int$/;function Oo(t,e){var b,ve;const n=aA(t,e==null?void 0:e.type);if(P0.has(n))return P0.get(n);const r=Jy.test(t),s=I0(r?uA:cA,t);if(!s)throw new Ts("Invalid ABI parameter.",{details:t});if(s.name&&fA(s.name))throw new Ts("Invalid ABI parameter.",{details:t,metaMessages:[`"${s.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},c=(e==null?void 0:e.structs)??{};let p,f={};if(r){p="tuple";const ye=Vi(s.type),We=[],we=ye.length;for(let Ne=0;Ne<we;Ne++)We.push(Oo(ye[Ne],{structs:c}));f={components:We}}else if(s.type in c)p="tuple",f={components:c[s.type]};else if(lA.test(s.type))p=`${s.type}256`;else if(p=s.type,(e==null?void 0:e.type)!=="struct"&&!rv(p))throw new Ts("Unknown type.",{metaMessages:[`Type "${p}" is not a valid ABI type.`]});if(s.modifier){if(!((ve=(b=e==null?void 0:e.modifiers)==null?void 0:b.has)!=null&&ve.call(b,s.modifier)))throw new Ts("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`]});if(S0.has(s.modifier)&&!hA(p,!!s.array))throw new Ts("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e!=null&&e.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s.modifier}" was given.`]})}const l={type:`${p}${s.array??""}`,...i,...a,...f};return P0.set(n,l),l}function Vi(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new Ts("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const s=t.length;for(let i=0;i<s;i++){const a=t[i],c=t.slice(i+1);switch(a){case",":return r===0?Vi(c,[...e,n.trim()]):Vi(c,e,`${n}${a}`,r);case"(":return Vi(c,e,`${n}${a}`,r+1);case")":return Vi(c,e,`${n}${a}`,r-1);default:return Vi(c,e,`${n}${a}`,r)}}return[]}function rv(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Zy.test(t)||qy.test(t)}var dA=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function fA(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Zy.test(t)||qy.test(t)||dA.test(t)}function hA(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Dh(t){const e={},n=t.length;for(let a=0;a<n;a++){const c=t[a];if(!Td(c))continue;const p=YE(c);if(!p)throw new Ts("Invalid struct signature.",{details:c});const f=p.properties.split(";"),l=[],b=f.length;for(let ve=0;ve<b;ve++){const We=f[ve].trim();if(!We)continue;const we=Oo(We,{type:"struct"});l.push(we)}if(!l.length)throw new Ts("Invalid struct signature.",{details:c,metaMessages:["No properties exist."]});e[p.name]=l}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[c,p]=s[a];r[c]=sv(p,e)}return r}var pA=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function sv(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(Jy.test(a.type))r.push(a);else{const p=I0(pA,a.type);if(!(p!=null&&p.type))throw new Ts("Invalid ABI parameter.",{details:JSON.stringify(a,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:f,type:l}=p;if(l in e){if(n.has(l))throw new Ts("Circular reference detected.",{metaMessages:[`Struct "${l}" is a circular reference.`]});r.push({...a,type:`tuple${f??""}`,components:sv(e[l]??[],e,new Set([...n,l]))})}else if(rv(l))r.push(a);else throw new Ts("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function mT(t){const e=Dh(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];Td(i)||n.push(R0(i,e))}return n}function gT(t){let e;if(typeof t=="string")e=R0(t);else{const n=Dh(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!Td(i)){e=R0(i,n);break}}}if(!e)throw new Ts("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiitem-1"});return e}function mA(t){let e;if(typeof t=="string")e=Oo(t,{modifiers:Mh});else{const n=Dh(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!Td(i)){e=Oo(i,{modifiers:Mh,structs:n});break}}}if(!e)throw new Ts("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}function yT(t){const e=[];if(typeof t=="string"){const n=Vi(t),r=n.length;for(let s=0;s<r;s++)e.push(Oo(n[s],{modifiers:Mh}))}else{const n=Dh(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(Td(i))continue;const a=Vi(i),c=a.length;for(let p=0;p<c;p++)e.push(Oo(a[p],{modifiers:Mh,structs:n}))}}if(e.length===0)throw new Ts("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"});return e}const _s=32;function C0(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function vT(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.allocUnsafe)!==void 0){const n=globalThis.Buffer.allocUnsafe(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function iv(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>iv(r))})}function gA(t){return!kn(t)&&typeof t=="object"&&!kn(t.type)&&typeof t.type=="string"}function ov(t){return t.map(e=>{var n;if(gA(e))return e;if(typeof e=="string")return iv(mA(e.replace(/tuple/,"")));if($y(e)){const r=Object.keys(e)[0],s=E0(r);return s.name=(n=s.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},s),{components:A0(e[r])})}throw new Ge("Invalid abi")})}function N0(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let s=-1;if(r!=="[]"&&(s=Number(r.slice(1,-1)),isNaN(s)))throw new Ge("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:s}}function Lh(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(Lh))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?Lh(N0(t).param):!1}const av=20,cv=_s-av;function yA(t,e){if(typeof e!="string")throw new Ge("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!Ni(n))throw new Ge("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=Xa(n),s=C0(_s);return s.set(r,cv),{dynamic:!1,encoded:s}}function vA(t,e){const n=e.subarray(cv,_s);if(n.length!==av)throw new Ge("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=so(n);return{result:oo(r),encoded:e.subarray(_s),consumed:_s}}const fc=new Map;let Fh=BigInt(256);for(let t=8;t<=256;t+=8)fc.set(`uint${t}`,{min:BigInt(0),max:Fh-BigInt(1)}),fc.set(`int${t}`,{min:-Fh/BigInt(2),max:Fh/BigInt(2)-BigInt(1)}),Fh*=BigInt(256);fc.set("int",fc.get("int256")),fc.set("uint",fc.get("uint256"));const uv=BigInt(1)<<BigInt(256);function bA(t,e=_s){let n;return t<0?n=(uv+t).toString(16):n=t.toString(16),n=ao(n,e*2),Xa(n)}function wA(t,e){const n=so(t),r=BigInt(n);return r<=e?r:r-uv}function Id(t,e){let n;try{n=wa(e)}catch{throw new Ge("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=fc.get(t.type);if(!r)throw new Ge("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new Ge("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new Ge("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:bA(n)}}function fl(t,e){if(e.length<_s)throw new Ge("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,_s),r=fc.get(t.type);if(!r)throw new Ge("provided abi contains invalid number datatype",{type:t.type});const s=wA(n,r.max);if(s<r.min)throw new Ge("decoded value is less then minimum for given type",{type:t.type,value:s,name:t.name,minimum:r.min.toString()});if(s>r.max)throw new Ge("decoded value is greater then maximum for given type",{type:t.type,value:s,name:t.name,maximum:r.max.toString()});return{result:s,encoded:e.subarray(_s),consumed:_s}}function _A(t,e){let n;try{n=jf(e)}catch(r){if(r instanceof Il)throw new Ge("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return Id({type:"uint8",name:""},Number(n))}function EA(t,e){const n=fl({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new Ge("Invalid boolean value encoded",{boolBytes:e.subarray(0,_s),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:_s}}const AA=32;function lv(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!ji(e))throw new Ge("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=zs(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>AA||Number(r)<1)throw new Ge("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new Ge("provided input size is different than type size",{type:t.type,value:e,name:t.name});const a=C0(_s);return a.set(n),{dynamic:!1,encoded:a}}const s=Math.ceil(n.length/_s),i=C0(_s+s*_s);return i.set(Id({type:"uint32",name:""},n.length).encoded),i.set(n,_s),{dynamic:!0,encoded:i}}function dv(t,e){const[,n]=t.type.split("bytes");let r=Number(n),s=e,i=1,a=0;if(!r){const c=fl({type:"uint32",name:""},s);r=Number(c.result),a+=c.consumed,s=c.encoded,i=Math.ceil(r/_s)}if(r>e.length)throw new Ge("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:sr(s.subarray(0,r)),encoded:s.subarray(i*_s),consumed:a+i*_s}}function xA(t,e){if(typeof e!="string")throw new Ge("invalid input, should be string",{input:e});const n=rd(e);return lv({type:"bytes",name:""},n)}function TA(t,e){const n=dv({type:"bytes",name:""},e);return{result:Mu(n.result),encoded:n.encoded,consumed:n.consumed}}function fv(t){let e=0,n=0;const r=[],s=[];for(const i of t)i.dynamic?e+=_s:e+=i.encoded.length;for(const i of t)i.dynamic?(r.push(Id({type:"uint256",name:""},e+n)),s.push(i),n+=i.encoded.length):r.push(i);return si(...r.map(i=>i.encoded),...s.map(i=>i.encoded))}function IA(t,e){if(!Array.isArray(e))throw new Ge("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=N0(t),s=e.map(c=>k0(r,c)),i=n===-1,a=s.length>0&&s[0].dynamic;if(!i&&e.length!==n)throw new Ge("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(i||a){const c=fv(s);if(i){const p=Id({type:"uint256",name:""},s.length).encoded;return{dynamic:!0,encoded:s.length>0?si(p,c):p}}return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:si(...s.map(c=>c.encoded))}}function SA(t,e){let{size:n,param:r}=N0(t);const s=n===-1;let i=0;const a=[];let c=e;if(s){const f=fl({type:"uint32",name:""},e);n=Number(f.result),i=f.consumed,c=f.encoded}if(Lh(r)){for(let f=0;f<n;f+=1){const l=fl({type:"uint32",name:""},c.subarray(f*_s));i+=l.consumed;const b=Uh(r,c.subarray(Number(l.result)));i+=b.consumed,a.push(b.result)}return{result:a,encoded:c.subarray(i),consumed:i}}for(let f=0;f<n;f+=1){const l=Uh(r,e.subarray(i));i+=l.consumed,a.push(l.result)}return{result:a,encoded:e.subarray(i),consumed:i}}function k0(t,e){if(t.type==="string")return xA(t,e);if(t.type==="bool")return _A(t,e);if(t.type==="address")return yA(t,e);if(t.type==="tuple")return O0(t,e);if(t.type.endsWith("]"))return IA(t,e);if(t.type.startsWith("bytes"))return lv(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Id(t,e);throw new Ge("Unsupported",{param:t,value:e})}function Uh(t,e){if(t.type==="string")return TA(t,e);if(t.type==="bool")return EA(t,e);if(t.type==="address")return vA(t,e);if(t.type==="tuple")return hv(t,e);if(t.type.endsWith("]"))return SA(t,e);if(t.type.startsWith("bytes"))return dv(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return fl(t,e);throw new Ge("Unsupported",{param:t,bytes:e})}function O0(t,e){var n,r,s;let i=!1;if(!Array.isArray(e)&&typeof e!="object")throw new Ge("param must be either Array or Object",{param:t,input:e});const a=e,c=[];for(let p=0;p<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);p+=1){const f=t.components[p];let l;if(Array.isArray(a)){if(p>=a.length)throw new Ge("input param length missmatch",{param:t,input:e});l=k0(f,a[p])}else{const b=a[(s=f.name)!==null&&s!==void 0?s:""];if(b==null)throw new Ge("missing input defined in abi",{param:t,input:e,paramName:f.name});l=k0(f,b)}l.dynamic&&(i=!0),c.push(l)}return i?{dynamic:!0,encoded:fv(c)}:{dynamic:!1,encoded:si(...c.map(p=>p.encoded))}}function hv(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let s=0;for(const[i,a]of t.components.entries()){let c;if(Lh(a)){const p=fl({type:"uint32",name:""},e.subarray(r));c=Uh(a,e.subarray(Number(p.result))),r+=p.consumed,s+=c.consumed}else c=Uh(a,e.subarray(r)),r+=c.consumed;n.__length__+=1,n[i]=c.result,a.name&&a.name!==""&&(n[a.name]=c.result)}return{encoded:e.subarray(r+s),result:n,consumed:r+s}}function PA(t,e,n){const r=ov(t),s=Xa(e);return hv({type:"tuple",name:"",components:r},s).result}function pv(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=pv(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:Ro(n,!0)})}),e}function Hh(t,e){if((t==null?void 0:t.length)!==e.length)throw new Ge("Invalid number of values received for given ABI",{expected:t==null?void 0:t.length,received:e.length});const n=ov(t);return so(O0({type:"tuple",name:"",components:n},e).encoded)}function RA(t){try{const e=pv(t);return so(O0({type:"tuple",name:"",components:e},t).encoded)}catch{throw new Ge("Could not infer types from given params",{params:t})}}const B0=(t,e)=>Hh([t],[e]),mv=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new Ge("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return PA(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new Ge(`Parameter decoding error: ${r.message}`,{internalErr:r})}},Xc=(t,e)=>mv(t,e,!1),gv=(t,e)=>Xc([t],e)[0],Sd=t=>{if(typeof t!="string"&&!Bh(t))throw new Ge("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Pa(t):e=t,Ai(e).slice(0,10)},CA=(t,e)=>{var n;if(!Bh(t))throw new Ge("Invalid parameter value in encodeFunctionCall");return`${Sd(t)}${Hh((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},M0=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new ss("No inputs found in the ABI");const s=Xc([...t.inputs],r);return Object.assign(Object.assign({},s),{__method__:Pa(t)})},NA=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=Xc([...t.outputs],n);return r.__length__===1?r[0]:r},kA=["bool","string","int","uint","address","fixed","ufixed"],OA=(t,e)=>t==="string"?e:gv(t,e),yv=(t,e,n)=>{const r=Array.isArray(n)?n:[n],s={},i={};for(const[ve,ye]of t.entries())ye.indexed?s[ve]=ye:i[ve]=ye;const a=e?mv(Object.values(i),e,!0):{__length__:0},c=r.length-Object.keys(s).length,p=Object.values(s).map((ve,ye)=>kA.some(We=>ve.type.startsWith(We))?OA(ve.type,r[ye+c]):r[ye+c]),f={__length__:0};let l=0,b=0;for(const[ve,ye]of t.entries())f[ve]=ye.type==="string"?"":void 0,s[ve]&&(f[ve]=p[l],l+=1),i[ve]&&(f[ve]=a[String(b)],b+=1),ye.name&&(f[ye.name]=f[ve]),f.__length__+=1;return f},jh=(t,e)=>{if(e!=null&&e.data){let n,r,s;try{const i=e.data.slice(0,10),a=t.find(c=>GE(c).startsWith(i));a!=null&&a.inputs?(n=a.name,r=Pa(a),s=Xc([...a.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",s=Xc([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",s=Xc([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(i){console.error(i)}n&&e.setDecodedProperties(n,r,s)}},BA=/^\w+/,MA=/^(.*)\[([0-9]*?)]$/,vv=(t,e,n=[])=>{const s=e.match(BA)[0];return n.includes(s)||!t.types[s]?n:[s,...t.types[s].reduce((i,a)=>[...i,...vv(t,a.type,i).filter(c=>!i.includes(c))],[])]},DA=(t,e)=>{const[n,...r]=vv(t,e);return[n,...r.sort()].map(i=>`${i}(${t.types[i].map(a=>`${a.type} ${a.name}`)})`).join("")},LA=(t,e)=>keccak256(DA(t,e)),D0=(t,e,n)=>keccak256(FA(t,e,n)),bT=(t,e)=>{const r=`0x1901${D0(t,"EIP712Domain",t.domain).substring(2)}${D0(t,t.primaryType,t.message).substring(2)}`;return e?keccak256(r):r},bv=(t,e,n)=>{const r=e.match(MA);if(r){const s=r[1],i=Number(r[2])||void 0;if(!Array.isArray(n))throw new AbiError("Cannot encode data: value is not of array type",{data:n});if(i&&n.length!==i)throw new AbiError(`Cannot encode data: expected length of ${i}, but got ${n.length}`,{data:n});const a=n.map(f=>bv(t,s,f)),c=a.map(f=>f[0]),p=a.map(f=>f[1]);return["bytes32",keccak256(encodeParameters(c,p))]}return t.types[e]?["bytes32",D0(t,e,n)]:e==="string"?["bytes32",keccak256(n)]:e==="bytes"?["bytes32",keccak256(n)]:[e,n]},FA=(t,e,n)=>{const[r,s]=t.types[e].reduce(([i,a],c)=>{if(isNullish(n[c.name])||isNullish(c.type))throw new AbiError(`Cannot encode data: missing data for '${c.name}'`,{data:n,field:c});const p=n[c.name],[f,l]=bv(t,c.type,p);return[[...i,f],[...a,l]]},[["bytes32"],[LA(t,e)]]);return encodeParameters(r,s)};var UA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const wv=(t,e)=>{var n,r,s,i,a;if(t instanceof Nt&&t.cause instanceof wt){if(e!==void 0){const c=e.filter(p=>Oh(p));return jh(c,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(s=t.cause.data)===null||s===void 0?void 0:s.slice(0,10),data:(i=t.cause.data)===null||i===void 0?void 0:i.substring(10)}}if(t instanceof au&&!Array.isArray((a=t.cause)===null||a===void 0?void 0:a.errors)&&t.cause!==void 0)return t.cause.message;throw t};function _v(t,e,n){return UA(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){try{yield j0(r,s,r.defaultBlock,a);return}catch(c){return wv(c,i)}})}var HA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function L0(t,e,n,r,s,i){return HA(this,void 0,void 0,function*(){let a=i;a===void 0&&(r!==void 0?a=wv(r):t.handleRevert&&e!==void 0&&(a=yield _v(t,e,s)));let c;if(a===void 0)c=new Dn(n);else if(typeof a=="string")c=new Ut(a,void 0,n);else if(a.customErrorName!==void 0&&a.customErrorDecodedSignature!==void 0&&a.customErrorArguments!==void 0){const p=a;c=new Wt(p.reason,p.customErrorName,p.customErrorDecodedSignature,p.customErrorArguments,p.signature,n,p.data)}else c=new Ut(a.reason,a.signature,n,a.data);return c})}const F0=(t,e,n,r=O)=>{var s,i,a,c,p,f;let l=Object.assign({},t);const b=At(ul,e,r);if([dl,"allEvents"].includes(l.name)){const ye=n.find(We=>We.signature===e.topics[0]);ye?l=ye:l={anonymous:!0}}if(l.inputs=(i=(s=l.inputs)!==null&&s!==void 0?s:t.inputs)!==null&&i!==void 0?i:[],!l.anonymous){let ye=0;((a=l.inputs)!==null&&a!==void 0?a:[]).forEach(We=>{We.indexed&&(ye+=1)}),ye>0&&(e!=null&&e.topics)&&(e==null?void 0:e.topics.length)!==ye+1&&(l=Object.assign(Object.assign({},l),{anonymous:!0,inputs:[]}))}const ve=l.anonymous?e.topics:((c=e.topics)!==null&&c!==void 0?c:[]).slice(1);return Object.assign(Object.assign({},b),{returnValues:yv([...(p=l.inputs)!==null&&p!==void 0?p:[]],e.data,ve),event:l.name,signature:!l.anonymous&&((f=e.topics)===null||f===void 0?void 0:f.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var Yc=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Ev{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:s}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=s}getReceiptWithEvents(e){var n,r;const s=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&s.logs&&s.logs.length>0){s.events={};for(const i of s.logs){const a=F0(m0,i,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);a.event&&(s.events[a.event]=a)}}return s}checkRevertBeforeSending(e){return Yc(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;Xe(e.data)&&Xe(e.input)&&Xe(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield _v(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield L0(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return Yc(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var s;let i=n;return!this.web3Context.config.ignoreGasPricing&&!(!((s=this.options)===null||s===void 0)&&s.ignoreGasPricing)&&Xe(n.gasPrice)&&(Xe(r.maxPriorityFeePerGas)||Xe(r.maxFeePerGas))&&(i=Object.assign(Object.assign({},n),yield jy(n,this.web3Context,L))),i})}signAndSend(e){return Yc(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const s=yield n.signTransaction(r);return w0(this.web3Context,()=>Yc(this,void 0,void 0,function*(){return Cy(this.web3Context.requestManager,s.rawTransaction)}),s.transactionHash)}return w0(this.web3Context,()=>Yc(this,void 0,void 0,function*(){return P_(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return Yc(this,arguments,void 0,function*({error:n,tx:r}){var s;let i=n;return i instanceof Nt&&this.web3Context.handleRevert&&(i=yield L0(this.web3Context,r,void 0,void 0,(s=this.options)===null||s===void 0?void 0:s.contractAbi)),(i instanceof au||i instanceof Nt||i instanceof Wt||i instanceof Dn||i instanceof Ut||i instanceof Mi)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",i),i})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&BE(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return Yc(this,arguments,void 0,function*({receipt:n,tx:r}){var s,i,a;if(!((s=this.options)===null||s===void 0)&&s.transactionResolver)return(i=this.options)===null||i===void 0?void 0:i.transactionResolver(n);if(n.status===BigInt(0)){const c=yield L0(this.web3Context,r,n,void 0,(a=this.options)===null||a===void 0?void 0:a.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",c),c}else return n})}}var Pr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})},jA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const wT=t=>Pr(void 0,void 0,void 0,function*(){return ethRpcMethods.getProtocolVersion(t.requestManager)}),GA=t=>Pr(void 0,void 0,void 0,function*(){return Ry(t.requestManager)}),_T=t=>Pr(void 0,void 0,void 0,function*(){return ethRpcMethods.getCoinbase(t.requestManager)}),ET=t=>Pr(void 0,void 0,void 0,function*(){return ethRpcMethods.getMining(t.requestManager)});function WA(t,e){return Pr(this,void 0,void 0,function*(){const n=yield h_(t.requestManager);return At({format:"uint"},n,e??t.defaultReturnFormat)})}function U0(t,e){return Pr(this,void 0,void 0,function*(){const n=yield p_(t.requestManager);return At({format:"uint"},n,e??t.defaultReturnFormat)})}function VA(t,e){return Pr(this,void 0,void 0,function*(){const n=yield m_(t.requestManager);return At({format:"uint"},n,e??t.defaultReturnFormat)})}function H0(t,e){return Pr(this,void 0,void 0,function*(){const n=yield y_(t.requestManager);return At({format:"uint"},n,e??t.defaultReturnFormat)})}function zA(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=us(s)?s:At({format:"uint"},s,L),c=yield v_(n.requestManager,r,a);return At({format:"uint"},c,i??n.defaultReturnFormat)})}function KA(t,e,n){return Pr(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,c){const p=At({format:"uint"},i,L),f=us(a)?a:At({format:"uint"},a,L),l=yield b_(r.requestManager,s,p,f);return At({format:"bytes"},l,c??r.defaultReturnFormat)})}function $A(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=us(s)?s:At({format:"uint"},s,L),c=yield T_(n.requestManager,r,a);return At({format:"bytes"},c,i??n.defaultReturnFormat)})}function Av(t){return Pr(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,s){var i;let a;if(ji(n)){const p=At({format:"bytes32"},n,L);a=yield N_(e.requestManager,p,r)}else{const p=us(n)?n:At({format:"uint"},n,L);a=yield Ny(e.requestManager,p,r)}const c=At(Ch,a,s??e.defaultReturnFormat);return Xe(c)?c:Object.assign(Object.assign({},c),{transactions:(i=c.transactions)!==null&&i!==void 0?i:[]})})}function QA(t){return Pr(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(ji(n)){const i=At({format:"bytes32"},n,L);s=yield __(e.requestManager,i)}else{const i=us(n)?n:At({format:"uint"},n,L);s=yield E_(e.requestManager,i)}return At({format:"uint"},s,r??e.defaultReturnFormat)})}function ZA(t){return Pr(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(ji(n)){const i=At({format:"bytes32"},n,L);s=yield A_(e.requestManager,i)}else{const i=us(n)?n:At({format:"uint"},n,L);s=yield x_(e.requestManager,i)}return At({format:"uint"},s,r??e.defaultReturnFormat)})}function qA(t){return Pr(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=At({format:"uint"},r,L);let a;if(ji(n)){const c=At({format:"bytes32"},n,L);a=yield D_(e.requestManager,c,i)}else{const c=us(n)?n:At({format:"uint"},n,L);a=yield L_(e.requestManager,c,i)}return At(Ch,a,s??e.defaultReturnFormat)})}function JA(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=At({format:"bytes32"},r,O),a=yield k_(n.requestManager,i);return Xe(a)?a:Bi(a,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function XA(t,e){return Pr(this,void 0,void 0,function*(){return(yield Q_(t.requestManager)).map(r=>Bi(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function YA(t){return Pr(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=At({format:"uint"},r,L);let a;if(ji(n)){const c=At({format:"bytes32"},n,L);a=yield O_(e.requestManager,c,i)}else{const c=us(n)?n:At({format:"uint"},n,L);a=yield B_(e.requestManager,c,i)}return Xe(a)?a:Bi(a,s??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function xv(t,e,n){return Pr(this,void 0,void 0,function*(){const r=At({format:"bytes32"},e,O);let s;try{s=yield M_(t.requestManager,r)}catch(i){if(typeof i=="object"&&!Xe(i)&&"message"in i&&i.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw i}return Xe(s)?s:At(ll,s,n??t.defaultReturnFormat)})}function Tv(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=us(s)?s:At({format:"uint"},s,L),c=yield w_(n.requestManager,r,a);return At({format:"uint"},c,i??n.defaultReturnFormat)})}function Pd(t,e,n,r={checkRevertBeforeSending:!0},s){const i=new Py((a,c)=>{setImmediate(()=>{Pr(this,void 0,void 0,function*(){const p=new Ev({web3Context:t,promiEvent:i,options:r,returnFormat:n});let f=Object.assign({},e);Xe(s)||(f=yield s.processTransaction(f));let l=Bi(Object.assign(Object.assign({},f),{from:y0("from",t,f),to:y0("to",t,f)}),L,{transactionSchema:t.config.customTransactionSchema});try{l=yield p.populateGasPrice({transaction:f,transactionFormatted:l}),yield p.checkRevertBeforeSending(l),p.emitSending(l);let b;t.wallet&&!Xe(l.from)&&(b=t.wallet.get(l.from));const ve=yield p.signAndSend({wallet:b,tx:l}),ye=At({format:"bytes32"},ve,n??t.defaultReturnFormat);p.emitSent(l),p.emitTransactionHash(ye);const We=yield zy(t,ve,n??t.defaultReturnFormat),we=p.getReceiptWithEvents(At(ll,We,n??t.defaultReturnFormat));p.emitReceipt(we),a(yield p.handleResolve({receipt:we,tx:l})),p.emitConfirmation({receipt:we,transactionHash:ve})}catch(b){c(yield p.handleError({error:b,tx:l}))}})})});return i}function ex(t,e,n,r={checkRevertBeforeSending:!0}){const s=new Py((i,a)=>{setImmediate(()=>{Pr(this,void 0,void 0,function*(){const c=new Ev({web3Context:t,promiEvent:s,options:r,returnFormat:n}),p=At({format:"bytes"},e,L),f=qc.fromSerializedData(zs(mr(p))),l=Object.assign(Object.assign({},f.toJSON()),{from:f.getSenderAddress().toString()});try{const{v:b,r:ve,s:ye}=l,We=jA(l,["v","r","s"]);yield c.checkRevertBeforeSending(We),c.emitSending(p);const we=yield w0(t,()=>Pr(this,void 0,void 0,function*(){return Cy(t.requestManager,p)}));c.emitSent(p);const Ne=At({format:"bytes32"},we,n??t.defaultReturnFormat);c.emitTransactionHash(Ne);const Ue=yield zy(t,we,n??t.defaultReturnFormat),ft=c.getReceiptWithEvents(At(ll,Ue,n??t.defaultReturnFormat));c.emitReceipt(ft),i(yield c.handleResolve({receipt:ft,tx:l})),c.emitConfirmation({receipt:ft,transactionHash:we})}catch(b){a(yield c.handleError({error:b,tx:l}))}})})});return s}function tx(t,e,n){return Pr(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){var c;const p=At({format:"bytes"},s,O);if(!((c=r.wallet)===null||c===void 0)&&c.get(i)){const b=r.wallet.get(i).sign(p);return At(wE,b,a)}if(typeof i=="number")throw new Vn(s,'RPC method "eth_sign" does not support index signatures');const f=yield I_(r.requestManager,i,p);return At({format:"bytes"},f,a)})}function nx(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=yield S_(n.requestManager,Bi(r,L,{transactionSchema:n.config.customTransactionSchema}));return xu(i)?AE(i,s,{fillInputAndData:!0}):{raw:At({format:"bytes"},i.raw,s),tx:Bi(i.tx,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function j0(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i=n.defaultReturnFormat){const a=us(s)?s:At({format:"uint"},s,L),c=yield R_(n.requestManager,Bi(r,L,{transactionSchema:n.config.customTransactionSchema}),a);return At({format:"bytes"},c,i)})}function G0(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=Bi(r,L,{transactionSchema:n.config.customTransactionSchema}),c=us(s)?s:At({format:"uint"},s,L),p=yield C_(n.requestManager,a,c);return At({format:"uint"},p,i??n.defaultReturnFormat)})}function Iv(t,e,n){return Pr(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;Xe(r)||(typeof r=="number"||typeof r=="bigint")&&(r=fr(r)),Xe(s)||(typeof s=="number"||typeof s=="bigint")&&(s=fr(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r});return(yield V_(t.requestManager,i)).map(p=>typeof p=="string"?p:At(ul,p,n??t.defaultReturnFormat))})}function Sv(t,e){return Pr(this,void 0,void 0,function*(){const n=yield q_(t.requestManager);return At({format:"uint"},n,e??t.defaultReturnFormat)})}function rx(t,e,n){return Pr(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,c){const p=i.map(b=>At({format:"bytes"},b,L)),f=us(a)?a:At({format:"uint"},a,L),l=yield J_(r.requestManager,s,p,f);return At(EE,l,c??r.defaultReturnFormat)})}function sx(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i,a){const c=At({format:"uint"},r,L),p=us(s)?s:At({format:"uint"},s,L),f=At({type:"array",items:{format:"uint"}},i,Nh),l=yield $_(n.requestManager,c,p,f);return At(_E,l,a??n.defaultReturnFormat)})}function Pv(t,e){return Pr(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=us(s)?s:At({format:"uint"},s,L),c=yield Y_(n.requestManager,Bi(r,L,{transactionSchema:n.config.customTransactionSchema}),a);return At(gE,c,i??n.defaultReturnFormat)})}function ix(t,e,n,r,s){return Pr(this,void 0,void 0,function*(){const i=yield eE(t.requestManager,e,n,r);return At({format:"bytes"},i,s??t.defaultReturnFormat)})}var hl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};function ox(t,e){return hl(this,void 0,void 0,function*(){const n=yield H_(t.requestManager);return At({format:"uint"},n,e??t.defaultReturnFormat)})}function ax(t,e,n){return hl(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;Xe(r)||(typeof r=="number"||typeof r=="bigint")&&(r=fr(r)),Xe(s)||(typeof s=="number"||typeof s=="bigint")&&(s=fr(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r}),a=yield F_(t.requestManager,i);return At({format:"uint"},a,n??t.defaultReturnFormat)})}function cx(t,e){return hl(this,void 0,void 0,function*(){const n=yield U_(t.requestManager);return At({format:"uint"},n,e??t.defaultReturnFormat)})}function ux(t,e){return hl(this,void 0,void 0,function*(){return yield j_(t.requestManager,fr(e))})}function lx(t,e,n){return hl(this,void 0,void 0,function*(){return(yield G_(t.requestManager,fr(e))).map(i=>typeof i=="string"?i:At(ul,i,n??t.defaultReturnFormat))})}function dx(t,e,n){return hl(this,void 0,void 0,function*(){return(yield W_(t.requestManager,fr(e))).map(i=>typeof i=="string"?i:At(ul,i,n??t.defaultReturnFormat))})}class Rv extends G{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return At(ul,e,super.returnFormat)}}class Cv extends G{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return At({format:"string"},e,super.returnFormat)}}class Gh extends G{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return At(vE,e,super.returnFormat)}}class Nv extends G{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries((e==null?void 0:e.status)||e).map(([r,s])=>[r.charAt(0).toLowerCase()+r.substring(1),s]));this.emit("changed",e.syncing),this.emit("data",At(bE,n,super.returnFormat))}}}var Kn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const W0={logs:Rv,newPendingTransactions:Cv,newHeads:Gh,syncing:Nv,pendingTransactions:Cv,newBlockHeaders:Gh};class Wh extends Oi{constructor(e){if(typeof e=="string"||qu(e)){super({provider:e,registeredSubscriptions:W0});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:W0})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return Kn(this,void 0,void 0,function*(){return l_(this.requestManager)})}isSyncing(){return Kn(this,void 0,void 0,function*(){return Ry(this.requestManager)})}getCoinbase(){return Kn(this,void 0,void 0,function*(){return d_(this.requestManager)})}isMining(){return Kn(this,void 0,void 0,function*(){return f_(this.requestManager)})}getHashrate(e){return Kn(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:O),this.getHashRate(e)})}getHashRate(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return WA(this,e)})}getGasPrice(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return U0(this,e)})}getMaxPriorityFeePerGas(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return VA(this,e)})}calculateFeeData(){return Kn(this,arguments,void 0,function*(e=BigInt(2),n=Ou.Gwei){var r;const s=yield this.getBlock(void 0,!1),i=(r=s==null?void 0:s.baseFeePerGas)!==null&&r!==void 0?r:void 0;let a;try{a=yield this.getGasPrice()}catch{}let c;try{c=yield this.getMaxPriorityFeePerGas()}catch{}let p;if(i){c=c??n;let f;typeof e=="number"?f=BigInt(Math.floor(e*1e3))/BigInt(1e3):f=e,p=i*f+c}return{gasPrice:a,maxFeePerGas:p,maxPriorityFeePerGas:c,baseFeePerGas:i}})}getAccounts(){return Kn(this,void 0,void 0,function*(){var e;return((e=yield g_(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>oo(r))})}getBlockNumber(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return H0(this,e)})}getBalance(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return zA(this,n,r,s)})}getStorageAt(e,n){return Kn(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return KA(this,r,s,i,a)})}getCode(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return $A(this,n,r,s)})}getBlock(){return Kn(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return Av(this,e,n,r)})}getBlockTransactionCount(){return Kn(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return QA(this,e,n)})}getBlockUncleCount(){return Kn(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return ZA(this,e,n)})}getUncle(){return Kn(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return qA(this,e,n,r)})}getTransaction(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield JA(this,n,r);if(!s)throw new Pn;return s})}getPendingTransactions(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return XA(this,e)})}getTransactionFromBlock(){return Kn(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return YA(this,e,n,r)})}getTransactionReceipt(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield xv(this,n,r);if(!s)throw new Pn;return s})}getTransactionCount(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return Tv(this,n,r,s)})}sendTransaction(e,n=this.defaultReturnFormat,r){return Pd(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return ex(this,e,n,r)}sign(e,n){return Kn(this,arguments,void 0,function*(r,s,i=this.defaultReturnFormat){return tx(this,r,s,i)})}signTransaction(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return nx(this,n,r)})}call(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return j0(this,n,r,s)})}estimateGas(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return G0(this,n,r,s)})}getPastLogs(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return Iv(this,n,r)})}getWork(){return Kn(this,void 0,void 0,function*(){return z_(this.requestManager)})}submitWork(e,n,r){return Kn(this,void 0,void 0,function*(){return K_(this.requestManager,e,n,r)})}requestAccounts(){return Kn(this,void 0,void 0,function*(){return Z_(this.requestManager)})}getChainId(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Sv(this,e)})}getNodeInfo(){return Kn(this,void 0,void 0,function*(){return X_(this.requestManager)})}getProof(e,n){return Kn(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return rx(this,r,s,i,a)})}getFeeHistory(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultBlock,s,i=this.defaultReturnFormat){return sx(this,n,r,s,i)})}createAccessList(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return Pv(this,n,r,s)})}signTypedData(e,n,r,s){return Kn(this,void 0,void 0,function*(){var i;return r===void 0&&(r=!1),s===void 0&&(s=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:O),ix(this,e,n,r,s)})}subscribe(e,n,r){return Kn(this,void 0,void 0,function*(){var s,i;r===void 0&&(r=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:O);const a=yield(i=this.subscriptionManager)===null||i===void 0?void 0:i.subscribe(e,n,r);return a instanceof Rv&&e==="logs"&&typeof n=="object"&&!kn(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(c=>{for(const p of c)a._processSubscriptionResult(p)}).catch(c=>{a._processSubscriptionError(c)})}),a})}static shouldClearSubscription({sub:e}){return!(e instanceof Nv)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?Wh.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return ox(this,e)})}createNewFilter(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return ax(this,n,r)})}createNewBlockFilter(){return Kn(this,arguments,void 0,function*(e=this.defaultReturnFormat){return cx(this,e)})}uninstallFilter(e){return Kn(this,void 0,void 0,function*(){return ux(this,e)})}getFilterChanges(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return lx(this,n,r)})}getFilterLogs(e){return Kn(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return dx(this,n,r)})}}function Vh(t){return!(!isNullish(t.to)&&!isAddress(t.to)||!isHexStrict(t.type)&&!isNullish(t.type)&&t.type.length!==2||!isHexStrict(t.nonce)||!isHexStrict(t.gas)||!isHexStrict(t.value)||!isHexStrict(t.input)||t.chainId&&!isHexStrict(t.chainId))}function fx(t){return!(!isNullish(t.address)&&!isAddress(t.address)||!isNullish(t.storageKeys)&&!t.storageKeys.every(e=>isHexString32Bytes(e)))}function kv(t){return!(!Array.isArray(t)||!t.every(e=>fx(e)))}function Ov(t){return!(!Vh(t)||!isHexStrict(t.maxFeePerGas)||!isHexStrict(t.maxPriorityFeePerGas)||!kv(t.accessList))}function Bv(t){return!(!Vh(t)||!isHexStrict(t.gasPrice)||!kv(t.accessList))}function hx(t){return!(!Vh(t)||!isHexStrict(t.gasPrice))}function px(t){return!(!isAddress(t.from)||!Vh(t)||!Ov(t)&&!Bv(t)&&!hx(t))}function AT(t){if(!px(t))throw new InvalidTransactionWithSender(t)}function mx(t){return!(!isNullish(t.from)&&!isAddress(t.from)||!isAddress(t.to)||!isNullish(t.gas)&&!isHexStrict(t.gas)||!isNullish(t.gasPrice)&&!isHexStrict(t.gasPrice)||!isNullish(t.value)&&!isHexStrict(t.value)||!isNullish(t.data)&&!isHexStrict(t.data)||!isNullish(t.input)&&!isHexStrict(t.input)||!isNullish(t.type)||Ov(t)||Bv(t))}function xT(t){if(!mx(t))throw new InvalidTransactionCall(t)}const gx=t=>{if(!Xe(t.common)){if(Xe(t.common.customChain))throw new Nr;if(Xe(t.common.customChain.chainId))throw new js;if(!Xe(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new Gs({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},yx=t=>{if(!Xe(t.common)&&!Xe(t.chain)&&!Xe(t.hardfork))throw new un;if(!Xe(t.chain)&&Xe(t.hardfork)||!Xe(t.hardfork)&&Xe(t.chain))throw new Yn({chain:t.chain,hardfork:t.hardfork})},vx=t=>{if(!Xe(t.common)&&!Xe(t.common.baseChain)&&!Xe(t.chain)&&t.chain!==t.common.baseChain)throw new bo({txChain:t.chain,baseChain:t.common.baseChain})},bx=t=>{if(!Xe(t.common)&&!Xe(t.common.hardfork)&&!Xe(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new Vt({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},Mv=t=>{if(Xe(t.gas)||!$o(t.gas)||Xe(t.gasPrice)||!$o(t.gasPrice))throw new Cs({gas:t.gas,gasPrice:t.gasPrice});if(!Xe(t.maxFeePerGas)||!Xe(t.maxPriorityFeePerGas))throw new wo({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},Dv=t=>{if(!Xe(t.gasPrice)&&t.type==="0x2")throw new Ds(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new wo({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(Xe(t.maxFeePerGas)||!$o(t.maxFeePerGas)||Xe(t.maxPriorityFeePerGas)||!$o(t.maxPriorityFeePerGas))throw new bi({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},wx=t=>{const e=!Xe(t.gas)||!Xe(t.gasLimit),n=e&&!Xe(t.gasPrice),r=e&&!Xe(t.maxPriorityFeePerGas)&&!Xe(t.maxFeePerGas);if(!n&&!r)throw new Mr({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new jr({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?Mv:Dv)(t),(!Xe(t.type)&&t.type>"0x1"?Dv:Mv)(t)},_x=(t,e,n={transactionSchema:void 0})=>{if(!Xe(e)){e(t);return}if(typeof t!="object"||Xe(t))throw new ca(t);gx(t),yx(t),vx(t),bx(t);const r=Bi(t,L,{transactionSchema:n.transactionSchema});if(wx(r),Xe(r.nonce)||Xe(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new Pi({nonce:t.nonce,chainId:t.chainId})};var Ex=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const Ax=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},xx=(t,e)=>{var n,r,s,i,a,c,p,f,l,b,ve,ye,We,we,Ne,Ue,ft,yt;const Qt=!Xe(t.chain)&&!Xe(t.hardfork)||!Xe(t.common);let Ct;if(!Qt)e.defaultCommon?(Ct=Object.assign({},e.defaultCommon),Xe(Ct.hardfork)&&(Ct.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),Xe(Ct.baseChain)&&(Ct.baseChain=e.defaultChain)):Ct=Us.custom({name:"custom-network",chainId:Ks(t.chainId),networkId:Xe(t.networkId)?void 0:Ks(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const Gt=(c=(a=(i=(s=t==null?void 0:t.common)===null||s===void 0?void 0:s.customChain)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:t.chain)!==null&&c!==void 0?c:"custom-network",Yt=Ks((l=(f=(p=t==null?void 0:t.common)===null||p===void 0?void 0:p.customChain)===null||f===void 0?void 0:f.chainId)!==null&&l!==void 0?l:t==null?void 0:t.chainId),qt=Ks((ye=(ve=(b=t==null?void 0:t.common)===null||b===void 0?void 0:b.customChain)===null||ve===void 0?void 0:ve.networkId)!==null&&ye!==void 0?ye:t==null?void 0:t.networkId),vr=(Ne=(we=(We=t==null?void 0:t.common)===null||We===void 0?void 0:We.hardfork)!==null&&we!==void 0?we:t==null?void 0:t.hardfork)!==null&&Ne!==void 0?Ne:e.defaultHardfork,cr=(yt=(ft=(Ue=t.common)===null||Ue===void 0?void 0:Ue.baseChain)!==null&&ft!==void 0?ft:t.chain)!==null&&yt!==void 0?yt:e.defaultChain;Yt&&qt&&Gt&&(Ct=Us.custom({name:Gt,chainId:Yt,networkId:qt,defaultHardfork:vr},{baseChain:cr}))}return{common:Ct}},Tx=(t,e,n,...r)=>Ex(void 0,[t,e,n,...r],void 0,function*(s,i,a,c=!1,p=!0){const f=yield RE({transaction:s,web3Context:i,privateKey:a,fillGasPrice:c,fillGasLimit:p}),l=Bi(f,L,{transactionSchema:i.config.customTransactionSchema});return _x(l,void 0,{transactionSchema:i.config.customTransactionSchema}),qc.fromTxData(Ax(l),xx(l,i))});var TT=null;const Lv=({address:t},e,n)=>{var r,s;const i=n==null?void 0:n.topics,a=(r=n==null?void 0:n.filter)!==null&&r!==void 0?r:{},c={};if(kn(n==null?void 0:n.fromBlock)||(c.fromBlock=At(Ch.properties.number,n==null?void 0:n.fromBlock,{number:Te.HEX,bytes:v.HEX})),kn(n==null?void 0:n.toBlock)||(c.toBlock=At(Ch.properties.number,n==null?void 0:n.toBlock,{number:Te.HEX,bytes:v.HEX})),i&&Array.isArray(i))c.topics=[...i];else if(c.topics=[],e&&!e.anonymous&&![dl,"allEvents"].includes(e.name)&&c.topics.push((s=e.signature)!==null&&s!==void 0?s:T0(Pa(e))),![dl,"allEvents"].includes(e.name)&&e.inputs)for(const p of e.inputs){if(!p.indexed)continue;const f=a[p.name];if(!f){c.topics.push(null);continue}Array.isArray(f)?c.topics.push(f.map(l=>B0(p.type,l))):p.type==="string"?c.topics.push(rc(f)):c.topics.push(B0(p.type,f))}return c.topics.length||delete c.topics,t&&(c.address=t.toLowerCase()),c},Rd=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new ss(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let s;if(t.inputs?s=Hh(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):s=RA(e).replace("0x",""),ME(t)){if(!n)throw new ss("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${s}`:`0x${n}${s}`}return`${Sd(t)}${s}`},IT=null,ST=null;class Fv extends G{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return F0(this.abi,e,this.jsonInterface,super.returnFormat)}}const PT=null;function Uv(t){if(Array.isArray(t)){const n=[];let r=0;for(let s=0;s<t.length;s++){const i=Uv(t[s]);n.push(i),r+=i.length}return z0(jv(r,192),...n)}const e=Kv(t);return e.length===1&&e[0]<128?e:z0(jv(e.length,128),e)}function pl(t,e,n){if(n>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,n)}function Hv(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return Wv(Gv(t))}function jv(t,e){if(t<56)return Uint8Array.from([t+e]);const n=K0(t),r=n.length/2,s=K0(e+55+r);return Uint8Array.from(zh(s+n))}function Ix(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const n=Kv(t),r=V0(n);if(e)return{data:r.data,remainder:r.remainder.slice()};if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}function V0(t){let e,n,r,s,i;const a=[],c=t[0];if(c<=127)return{data:t.slice(0,1),remainder:t.subarray(1)};if(c<=183){if(e=c-127,c===128?r=Uint8Array.from([]):r=pl(t,1,e),e===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:t.subarray(e)}}else if(c<=191){if(n=c-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(e=Hv(pl(t,1,n)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=pl(t,n,e+n),{data:r,remainder:t.subarray(e+n)}}else if(c<=247){for(e=c-191,s=pl(t,1,e);s.length;)i=V0(s),a.push(i.data),s=i.remainder;return{data:a,remainder:t.subarray(e)}}else{if(n=c-246,e=Hv(pl(t,1,n)),e<56)throw new Error("invalid RLP: encoded list too short");const p=n+e;if(p>t.length)throw new Error("invalid RLP: total length is larger than the data");for(s=pl(t,n,p);s.length;)i=V0(s),a.push(i.data),s=i.remainder;return{data:a,remainder:t.subarray(p)}}}const Sx=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gv(t){let e="";for(let n=0;n<t.length;n++)e+=Sx[t[n]];return e}function Wv(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function zh(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2;e[n]=Wv(t.slice(r,r+2))}return e}function z0(...t){if(t.length===1)return t[0];const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function Vv(t){return new TextEncoder().encode(t)}function K0(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function Px(t){return t.length%2?`0${t}`:t}function zv(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function Rx(t){return typeof t!="string"?t:zv(t)?t.slice(2):t}function Kv(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return zv(t)?zh(Px(Rx(t))):Vv(t);if(typeof t=="number"||typeof t=="bigint")return t?zh(K0(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}const RT={bytesToHex:Gv,concatBytes:z0,hexToBytes:zh,utf8ToBytes:Vv},CT={encode:Uv,decode:Ix},Kh=(t,e,n,r)=>{var s,i;const a={};return(!kn(t.data)||r==="both")&&(a.data=Rd(e,n,(s=t.data)!==null&&s!==void 0?s:t.input)),(!kn(t.input)||r==="both")&&(a.input=Rd(e,n,(i=t.input)!==null&&i!==void 0?i:t.data)),kn(a.input)&&kn(a.data)&&(a[r]=Rd(e,n)),{data:a.data,input:a.input}},$0=({abi:t,params:e,options:n,contractOptions:r})=>{var s,i,a;if(!((a=(i=(s=n==null?void 0:n.input)!==null&&s!==void 0?s:n==null?void 0:n.data)!==null&&i!==void 0?i:r.input)!==null&&a!==void 0?a:r.data)&&!(n!=null&&n.to)&&!r.address)throw new ss("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new ss('Contract "from" address not specified');let p=Jo({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const f=Kh(p,t,e,n==null?void 0:n.dataInputFill);return p=Object.assign(Object.assign({},p),{data:f.data,input:f.input}),p},Cx=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new ss("Contract address not specified");let s=Jo({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=Kh(s,t,e,n==null?void 0:n.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},Nx=({abi:t,params:e,options:n,contractOptions:r})=>{let s=Jo({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const i=Kh(s,t,e,n==null?void 0:n.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},$v=t=>typeof t=="object"&&!kn(t)&&Object.keys(t).length!==0&&!qo(t),kx=({abi:t,params:e,options:n,contractOptions:r})=>{if(!(n!=null&&n.to)&&!r.address)throw new ss("Contract address not specified");if(!(n!=null&&n.from)&&!r.from)throw new ss('Contract "from" address not specified');let s=Jo({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=Kh(s,t,e,n==null?void 0:n.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},NT=(t,e)=>{if(!isAddress(t))throw new InvalidAddressError(`Invalid address given ${t}`);let n=e;if(typeof e=="string"&&isHexString(e))n=hexToNumber(e);else if(typeof e=="string"&&!isHexString(e))throw new InvalidNumberError("Invalid nonce value format");const r=RLP.encode([t,n]),s=keccak256(r),i="0x".concat(s.substring(26));return toChecksumAddress(i)},kT=(t,e,n)=>{if(!isAddress(t))throw new InvalidAddressError(`Invalid address given ${t}`);if(!isHexString(e))throw new InvalidMethodParamsError(`Invalid salt value ${e}`);if(!isHexString(n))throw new InvalidMethodParamsError(`Invalid initCode value ${n}`);const s=keccak256(n).padStart(64,"0"),a=`0x${["0xff",t,e,s].map(c=>c.replace(/0x/,"")).join("")}`;return toChecksumAddress(`0x${keccak256(a).slice(26)}`)};var Ox=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Bx{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new ss("code couldn't be stored",r);const s=this.parent.clone();return s.options.address=r.contractAddress,s},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return Xe(this.parent.getTransactionMiddleware())?Pd(this.parent,e,this.parent.defaultReturnFormat,n):Pd(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:s,contractOptions:i,deployData:a}=this.calculateDeployParams();this.args=r,this.constructorAbi=s,this.contractOptions=i,this.deployData=a}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const s=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),i=$0({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:s});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,n,r,s,i,a;let c=this.parent.options.jsonInterface.find(ye=>ye.type==="constructor");c||(c={type:"constructor",stateMutability:""});const p=At({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,O),f=At({format:"bytes"},(s=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:this.parent.options.data,O);if((!p||p.trim()==="0x")&&(!f||f.trim()==="0x"))throw new ss("contract creation without any data provided.");const l=(a=(i=this.deployOptions)===null||i===void 0?void 0:i.arguments)!==null&&a!==void 0?a:[],b=Object.assign(Object.assign({},this.parent.options),{input:p,data:f});return{args:l,abi:c,contractOptions:b,deployData:p??f}}estimateGas(e){return Ox(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const s=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:s,contractOptions:this.contractOptions})})}encodeABI(){return Rd(this.constructorAbi,this.args,At({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},M0(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var Mx=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Dx extends R{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return Mx(this,arguments,void 0,function*(s,i,a=O){return r.subscribe.call(this,s,i??this.parentContract.options,a)})}}var eu=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const Lx={logs:Fv,newHeads:Gh,newBlockHeaders:Gh};class tu extends Oi{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,s,i){var a,c,p;const f=qo(n)?n:qo(r)?r:void 0;let l;$v(n)?l=n:$v(r)?l=r:l=s;let b;if(typeof n=="object"&&"provider"in n?b=n.provider:typeof r=="object"&&"provider"in r?b=r.provider:typeof s=="object"&&"provider"in s?b=s.provider:b=tu.givenProvider,super(Object.assign(Object.assign({},l),{provider:b,registeredSubscriptions:Lx})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new Dx(super.subscriptionManager,this),l!=null&&l.wallet&&(this._wallet=l.wallet),l!=null&&l.accountProvider&&(this._accountProvider=l.accountProvider),!Xe(f)&&!Xe(f.data)&&!Xe(f.input)&&this.config.contractDataInputFill!=="both")throw new It({data:f.data,input:f.input});this._overloadedMethodAbis=new Map;const ve=co(s)?s:co(r)?r:i??this.defaultReturnFormat,ye=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(a=f==null?void 0:f.dataInputFill)!==null&&a!==void 0?a:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,ve),this.defaultReturnFormat!==ve&&(this.defaultReturnFormat=ve),Xe(ye)||this._parseAndSetAddress(ye,ve),this.options={address:ye,jsonInterface:this._jsonInterface,gas:(c=f==null?void 0:f.gas)!==null&&c!==void 0?c:f==null?void 0:f.gasLimit,gasPrice:f==null?void 0:f.gasPrice,from:f==null?void 0:f.from,input:f==null?void 0:f.input,data:f==null?void 0:f.data},this.syncWithContext=(p=f==null?void 0:f.syncWithContext)!==null&&p!==void 0?p:!1,l instanceof Oi&&this.subscribeToContextEvents(l),Object.defineProperty(this.options,"address",{set:We=>this._parseAndSetAddress(We,ve),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:We=>this._parseAndSetJsonInterface(We,ve),get:()=>this._jsonInterface}),l instanceof Oi&&l.on(Ea.CONFIG_CHANGE,We=>{this.setConfig({[We.name]:We.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new tu([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new tu([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new Bx(this,e)}getPastEvents(e,n,r){return eu(this,void 0,void 0,function*(){var s;const i=typeof e=="string"?e:dl,a=typeof e!="string"&&!co(e)?e:co(n)?{}:n,c=co(e)?e:co(n)?n:r??this.defaultReturnFormat,p=i==="allEvents"||i===dl?m0:this._jsonInterface.find(Ue=>"name"in Ue&&Ue.name===i);if(!p)throw new ss(`Event ${String(i)} not found.`);const{fromBlock:f,toBlock:l,topics:b,address:ve}=Lv(this.options,p,a??{}),ye=yield Iv(this,{fromBlock:f,toBlock:l,topics:b,address:ve},c),We=ye?ye.map(Ue=>typeof Ue=="string"?Ue:F0(p,Ue,this._jsonInterface,c)):[],we=(s=a==null?void 0:a.filter)!==null&&s!==void 0?s:{},Ne=Object.keys(we);return Ne.length>0?We.filter(Ue=>typeof Ue=="string"?!0:Ne.every(ft=>{var yt;if(Array.isArray(we[ft]))return we[ft].some(Ct=>String(Ue.returnValues[ft]).toUpperCase()===String(Ct).toUpperCase());const Qt=(yt=p.inputs)===null||yt===void 0?void 0:yt.filter(Ct=>Ct.name===ft)[0];return Qt!=null&&Qt.indexed&&Qt.type==="string"&&rc(we[ft])===String(Ue.returnValues[ft])?!0:String(Ue.returnValues[ft]).toUpperCase()===String(we[ft]).toUpperCase()})):We})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&oo(At({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),s=this._jsonInterface.filter(i=>i.type!=="error").find(i=>n===Sd(Pa(i)));if(!s)throw new ss(`The ABI for the provided method signature ${n} was not found.`);return M0(s,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,s;this._functions={},this._methods={},this._events={};let i=[];const a=e.filter(p=>p.type!=="error"),c=e.filter(p=>Oh(p));for(const p of a){const f=Object.assign(Object.assign({},p),{signature:""});if(Bh(f)){const l=Pa(f),b=Sd(l);f.methodNameWithInputs=l,f.signature=b,f.constant=f.stateMutability==="view"||f.stateMutability==="pure"||f.constant,f.payable=f.stateMutability==="payable"||f.payable,this._overloadedMethodAbis.set(f.name,[...(r=this._overloadedMethodAbis.get(f.name))!==null&&r!==void 0?r:[],f]);const ve=(s=this._overloadedMethodAbis.get(f.name))!==null&&s!==void 0?s:[],ye=this._createContractMethod(ve,c),We=this._createContractMethod(ve,c,!0);this._functions[l]={signature:b,method:We},this._methods[f.name]=ye,this._methods[l]=We,this._methods[b]=We}else if(_0(f)){const l=Pa(f),b=T0(l),ve=this._createContractEvent(f,n);f.signature=b,(!(l in this._events)||f.name==="bound")&&(this._events[l]=ve),this._events[f.name]=ve,this._events[b]=ve}i=[...i,f]}this._events.allEvents=this._createContractEvent(m0,n),this._jsonInterface=[...i],this._errorsInterface=c}_getAbiParams(e,n){var r;try{return Fc((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(s){throw new ss(`Invalid parameters for method ${e.name}: ${s.message}`)}}_createContractMethod(e,n,r=!1){const s=e[e.length-1];return(...i)=>{var a,c,p;let f;const l=(c=r?(a=this._overloadedMethodAbis.get(s.name))===null||a===void 0?void 0:a.filter(we=>we.signature===s.signature):this._overloadedMethodAbis.get(s.name))!==null&&c!==void 0?c:[];let b=l[0];const ve=n,ye=l.filter(we=>{var Ne;return((Ne=we.inputs)!==null&&Ne!==void 0?Ne:[]).length===i.length});if(l.length===1||ye.length===0)f=this._getAbiParams(b,i),mn.validate((p=s.inputs)!==null&&p!==void 0?p:[],f);else{const we=[],Ne=[];for(const Ue of ye)try{f=this._getAbiParams(Ue,i),mn.validate(Ue.inputs,f),Ne.push(Ue)}catch(ft){we.push(ft)}if(Ne.length===1?[b]=Ne:Ne.length>1&&([b]=Ne,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${Ne.length} compatible methods: ${JSON.stringify(Ne.map(Ue=>`${Ue.methodNameWithInputs} (signature: ${Ue.signature})`))} 
	The first one will be used: ${b.methodNameWithInputs}`)),we.length===ye.length)throw new qa(we)}const We={arguments:f,call:(we,Ne)=>eu(this,void 0,void 0,function*(){return this._contractMethodCall(b,f,ve,we,Ne)}),send:we=>this._contractMethodSend(b,f,ve,we),populateTransaction:(we,Ne)=>{var Ue,ft;let yt=Ne??this.options;yt=Object.assign(Object.assign({},yt),{input:void 0,from:(ft=(Ue=yt==null?void 0:yt.from)!==null&&Ue!==void 0?Ue:this.defaultAccount)!==null&&ft!==void 0?ft:void 0});const Qt=$0({abi:s,params:i,options:Object.assign(Object.assign({},we),{dataInputFill:this.config.contractDataInputFill}),contractOptions:yt});return Qt.dataInputFill&&delete Qt.dataInputFill,Qt},estimateGas:(we,...Ne)=>eu(this,[we,...Ne],void 0,function*(Ue,ft=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:b,params:f,returnFormat:ft,options:Ue})}),encodeABI:()=>Rd(b,f),decodeData:we=>M0(b,we),createAccessList:(we,Ne)=>eu(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(b,f,ve,we,Ne)})};return b.stateMutability==="payable",We}}_contractMethodCall(e,n,r,s,i){return eu(this,void 0,void 0,function*(){var a;const c=Cx({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{const p=yield j0(this,c,i,this.defaultReturnFormat);return NA(e,p)}catch(p){throw p instanceof Nt&&jh(r,p.cause),p}})}_contractMethodCreateAccessList(e,n,r,s,i){return eu(this,void 0,void 0,function*(){var a;const c=kx({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{return Pv(this,c,i,this.defaultReturnFormat)}catch(p){throw p instanceof Nt&&jh(r,p.cause),p}})}_contractMethodSend(e,n,r,s,i){var a,c;let p=i??this.options;p=Object.assign(Object.assign({},p),{input:void 0,from:(c=(a=p.from)!==null&&a!==void 0?a:this.defaultAccount)!==null&&c!==void 0?c:void 0});const f=$0({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:p}),l=Xe(this.transactionMiddleware)?Pd(this,f,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):Pd(this,f,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return l.on("error",b=>{b instanceof Nt&&jh(r,b.cause)}),l}contractMethodEstimateGas(e){return eu(this,arguments,void 0,function*({abi:n,params:r,returnFormat:s,options:i,contractOptions:a}){const c=Nx({abi:n,params:r,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a??this.options});return G0(this,c,be.LATEST,s??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var s;const{topics:i,fromBlock:a}=Lv(this.options,e,r[0]),c=new Fv({address:this.options.address,topics:i,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return Xe(a)||this.getPastEvents(e.name,{fromBlock:a,topics:i},n).then(p=>{p&&p.forEach(f=>c.emit("data",f))}).catch(p=>{c.emit("error",new dt("Failed to get past events.",p))}),(s=this.subscriptionManager)===null||s===void 0||s.addSubscription(c).catch(p=>{c.emit("error",new dt("Failed to subscribe.",p))}),c}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(Ea.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}var Fx=tu;const Qv={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},ml={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash",text:"text",name:"name"},$h={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},Ux={"0x1":"main","0x5":"goerli"},Hx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],jx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var Gx=D(26495);const Wx=t=>(0,Gx.Q6)(t),sa=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=Wx(t).split(".");for(let s=r.length-1;s>=0;s-=1){const i=Ai(r[s]).slice(2);e=Ai(`0x${e}${i}`).slice(2)}}return`0x${e}`};var Qh=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Vx{constructor(e,n){this.contract=new tu(Hx,n??$h.main,e),this.context=e}getOwner(e){return Qh(this,void 0,void 0,function*(){try{return this.contract.methods.owner(sa(e)).call()}catch{throw new Error}})}getTTL(e){return Qh(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(sa(e)).call()}catch{throw new Error}})}recordExists(e){return Qh(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(sa(e)).call()}catch{throw new Error}})}getResolver(e){return Qh(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(sa(e)).call().then(n=>{if(typeof n=="string")return new tu(jx,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var Ra=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class zx{constructor(e){this.registry=e}getResolverContractAdapter(e){return Ra(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,s;return Ra(this,void 0,void 0,function*(){if(kn(Qv[n]))throw new H((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(Qv[n]).call()))throw new H((s=e.options.address)!==null&&s!==void 0?s:"",n)})}supportsInterface(e,n){var r;return Ra(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);let i=n;if(!Ar(i)){if(i=(r=sc(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");i=i.slice(0,10)}return s.methods.supportsInterface(i).call()})}getAddress(e,n=60){return Ra(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,ml.addr),r.methods.addr(sa(e),n).call()})}getPubkey(e){return Ra(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,ml.pubkey),n.methods.pubkey(sa(e)).call()})}getContenthash(e){return Ra(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,ml.contenthash),n.methods.contenthash(sa(e)).call()})}setAddress(e,n,r){return Ra(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(s,ml.setAddr),s.methods.setAddr(sa(e),n).send(r)})}getText(e,n){return Ra(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,ml.text),r.methods.text(sa(e),n).call()})}getName(e,n=!0){return Ra(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,s=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(s,ml.name)),s.methods.name(sa(r)).call()})}}var mo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Zv extends Oi{constructor(e,n){super(n??""),this.registryAddress=e??$h.main,this._registry=new Vx(this.getContextObject(),e),this._resolver=new zx(this._registry)}getResolver(e){return mo(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return mo(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return mo(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return mo(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return mo(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return mo(this,void 0,void 0,function*(){return Ni(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return mo(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return mo(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return mo(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return mo(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const s=yield GA(this);if(!(typeof s=="boolean"&&!s))throw new Xn;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield h0(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:Te.HEX})),r=$h[Ux[n]];if(typeof r>"u")throw new An(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return mo(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return mo(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}var Ca=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const Kx=t=>Ca(void 0,void 0,void 0,function*(){return(yield sE(t)).map(oo)}),$x=(t,e)=>Ca(void 0,void 0,void 0,function*(){mn.validate(["string"],[e]);const n=yield iE(t,e);return oo(n)}),Qx=(t,e,n,r)=>Ca(void 0,void 0,void 0,function*(){return mn.validate(["address","string","uint"],[e,n,r]),oE(t,e,n,r)}),Zx=(t,e)=>Ca(void 0,void 0,void 0,function*(){return mn.validate(["address"],[e]),aE(t,e)}),qx=(t,e,n)=>Ca(void 0,void 0,void 0,function*(){return mn.validate(["string","string"],[e,n]),cE(t,e,n)}),Jx=(t,e,n,r)=>Ca(void 0,void 0,void 0,function*(){const s=Bi(e,L,{transactionSchema:r==null?void 0:r.customTransactionSchema});return uE(t,s,n)}),Xx=(t,e,n,r)=>Ca(void 0,void 0,void 0,function*(){const s=Bi(e,L,{transactionSchema:r==null?void 0:r.customTransactionSchema});return lE(t,s,n)}),Yx=(t,e,n,r)=>Ca(void 0,void 0,void 0,function*(){mn.validate(["string","address","string"],[e,n,r]);const s=Ar(e)?e:fi(e);return dE(t,s,n,r)}),e1=(t,e,n)=>Ca(void 0,void 0,void 0,function*(){mn.validate(["string","string"],[e,n]);const r=Ar(e)?e:fi(e);return fE(t,r,n)});var Na=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class qv extends Oi{getAccounts(){return Na(this,void 0,void 0,function*(){return Kx(this.requestManager)})}newAccount(e){return Na(this,void 0,void 0,function*(){return $x(this.requestManager,e)})}unlockAccount(e,n,r){return Na(this,void 0,void 0,function*(){return Qx(this.requestManager,e,n,r)})}lockAccount(e){return Na(this,void 0,void 0,function*(){return Zx(this.requestManager,e)})}importRawKey(e,n){return Na(this,void 0,void 0,function*(){return qx(this.requestManager,e,n)})}sendTransaction(e,n){return Na(this,void 0,void 0,function*(){return Jx(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Na(this,void 0,void 0,function*(){return Xx(this.requestManager,e,n,this.config)})}sign(e,n,r){return Na(this,void 0,void 0,function*(){return Yx(this.requestManager,e,n,r)})}ecRecover(e,n){return Na(this,void 0,void 0,function*(){return e1(this.requestManager,e,n)})}}var OT=null,ia;(function(t){t.HTTPS="https",t.WebSocket="wss"})(ia||(ia={}));var rn;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(rn||(rn={}));const t1=1300;class n1 extends yn{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=t1}}const r1=1301;class Jv extends yn{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=r1}}var s1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};class Xv extends pd{constructor(e,n,r,s,i){if(super(),i!==void 0&&n===ia.HTTPS&&!("providerOptions"in i))throw new Jv("HTTP Provider");if(i!==void 0&&n===ia.WebSocket&&!("socketOptions"in i||"reconnectOptions"in i))throw new Jv("Websocket Provider");this.transport=n,n===ia.HTTPS?this.provider=new Qu(this.getRPCURL(e,n,r,s),i):n===ia.WebSocket&&(this.provider=new ch(this.getRPCURL(e,n,r,s),i==null?void 0:i.socketOptions,i==null?void 0:i.reconnectOptions))}request(e,n){return s1(this,void 0,void 0,function*(){return this.transport===ia.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var i1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const $s=t=>t!==void 0&&t.trim().length>0;class o1 extends Xv{constructor(e=rn.ETH_MAINNET,n=ia.HTTPS,r="",s="",i){super(e,n,r,s,i)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return i1(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(s){throw s instanceof Zi&&s.statusCode===429?new n1(s):s}})}getRPCURL(e,n,r,s){let i="",a="";switch(e){case rn.ETH_MAINNET:i=$s(s)?s:"powerful-holy-bush.quiknode.pro",a=$s(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case rn.ETH_SEPOLIA:i=$s(s)?s:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",a=$s(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case rn.ETH_HOLESKY:i=$s(s)?s:"yolo-morning-card.ethereum-holesky.quiknode.pro",a=$s(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case rn.ARBITRUM_MAINNET:i=$s(s)?s:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",a=$s(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case rn.ARBITRUM_SEPOLIA:i=$s(s)?s:"few-patient-pond.arbitrum-sepolia.quiknode.pro",a=$s(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case rn.BNB_MAINNET:i=$s(s)?s:"purple-empty-reel.bsc.quiknode.pro",a=$s(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case rn.BNB_TESTNET:i=$s(s)?s:"floral-rough-scion.bsc-testnet.quiknode.pro",a=$s(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case rn.POLYGON_MAINNET:i=$s(s)?s:"small-chaotic-moon.matic.quiknode.pro",a=$s(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case rn.POLYGON_AMOY:i=$s(s)?s:"prettiest-side-shape.matic-amoy.quiknode.pro",a=$s(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${i}/${a}`}}const a1=t=>t!==void 0&&t.trim().length>0,c1=[rn.DYMENSION_MAINNET,rn.DYMENSION_TESTNET,rn.KAVA_MAINNET,rn.CRONOS_MAINNET,rn.POLYGON_MAINNET];class Zh extends Xv{constructor(e=rn.ETH_MAINNET,n=ia.HTTPS,r="",s){super(e,n,"",r,s)}getRPCURL(e,n,r,s){if(!Zh.networkHostMap[e])throw new Error("Network info not avalible.");const i=`${Zh.networkHostMap[e]}.publicnode.com`,a=a1(s)?s:i;return c1.includes(e)&&n===ia.WebSocket?`${n}://${a}/websocket`:`${n}://${a}`}}Zh.networkHostMap={[rn.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[rn.DYMENSION_MAINNET]:"dymension-evm-rpc",[rn.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[rn.BLAST_MAINNET]:"blast-rpc",[rn.GNOSIS_MAINNET]:"gnosis-rpc",[rn.PULSECHAIN_MAINNET]:"pulsechain-rpc",[rn.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[rn.KAVA_MAINNET]:"kava-evm-rpc",[rn.CRONOS_MAINNET]:"cronos-evm-rpc",[rn.MANTLE_MAINNET]:"mantle-rpc",[rn.TAIKO_MAINNET]:"taiko-rpc",[rn.TAIKO_HEKLA]:"taiko-hekla-rpc",[rn.LINEA_MAINNET]:"linea-rpc",[rn.LINEA_SEPOLIA]:"linea-sepolia-rpc",[rn.SCROLL_MAINNET]:"scroll-rpc",[rn.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[rn.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[rn.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[rn.HAQQ_MAINNET]:"haqq-evm-rpc",[rn.EVMOS_MAINNET]:"evmos-evm-rpc",[rn.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[rn.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[rn.ETH_MAINNET]:"ethereum-rpc",[rn.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[rn.ETH_HOLESKY]:"ethereum-holesky-rpc",[rn.BSC_MAINNET]:"bsc-rpc",[rn.BSC_TESTNET]:"bsc-testnet-rpc",[rn.POLYGON_MAINNET]:"polygon-bor-rpc",[rn.BASE_MAINNET]:"base-rpc",[rn.BASE_SEPOLIA]:"base-sepolia-rpc",[rn.ARBITRUM_ONE]:"arbitrum-one-rpc",[rn.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[rn.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[rn.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[rn.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[rn.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[rn.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[rn.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[rn.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[rn.OPTIMISM_MAINNET]:"optimism-rpc",[rn.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[rn.FANTOM_MAINNET]:"fantom-rpc",[rn.FANTOM_TESTNET]:"fantom-testnet-rpc",[rn.OPBNB_MAINNET]:"opbnb-rpc",[rn.OPBNB_TESTNET]:"opbnb-testnet-rpc",[rn.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[rn.CHILIZ_MAINNET]:"chiliz-rpc",[rn.CHILIZ_SPICY]:"chiliz-spicy-rpc",[rn.MOONBEAM_MAINNET]:"moonbeam-rpc",[rn.BAHAMUT_MAINNET]:"bahamut-rpc",[rn.TRON_MAINNET]:"tron-evm-rpc",[rn.MOONRIVER_MAINNET]:"moonriver-rpc"};const u1=new o1;var l1={encodeEventSignature:T0,encodeFunctionCall:CA,encodeFunctionSignature:Sd,encodeParameter:B0,encodeParameters:Hh,decodeParameter:gv,decodeParameters:Xc,decodeLog:yv},Cd=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})};const d1=t=>{const e=(a,c)=>Cd(void 0,void 0,void 0,function*(){const p=yield Tx(a,t),f=At({format:"bytes"},c,L);return e_(p,f)}),n=a=>{const c=a0(a);return Object.assign(Object.assign({},c),{signTransaction:p=>Cd(void 0,void 0,void 0,function*(){return e(p,c.privateKey)})})},r=(a,c,p)=>Cd(void 0,void 0,void 0,function*(){var f;const l=yield s_(a,c,(f=p==null?void 0:p.nonStrict)!==null&&f!==void 0?f:!0);return Object.assign(Object.assign({},l),{signTransaction:b=>Cd(void 0,void 0,void 0,function*(){return e(b,l.privateKey)})})}),s=()=>{const a=r_();return Object.assign(Object.assign({},a),{signTransaction:c=>Cd(void 0,void 0,void 0,function*(){return e(c,a.privateKey)})})},i=new ne({create:s,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:s,privateKeyToAccount:n,decrypt:r,recoverTransaction:t_,hashMessage:Ih,sign:Ey,recover:o0,encrypt:Ay,wallet:i,privateKeyToAddress:Sh,parseAndValidatePrivateKey:cl,privateKeyToPublicKey:n_}},f1={version:"4.16.0"};var h1=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(l){try{f(r.next(l))}catch(b){a(b)}}function p(l){try{f(r.throw(l))}catch(b){a(b)}}function f(l){l.done?i(l.value):s(l.value).then(c,p)}f((r=r.apply(t,e||[])).next())})},qh;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(qh||(qh={}));const Q0=new Map,Yv="web3:providersMapUpdated",p1=()=>h1(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(qh.eip6963announceProvider,n=>{Q0.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(Yv,{detail:Q0});window.dispatchEvent(r),t(Q0)}),window.dispatchEvent(new Event(qh.eip6963requestProvider))})}),m1=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(Yv,t)};class gl extends Oi{constructor(e=u1){var n;(kn(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!qu(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||qu(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},W0),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const s=d1(this);this._wallet=s.wallet,this._accountProvider=s,this.utils=le;const i=this;class a extends Fx{constructor(f,l,b,ve,ye){if(qo(l)&&qo(b))throw new g("Should not provide options at both 2nd and 3rd parameters");let We,we={},Ne,Ue;if(!kn(l)&&typeof l!="object"&&typeof l!="string")throw new g;if(typeof l=="string"&&(We=l),qo(l)?we=l:qo(b)?we=b:we={},l instanceof Oi?Ne=l:b instanceof Oi?Ne=b:ve instanceof Oi?Ne=ve:Ne=i.getContextObject(),ye?Ue=ye:co(b)?Ue=b:co(ve)&&(Ue=ve),super(f,We,we,Ne,Ue),super.subscribeToContextEvents(i),!kn(c)){const ft=c.getTransactionMiddleware();kn(ft)||super.setTransactionMiddleware(ft)}}}const c=i.use(Wh);this.eth=Object.assign(c,{ens:i.use(Zv,$h.main),Iban:ks,net:i.use(Uy),personal:i.use(qv),Contract:a,abi:l1,accounts:s})}}gl.version=f1.version,gl.utils=le,gl.requestEIP6963Providers=p1,gl.onNewProviderDiscovered=m1,gl.modules={Web3Eth:Wh,Iban:ks,Net:Uy,ENS:Zv,Personal:qv};var g1=gl,BT=null}}]);
}());