(self.webpackChunk_ant_design_web3_docs=self.webpackChunk_ant_design_web3_docs||[]).push([[2811],{72165:function(V,f,s){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isBrowserCryptoAvailable=f.getSubtleCrypto=f.getBrowerCrypto=void 0;function i(){return(s.g===null||s.g===void 0?void 0:s.g.crypto)||(s.g===null||s.g===void 0?void 0:s.g.msCrypto)||{}}f.getBrowerCrypto=i;function O(){const A=i();return A.subtle||A.webkitSubtle}f.getSubtleCrypto=O;function l(){return!!i()&&!!O()}f.isBrowserCryptoAvailable=l},73027:function(V,f,s){"use strict";var i=s(14224);Object.defineProperty(f,"__esModule",{value:!0}),f.isBrowser=f.isNode=f.isReactNative=void 0;function O(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}f.isReactNative=O;function l(){return typeof i<"u"&&typeof i.versions<"u"&&typeof i.versions.node<"u"}f.isNode=l;function A(){return!O()&&!l()}f.isBrowser=A},88497:function(V,f,s){"use strict";Object.defineProperty(f,"__esModule",{value:!0});const i=s(19893);i.__exportStar(s(72165),f),i.__exportStar(s(73027),f)},36900:function(V,f,s){"use strict";s.d(f,{q:function(){return i}});class i{}},19994:function(V,f,s){"use strict";s.d(f,{C$:function(){return h},Lx:function(){return N}});var i=s(72100),O=s.n(i),l=s(46196),A=s.n(l),E=s(36900);class u extends E.q{constructor(b){super()}}const I=l.FIVE_SECONDS,N={pulse:"heartbeat_pulse"};class h extends u{constructor(b){super(b),this.events=new i.EventEmitter,this.interval=I,this.interval=(b==null?void 0:b.interval)||I}static async init(b){const S=new h(b);return await S.init(),S}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(b,S){this.events.on(b,S)}once(b,S){this.events.once(b,S)}off(b,S){this.events.off(b,S)}removeListener(b,S){this.events.removeListener(b,S)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,l.toMiliseconds)(this.interval))}pulse(){this.events.emit(N.pulse)}}},55437:function(V,f,s){"use strict";s.d(f,{Z:function(){return v},k:function(){return v}});var i=s(72100),O=s.n(i),l=s(84749),A=s.n(l),E=s(41926),u=s(23700),I=Object.defineProperty,N=Object.defineProperties,h=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,U=(P,m,e)=>m in P?I(P,m,{enumerable:!0,configurable:!0,writable:!0,value:e}):P[m]=e,T=(P,m)=>{for(var e in m||(m={}))b.call(m,e)&&U(P,e,m[e]);if(d)for(var e of d(m))S.call(m,e)&&U(P,e,m[e]);return P},F=(P,m)=>N(P,h(m));const H={Accept:"application/json","Content-Type":"application/json"},M="POST",L={headers:H,method:M},C=10;class v{constructor(m,e=!1){if(this.url=m,this.disableProviderPing=e,this.events=new i.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,u.isHttpUrl)(m))throw new Error(`Provided URL is not compatible with HTTP connection: ${m}`);this.url=m,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(m,e){this.events.on(m,e)}once(m,e){this.events.once(m,e)}off(m,e){this.events.off(m,e)}removeListener(m,e){this.events.removeListener(m,e)}async open(m=this.url){await this.register(m)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(m){this.isAvailable||await this.register();try{const e=(0,E.u)(m),g=await(await A()(this.url,F(T({},L),{body:e}))).json();this.onPayload({data:g})}catch(e){this.onError(m.id,e)}}async register(m=this.url){if(!(0,u.isHttpUrl)(m))throw new Error(`Provided URL is not compatible with HTTP connection: ${m}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((g,w)=>{this.events.once("register_error",D=>{this.resetMaxListeners(),w(D)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return w(new Error("HTTP connection is missing or invalid"));g()})})}this.url=m,this.registering=!0;try{if(!this.disableProviderPing){const e=(0,E.u)({id:1,jsonrpc:"2.0",method:"test",params:[]});await A()(m,F(T({},L),{body:e}))}this.onOpen()}catch(e){const g=this.parseError(e);throw this.events.emit("register_error",g),this.onClose(),g}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(m){if(typeof m.data>"u")return;const e=typeof m.data=="string"?(0,E.D)(m.data):m.data;this.events.emit("payload",e)}onError(m,e){const g=this.parseError(e),w=g.message||g.toString(),D=(0,u.formatJsonRpcError)(m,w);this.events.emit("payload",D)}parseError(m,e=this.url){return(0,u.parseConnectionError)(m,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>C&&this.events.setMaxListeners(C)}}},56390:function(V,f,s){"use strict";s.d(f,{r:function(){return A}});var i=s(72100),O=s.n(i),l=s(23700);class A extends l.IJsonRpcProvider{constructor(u){super(u),this.events=new i.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(u),this.connection.connected&&this.registerEventListeners()}async connect(u=this.connection){await this.open(u)}async disconnect(){await this.close()}on(u,I){this.events.on(u,I)}once(u,I){this.events.once(u,I)}off(u,I){this.events.off(u,I)}removeListener(u,I){this.events.removeListener(u,I)}async request(u,I){return this.requestStrict((0,l.formatJsonRpcRequest)(u.method,u.params||[],u.id||(0,l.getBigIntRpcId)().toString()),I)}async requestStrict(u,I){return new Promise(async(N,h)=>{if(!this.connection.connected)try{await this.open()}catch(d){h(d)}this.events.on(`${u.id}`,d=>{(0,l.isJsonRpcError)(d)?h(d.error):N(d.result)});try{await this.connection.send(u,I)}catch(d){h(d)}})}setConnection(u=this.connection){return u}onPayload(u){this.events.emit("payload",u),(0,l.isJsonRpcResponse)(u)?this.events.emit(`${u.id}`,u):this.events.emit("message",{type:u.method,data:u.params})}onClose(u){u&&u.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${u.code} ${u.reason?`(${u.reason})`:""}`)),this.events.emit("disconnect")}async open(u=this.connection){this.connection===u&&this.connection.connected||(this.connection.connected&&this.close(),typeof u=="string"&&(await this.connection.open(u),u=this.connection),this.connection=this.setConnection(u),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",u=>this.onPayload(u)),this.connection.on("close",u=>this.onClose(u)),this.connection.on("error",u=>this.events.emit("error",u)),this.connection.on("register_error",u=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},81005:function(V,f,s){"use strict";s.d(f,{CA:function(){return u},JV:function(){return d},O4:function(){return E},dQ:function(){return I},xK:function(){return h}});const i="PARSE_ERROR",O="INVALID_REQUEST",l="METHOD_NOT_FOUND",A="INVALID_PARAMS",E="INTERNAL_ERROR",u="SERVER_ERROR",I=[-32700,-32600,-32601,-32602,-32603],N=null,h={[i]:{code:-32700,message:"Parse error"},[O]:{code:-32600,message:"Invalid Request"},[l]:{code:-32601,message:"Method not found"},[A]:{code:-32602,message:"Invalid params"},[E]:{code:-32603,message:"Internal error"},[u]:{code:-32e3,message:"Server error"}},d=u},25749:function(V,f,s){"use strict";var i=s(88497),O=s.n(i);s.o(i,"IJsonRpcProvider")&&s.d(f,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),s.o(i,"formatJsonRpcError")&&s.d(f,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),s.o(i,"formatJsonRpcRequest")&&s.d(f,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),s.o(i,"formatJsonRpcResult")&&s.d(f,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),s.o(i,"getBigIntRpcId")&&s.d(f,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),s.o(i,"isHttpUrl")&&s.d(f,{isHttpUrl:function(){return i.isHttpUrl}}),s.o(i,"isJsonRpcError")&&s.d(f,{isJsonRpcError:function(){return i.isJsonRpcError}}),s.o(i,"isJsonRpcRequest")&&s.d(f,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),s.o(i,"isJsonRpcResponse")&&s.d(f,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),s.o(i,"isJsonRpcResult")&&s.d(f,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),s.o(i,"isLocalhostUrl")&&s.d(f,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),s.o(i,"isReactNative")&&s.d(f,{isReactNative:function(){return i.isReactNative}}),s.o(i,"isWsUrl")&&s.d(f,{isWsUrl:function(){return i.isWsUrl}}),s.o(i,"payloadId")&&s.d(f,{payloadId:function(){return i.payloadId}});const l=null},96417:function(V,f,s){"use strict";s.d(f,{CX:function(){return N},L2:function(){return u},by:function(){return E},i5:function(){return l}});var i=s(81005);function O(h){return h<=SERVER_ERROR_CODE_RANGE[0]&&h>=SERVER_ERROR_CODE_RANGE[1]}function l(h){return i.dQ.includes(h)}function A(h){return typeof h=="number"}function E(h){return Object.keys(i.xK).includes(h)?i.xK[h]:i.xK[i.JV]}function u(h){const d=Object.values(i.xK).find(b=>b.code===h);return d||i.xK[i.JV]}function I(h){if(typeof h.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof h.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!A(h.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${h.error.code}`};if(l(h.error.code)){const d=u(h.error.code);if(d.message!==STANDARD_ERROR_MAP[DEFAULT_ERROR].message&&h.error.message===d.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${h.error.code}`}}return{valid:!0}}function N(h,d,b){return h.message.includes("getaddrinfo ENOTFOUND")||h.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${b} RPC url at ${d}`):h}},14453:function(V,f,s){"use strict";s.d(f,{CS:function(){return A},RI:function(){return I},o0:function(){return l},sT:function(){return E},tm:function(){return u}});var i=s(96417),O=s(81005);function l(h=3){const d=Date.now()*Math.pow(10,h),b=Math.floor(Math.random()*Math.pow(10,h));return d+b}function A(h=6){return BigInt(l(h))}function E(h,d,b){return{id:b||l(),jsonrpc:"2.0",method:h,params:d}}function u(h,d){return{id:h,jsonrpc:"2.0",result:d}}function I(h,d,b){return{id:h,jsonrpc:"2.0",error:N(d,b)}}function N(h,d){return typeof h>"u"?(0,i.by)(O.O4):(typeof h=="string"&&(h=Object.assign(Object.assign({},(0,i.by)(O.CA)),{message:h})),typeof d<"u"&&(h.data=d),(0,i.i5)(h.code)&&(h=(0,i.L2)(h.code)),h)}},23700:function(V,f,s){"use strict";s.d(f,{IJsonRpcProvider:function(){return E.x0},formatJsonRpcError:function(){return A.RI},formatJsonRpcRequest:function(){return A.sT},formatJsonRpcResult:function(){return A.tm},getBigIntRpcId:function(){return A.CS},isHttpUrl:function(){return u.jK},isJsonRpcError:function(){return I.jg},isJsonRpcRequest:function(){return I.DW},isJsonRpcResponse:function(){return I.u},isJsonRpcResult:function(){return I.k4},isLocalhostUrl:function(){return u.JF},isWsUrl:function(){return u.UZ},parseConnectionError:function(){return O.CX},payloadId:function(){return A.o0}});var i=s(81005),O=s(96417),l=s(25749);s.o(l,"IJsonRpcProvider")&&s.d(f,{IJsonRpcProvider:function(){return l.IJsonRpcProvider}}),s.o(l,"formatJsonRpcError")&&s.d(f,{formatJsonRpcError:function(){return l.formatJsonRpcError}}),s.o(l,"formatJsonRpcRequest")&&s.d(f,{formatJsonRpcRequest:function(){return l.formatJsonRpcRequest}}),s.o(l,"formatJsonRpcResult")&&s.d(f,{formatJsonRpcResult:function(){return l.formatJsonRpcResult}}),s.o(l,"getBigIntRpcId")&&s.d(f,{getBigIntRpcId:function(){return l.getBigIntRpcId}}),s.o(l,"isHttpUrl")&&s.d(f,{isHttpUrl:function(){return l.isHttpUrl}}),s.o(l,"isJsonRpcError")&&s.d(f,{isJsonRpcError:function(){return l.isJsonRpcError}}),s.o(l,"isJsonRpcRequest")&&s.d(f,{isJsonRpcRequest:function(){return l.isJsonRpcRequest}}),s.o(l,"isJsonRpcResponse")&&s.d(f,{isJsonRpcResponse:function(){return l.isJsonRpcResponse}}),s.o(l,"isJsonRpcResult")&&s.d(f,{isJsonRpcResult:function(){return l.isJsonRpcResult}}),s.o(l,"isLocalhostUrl")&&s.d(f,{isLocalhostUrl:function(){return l.isLocalhostUrl}}),s.o(l,"isReactNative")&&s.d(f,{isReactNative:function(){return l.isReactNative}}),s.o(l,"isWsUrl")&&s.d(f,{isWsUrl:function(){return l.isWsUrl}}),s.o(l,"payloadId")&&s.d(f,{payloadId:function(){return l.payloadId}});var A=s(14453),E=s(13695),u=s(26496),I=s(95638)},13695:function(V,f,s){"use strict";s.d(f,{x0:function(){return A}});class i{}class O extends null{constructor(u){super()}}class l extends i{constructor(){super()}}class A extends l{constructor(u){super()}}},26496:function(V,f,s){"use strict";s.d(f,{JF:function(){return I},UZ:function(){return u},jK:function(){return E}});const i="^https?:",O="^wss?:";function l(N){const h=N.match(new RegExp(/^\w+:/,"gi"));if(!(!h||!h.length))return h[0]}function A(N,h){const d=l(N);return typeof d>"u"?!1:new RegExp(h).test(d)}function E(N){return A(N,i)}function u(N){return A(N,O)}function I(N){return new RegExp("wss?://localhost(:d{2,5})?").test(N)}},95638:function(V,f,s){"use strict";s.d(f,{DW:function(){return O},jg:function(){return E},k4:function(){return A},u:function(){return l}});function i(I){return typeof I=="object"&&"id"in I&&"jsonrpc"in I&&I.jsonrpc==="2.0"}function O(I){return i(I)&&"method"in I}function l(I){return i(I)&&(A(I)||E(I))}function A(I){return"result"in I}function E(I){return"error"in I}function u(I){return"error"in I&&I.valid===!1}},56526:function(V,f,s){"use strict";s.d(f,{Ep:function(){return D},Fd:function(){return g},Rt:function(){return r},gw:function(){return O.a},jI:function(){return P}});var i=s(86984),O=s.n(i),l=s(41926);const A={level:"info"},E="custom_context",u=1e3*1024;class I{constructor(n){this.nodeValue=n,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class N{constructor(n){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=n,this.sizeInBytes=0}append(n){const t=new I(n);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${n} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const n=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=n.size}toArray(){const n=[];let t=this.head;for(;t!==null;)n.push(t.value),t=t.next;return n}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let n=this.head;return{next:()=>{if(!n)return{done:!0,value:null};const t=n.value;return n=n.next,{done:!1,value:t}}}}}class h{constructor(n,t=u){this.level=n??"error",this.levelValue=i.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new N(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(n,t){t===i.levels.values.error?console.error(n):t===i.levels.values.warn?console.warn(n):t===i.levels.values.debug?console.debug(n):t===i.levels.values.trace?console.trace(n):console.log(n)}appendToLogs(n){this.logs.append((0,l.u)({timestamp:new Date().toISOString(),log:n}));const t=typeof n=="string"?JSON.parse(n).level:n.level;t>=this.levelValue&&this.forwardToConsole(n,t)}getLogs(){return this.logs}clearLogs(){this.logs=new N(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(n){const t=this.getLogArray();return t.push((0,l.u)({extraMetadata:n})),new Blob(t,{type:"application/json"})}}class d{constructor(n,t=u){this.baseChunkLogger=new h(n,t)}write(n){this.baseChunkLogger.appendToLogs(n)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(n){return this.baseChunkLogger.logsToBlob(n)}downloadLogsBlobInBrowser(n){const t=URL.createObjectURL(this.logsToBlob(n)),a=document.createElement("a");a.href=t,a.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}}class b{constructor(n,t=u){this.baseChunkLogger=new h(n,t)}write(n){this.baseChunkLogger.appendToLogs(n)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(n){return this.baseChunkLogger.logsToBlob(n)}}var S=Object.defineProperty,U=Object.defineProperties,T=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,L=(o,n,t)=>n in o?S(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t,C=(o,n)=>{for(var t in n||(n={}))H.call(n,t)&&L(o,t,n[t]);if(F)for(var t of F(n))M.call(n,t)&&L(o,t,n[t]);return o},v=(o,n)=>U(o,T(n));function P(o){return v(C({},o),{level:(o==null?void 0:o.level)||A.level})}function m(o,n=E){return o[n]||""}function e(o,n,t=E){return o[t]=n,o}function g(o,n=E){let t="";return typeof o.bindings>"u"?t=m(o,n):t=o.bindings().context||"",t}function w(o,n,t=E){const a=g(o,t);return a.trim()?`${a}/${n}`:n}function D(o,n,t=E){const a=w(o,n,t),R=o.child({context:a});return e(R,a,t)}function j(o){var n,t;const a=new d((n=o.opts)==null?void 0:n.level,o.maxSizeInBytes);return{logger:O()(v(C({},o.opts),{level:"trace",browser:v(C({},(t=o.opts)==null?void 0:t.browser),{write:R=>a.write(R)})})),chunkLoggerController:a}}function z(o){var n;const t=new b((n=o.opts)==null?void 0:n.level,o.maxSizeInBytes);return{logger:O()(v(C({},o.opts),{level:"trace"}),t),chunkLoggerController:t}}function r(o){return typeof o.loggerOverride<"u"&&typeof o.loggerOverride!="string"?{logger:o.loggerOverride,chunkLoggerController:null}:typeof window<"u"?j(o):z(o)}},84749:function(V,f){var s=typeof self<"u"?self:this,i=function(){function l(){this.fetch=!1,this.DOMException=s.DOMException}return l.prototype=s,new l}();(function(l){var A=function(E){var u={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function I(r){return r&&DataView.prototype.isPrototypeOf(r)}if(u.arrayBuffer)var N=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(r){return r&&N.indexOf(Object.prototype.toString.call(r))>-1};function d(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(r))throw new TypeError("Invalid character in header field name");return r.toLowerCase()}function b(r){return typeof r!="string"&&(r=String(r)),r}function S(r){var o={next:function(){var n=r.shift();return{done:n===void 0,value:n}}};return u.iterable&&(o[Symbol.iterator]=function(){return o}),o}function U(r){this.map={},r instanceof U?r.forEach(function(o,n){this.append(n,o)},this):Array.isArray(r)?r.forEach(function(o){this.append(o[0],o[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(o){this.append(o,r[o])},this)}U.prototype.append=function(r,o){r=d(r),o=b(o);var n=this.map[r];this.map[r]=n?n+", "+o:o},U.prototype.delete=function(r){delete this.map[d(r)]},U.prototype.get=function(r){return r=d(r),this.has(r)?this.map[r]:null},U.prototype.has=function(r){return this.map.hasOwnProperty(d(r))},U.prototype.set=function(r,o){this.map[d(r)]=b(o)},U.prototype.forEach=function(r,o){for(var n in this.map)this.map.hasOwnProperty(n)&&r.call(o,this.map[n],n,this)},U.prototype.keys=function(){var r=[];return this.forEach(function(o,n){r.push(n)}),S(r)},U.prototype.values=function(){var r=[];return this.forEach(function(o){r.push(o)}),S(r)},U.prototype.entries=function(){var r=[];return this.forEach(function(o,n){r.push([n,o])}),S(r)},u.iterable&&(U.prototype[Symbol.iterator]=U.prototype.entries);function T(r){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}function F(r){return new Promise(function(o,n){r.onload=function(){o(r.result)},r.onerror=function(){n(r.error)}})}function H(r){var o=new FileReader,n=F(o);return o.readAsArrayBuffer(r),n}function M(r){var o=new FileReader,n=F(o);return o.readAsText(r),n}function L(r){for(var o=new Uint8Array(r),n=new Array(o.length),t=0;t<o.length;t++)n[t]=String.fromCharCode(o[t]);return n.join("")}function C(r){if(r.slice)return r.slice(0);var o=new Uint8Array(r.byteLength);return o.set(new Uint8Array(r)),o.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(r){this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:u.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:u.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():u.arrayBuffer&&u.blob&&I(r)?(this._bodyArrayBuffer=C(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||h(r))?this._bodyArrayBuffer=C(r):this._bodyText=r=Object.prototype.toString.call(r):this._bodyText="",this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var r=T(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(H)}),this.text=function(){var r=T(this);if(r)return r;if(this._bodyBlob)return M(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(r){var o=r.toUpperCase();return P.indexOf(o)>-1?o:r}function e(r,o){o=o||{};var n=o.body;if(r instanceof e){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,o.headers||(this.headers=new U(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!n&&r._bodyInit!=null&&(n=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=o.credentials||this.credentials||"same-origin",(o.headers||!this.headers)&&(this.headers=new U(o.headers)),this.method=m(o.method||this.method||"GET"),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}e.prototype.clone=function(){return new e(this,{body:this._bodyInit})};function g(r){var o=new FormData;return r.trim().split("&").forEach(function(n){if(n){var t=n.split("="),a=t.shift().replace(/\+/g," "),R=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(a),decodeURIComponent(R))}}),o}function w(r){var o=new U,n=r.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(t){var a=t.split(":"),R=a.shift().trim();if(R){var W=a.join(":").trim();o.append(R,W)}}),o}v.call(e.prototype);function D(r,o){o||(o={}),this.type="default",this.status=o.status===void 0?200:o.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in o?o.statusText:"OK",this.headers=new U(o.headers),this.url=o.url||"",this._initBody(r)}v.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new U(this.headers),url:this.url})},D.error=function(){var r=new D(null,{status:0,statusText:""});return r.type="error",r};var j=[301,302,303,307,308];D.redirect=function(r,o){if(j.indexOf(o)===-1)throw new RangeError("Invalid status code");return new D(null,{status:o,headers:{location:r}})},E.DOMException=l.DOMException;try{new E.DOMException}catch{E.DOMException=function(o,n){this.message=o,this.name=n;var t=Error(o);this.stack=t.stack},E.DOMException.prototype=Object.create(Error.prototype),E.DOMException.prototype.constructor=E.DOMException}function z(r,o){return new Promise(function(n,t){var a=new e(r,o);if(a.signal&&a.signal.aborted)return t(new E.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function W(){R.abort()}R.onload=function(){var $={status:R.status,statusText:R.statusText,headers:w(R.getAllResponseHeaders()||"")};$.url="responseURL"in R?R.responseURL:$.headers.get("X-Request-URL");var x="response"in R?R.response:R.responseText;n(new D(x,$))},R.onerror=function(){t(new TypeError("Network request failed"))},R.ontimeout=function(){t(new TypeError("Network request failed"))},R.onabort=function(){t(new E.DOMException("Aborted","AbortError"))},R.open(a.method,a.url,!0),a.credentials==="include"?R.withCredentials=!0:a.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&u.blob&&(R.responseType="blob"),a.headers.forEach(function($,x){R.setRequestHeader(x,$)}),a.signal&&(a.signal.addEventListener("abort",W),R.onreadystatechange=function(){R.readyState===4&&a.signal.removeEventListener("abort",W)}),R.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}return z.polyfill=!0,l.fetch||(l.fetch=z,l.Headers=U,l.Request=e,l.Response=D),E.Headers=U,E.Request=e,E.Response=D,E.fetch=z,Object.defineProperty(E,"__esModule",{value:!0}),E}({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var O=i;f=O.fetch,f.default=O.fetch,f.fetch=O.fetch,f.Headers=O.Headers,f.Request=O.Request,f.Response=O.Response,V.exports=f},81365:function(V,f,s){"use strict";s.d(f,{qY:function(){return U}});var i=s(14224),O=function(v,P,m){if(m||arguments.length===2)for(var e=0,g=P.length,w;e<g;e++)(w||!(e in P))&&(w||(w=Array.prototype.slice.call(P,0,e)),w[e]=P[e]);return v.concat(w||Array.prototype.slice.call(P))},l=function(){function v(P,m,e){this.name=P,this.version=m,this.os=e,this.type="browser"}return v}(),A=function(){function v(P){this.version=P,this.type="node",this.name="node",this.os=i.platform}return v}(),E=function(){function v(P,m,e,g){this.name=P,this.version=m,this.os=e,this.bot=g,this.type="bot-device"}return v}(),u=function(){function v(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return v}(),I=function(){function v(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return v}(),N=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,h=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=3,b=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",N]],S=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function U(v){return v?H(v):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new I:typeof navigator<"u"?H(navigator.userAgent):L()}function T(v){return v!==""&&b.reduce(function(P,m){var e=m[0],g=m[1];if(P)return P;var w=g.exec(v);return!!w&&[e,w]},!1)}function F(v){var P=T(v);return P?P[0]:null}function H(v){var P=T(v);if(!P)return null;var m=P[0],e=P[1];if(m==="searchbot")return new u;var g=e[1]&&e[1].split(".").join("_").split("_").slice(0,3);g?g.length<d&&(g=O(O([],g,!0),C(d-g.length),!0)):g=[];var w=g.join("."),D=M(v),j=h.exec(v);return j&&j[1]?new E(m,w,D,j[1]):new l(m,w,D)}function M(v){for(var P=0,m=S.length;P<m;P++){var e=S[P],g=e[0],w=e[1],D=w.exec(v);if(D)return g}return null}function L(){var v=typeof i<"u"&&i.version;return v?new A(i.version.slice(1)):null}function C(v){for(var P=[],m=0;m<v;m++)P.push("0");return P}},57828:function(V){"use strict";function f(i){try{return JSON.stringify(i)}catch{return'"[Circular]"'}}V.exports=s;function s(i,O,l){var A=l&&l.stringify||f,E=1;if(typeof i=="object"&&i!==null){var u=O.length+E;if(u===1)return i;var I=new Array(u);I[0]=A(i);for(var N=1;N<u;N++)I[N]=A(O[N]);return I.join(" ")}if(typeof i!="string")return i;var h=O.length;if(h===0)return i;for(var d="",b=1-E,S=-1,U=i&&i.length||0,T=0;T<U;){if(i.charCodeAt(T)===37&&T+1<U){switch(S=S>-1?S:0,i.charCodeAt(T+1)){case 100:case 102:if(b>=h||O[b]==null)break;S<T&&(d+=i.slice(S,T)),d+=Number(O[b]),S=T+2,T++;break;case 105:if(b>=h||O[b]==null)break;S<T&&(d+=i.slice(S,T)),d+=Math.floor(Number(O[b])),S=T+2,T++;break;case 79:case 111:case 106:if(b>=h||O[b]===void 0)break;S<T&&(d+=i.slice(S,T));var F=typeof O[b];if(F==="string"){d+="'"+O[b]+"'",S=T+2,T++;break}if(F==="function"){d+=O[b].name||"<anonymous>",S=T+2,T++;break}d+=A(O[b]),S=T+2,T++;break;case 115:if(b>=h)break;S<T&&(d+=i.slice(S,T)),d+=String(O[b]),S=T+2,T++;break;case 37:S<T&&(d+=i.slice(S,T)),d+="%",S=T+2,T++,b--;break}++b}++T}return S===-1?i:(S<U&&(d+=i.slice(S)),d)}},75e3:function(V){"use strict";V.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},86984:function(V,f,s){"use strict";const i=s(57828);V.exports=E;const O=m().console||{},l={mapHttpRequest:F,mapHttpResponse:F,wrapRequestSerializer:H,wrapResponseSerializer:H,wrapErrorSerializer:H,req:F,res:F,err:U};function A(e,g){return Array.isArray(e)?e.filter(function(D){return D!=="!stdSerializers.err"}):e===!0?Object.keys(g):!1}function E(e){e=e||{},e.browser=e.browser||{};const g=e.browser.transmit;if(g&&typeof g.send!="function")throw Error("pino: transmit option must have a send function");const w=e.browser.write||O;e.browser.write&&(e.browser.asObject=!0);const D=e.serializers||{},j=A(e.browser.serialize,D);let z=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(z=!1);const r=["error","fatal","warn","info","debug","trace"];typeof w=="function"&&(w.error=w.fatal=w.warn=w.info=w.debug=w.trace=w),e.enabled===!1&&(e.level="silent");const o=e.level||"info",n=Object.create(w);n.log||(n.log=M),Object.defineProperty(n,"levelVal",{get:a}),Object.defineProperty(n,"level",{get:R,set:W});const t={transmit:g,serialize:j,asObject:e.browser.asObject,levels:r,timestamp:T(e)};n.levels=E.levels,n.level=o,n.setMaxListeners=n.getMaxListeners=n.emit=n.addListener=n.on=n.prependListener=n.once=n.prependOnceListener=n.removeListener=n.removeAllListeners=n.listeners=n.listenerCount=n.eventNames=n.write=n.flush=M,n.serializers=D,n._serialize=j,n._stdErrSerialize=z,n.child=$,g&&(n._logEvent=S());function a(){return this.level==="silent"?1/0:this.levels.values[this.level]}function R(){return this._level}function W(x){if(x!=="silent"&&!this.levels.values[x])throw Error("unknown level "+x);this._level=x,u(t,n,"error","log"),u(t,n,"fatal","error"),u(t,n,"warn","error"),u(t,n,"info","log"),u(t,n,"debug","log"),u(t,n,"trace","log")}function $(x,X){if(!x)throw new Error("missing bindings for child Pino");X=X||{},j&&x.serializers&&(X.serializers=x.serializers);const Z=X.serializers;if(j&&Z){var Y=Object.assign({},D,Z),c=e.browser.serialize===!0?Object.keys(Y):j;delete x.serializers,h([x],c,Y,this._stdErrSerialize)}function y(p){this._childLevel=(p._childLevel|0)+1,this.error=d(p,x,"error"),this.fatal=d(p,x,"fatal"),this.warn=d(p,x,"warn"),this.info=d(p,x,"info"),this.debug=d(p,x,"debug"),this.trace=d(p,x,"trace"),Y&&(this.serializers=Y,this._serialize=c),g&&(this._logEvent=S([].concat(p._logEvent.bindings,x)))}return y.prototype=this,new y(this)}return n}E.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},E.stdSerializers=l,E.stdTimeFunctions=Object.assign({},{nullTime:L,epochTime:C,unixTime:v,isoTime:P});function u(e,g,w,D){const j=Object.getPrototypeOf(g);g[w]=g.levelVal>g.levels.values[w]?M:j[w]?j[w]:O[w]||O[D]||M,I(e,g,w)}function I(e,g,w){!e.transmit&&g[w]===M||(g[w]=function(D){return function(){const z=e.timestamp(),r=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===O?O:this;for(var n=0;n<r.length;n++)r[n]=arguments[n];if(e.serialize&&!e.asObject&&h(r,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?D.call(o,N(this,w,r,z)):D.apply(o,r),e.transmit){const t=e.transmit.level||g.level,a=E.levels.values[t],R=E.levels.values[w];if(R<a)return;b(this,{ts:z,methodLevel:w,methodValue:R,transmitLevel:t,transmitValue:E.levels.values[e.transmit.level||g.level],send:e.transmit.send,val:g.levelVal},r)}}}(g[w]))}function N(e,g,w,D){e._serialize&&h(w,e._serialize,e.serializers,e._stdErrSerialize);const j=w.slice();let z=j[0];const r={};D&&(r.time=D),r.level=E.levels.values[g];let o=(e._childLevel|0)+1;if(o<1&&(o=1),z!==null&&typeof z=="object"){for(;o--&&typeof j[0]=="object";)Object.assign(r,j.shift());z=j.length?i(j.shift(),j):void 0}else typeof z=="string"&&(z=i(j.shift(),j));return z!==void 0&&(r.msg=z),r}function h(e,g,w,D){for(const j in e)if(D&&e[j]instanceof Error)e[j]=E.stdSerializers.err(e[j]);else if(typeof e[j]=="object"&&!Array.isArray(e[j]))for(const z in e[j])g&&g.indexOf(z)>-1&&z in w&&(e[j][z]=w[z](e[j][z]))}function d(e,g,w){return function(){const D=new Array(1+arguments.length);D[0]=g;for(var j=1;j<D.length;j++)D[j]=arguments[j-1];return e[w].apply(this,D)}}function b(e,g,w){const D=g.send,j=g.ts,z=g.methodLevel,r=g.methodValue,o=g.val,n=e._logEvent.bindings;h(w,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=j,e._logEvent.messages=w.filter(function(t){return n.indexOf(t)===-1}),e._logEvent.level.label=z,e._logEvent.level.value=r,D(z,e._logEvent,o),e._logEvent=S(n)}function S(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function U(e){const g={type:e.constructor.name,msg:e.message,stack:e.stack};for(const w in e)g[w]===void 0&&(g[w]=e[w]);return g}function T(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?L:C}function F(){return{}}function H(e){return e}function M(){}function L(){return!1}function C(){return Date.now()}function v(){return Math.round(Date.now()/1e3)}function P(){return new Date(Date.now()).toISOString()}function m(){function e(g){return typeof g<"u"&&g}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}},51143:function(V,f,s){"use strict";s.d(f,{IV:function(){return d},MT:function(){return O},U2:function(){return E},XP:function(){return T},ZH:function(){return S},t8:function(){return u}});function i(M){return new Promise((L,C)=>{M.oncomplete=M.onsuccess=()=>L(M.result),M.onabort=M.onerror=()=>C(M.error)})}function O(M,L){const C=indexedDB.open(M);C.onupgradeneeded=()=>C.result.createObjectStore(L);const v=i(C);return(P,m)=>v.then(e=>m(e.transaction(L,P).objectStore(L)))}let l;function A(){return l||(l=O("keyval-store","keyval")),l}function E(M,L=A()){return L("readonly",C=>i(C.get(M)))}function u(M,L,C=A()){return C("readwrite",v=>(v.put(L,M),i(v.transaction)))}function I(M,L=A()){return L("readwrite",C=>(M.forEach(v=>C.put(v[1],v[0])),i(C.transaction)))}function N(M,L=A()){return L("readonly",C=>Promise.all(M.map(v=>i(C.get(v)))))}function h(M,L,C=A()){return C("readwrite",v=>new Promise((P,m)=>{v.get(M).onsuccess=function(){try{v.put(L(this.result),M),P(i(v.transaction))}catch(e){m(e)}}}))}function d(M,L=A()){return L("readwrite",C=>(C.delete(M),i(C.transaction)))}function b(M,L=A()){return L("readwrite",C=>(M.forEach(v=>C.delete(v)),i(C.transaction)))}function S(M=A()){return M("readwrite",L=>(L.clear(),i(L.transaction)))}function U(M,L){return M.openCursor().onsuccess=function(){this.result&&(L(this.result),this.result.continue())},i(M.transaction)}function T(M=A()){return M("readonly",L=>{if(L.getAllKeys)return i(L.getAllKeys());const C=[];return U(L,v=>C.push(v.key)).then(()=>C)})}function F(M=A()){return M("readonly",L=>{if(L.getAll)return i(L.getAll());const C=[];return U(L,v=>C.push(v.value)).then(()=>C)})}function H(M=A()){return M("readonly",L=>{if(L.getAll&&L.getAllKeys)return Promise.all([i(L.getAllKeys()),i(L.getAll())]).then(([v,P])=>v.map((m,e)=>[m,P[e]]));const C=[];return M("readonly",v=>U(v,P=>C.push([P.key,P.value])).then(()=>C))})}},16966:function(V,f,s){"use strict";s.d(f,{o6:function(){return D}});const i=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,O=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,l=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function A(t,a){if(t==="__proto__"||t==="constructor"&&a&&typeof a=="object"&&"prototype"in a){E(t);return}return a}function E(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function u(t,a={}){if(typeof t!="string")return t;const R=t.trim();if(t[0]==='"'&&t.at(-1)==='"'&&!t.includes("\\"))return R.slice(1,-1);if(R.length<=9){const W=R.toLowerCase();if(W==="true")return!0;if(W==="false")return!1;if(W==="undefined")return;if(W==="null")return null;if(W==="nan")return Number.NaN;if(W==="infinity")return Number.POSITIVE_INFINITY;if(W==="-infinity")return Number.NEGATIVE_INFINITY}if(!l.test(t)){if(a.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(i.test(t)||O.test(t)){if(a.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,A)}return JSON.parse(t)}catch(W){if(a.strict)throw W;return t}}function I(t,a={}){return u(t,{...a,strict:!0})}var N=s(55872).Buffer;function h(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function d(t,...a){try{return h(t(...a))}catch(R){return Promise.reject(R)}}function b(t){const a=typeof t;return t===null||a!=="object"&&a!=="function"}function S(t){const a=Object.getPrototypeOf(t);return!a||a.isPrototypeOf(Object)}function U(t){if(b(t))return String(t);if(S(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return U(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function T(){if(typeof N===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const F="base64:";function H(t){if(typeof t=="string")return t;T();const a=N.from(t).toString("base64");return F+a}function M(t){return typeof t!="string"||!t.startsWith(F)?t:(T(),N.from(t.slice(F.length),"base64"))}const L=null;function C(t,a){if(a=m(a),!a)return t;const R={...t};for(const W of L)R[W]=($="",...x)=>t[W](a+$,...x);return R.getKeys=(W="",...$)=>t.getKeys(a+W,...$).then(x=>x.map(X=>X.slice(a.length))),R}function v(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function P(...t){return v(t.join(":"))}function m(t){return t=v(t),t?t+":":""}function e(t){return t}const g="memory",w=()=>{const t=new Map;return{name:g,options:{},hasItem(a){return t.has(a)},getItem(a){return t.get(a)??null},getItemRaw(a){return t.get(a)??null},setItem(a,R){t.set(a,R)},setItemRaw(a,R){t.set(a,R)},removeItem(a){t.delete(a)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}};function D(t={}){const a={mounts:{"":t.driver||w()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},R=c=>{for(const y of a.mountpoints)if(c.startsWith(y))return{base:y,relativeKey:c.slice(y.length),driver:a.mounts[y]};return{base:"",relativeKey:c,driver:a.mounts[""]}},W=(c,y)=>a.mountpoints.filter(p=>p.startsWith(c)||y&&c.startsWith(p)).map(p=>({relativeBase:c.length>p.length?c.slice(p.length):void 0,mountpoint:p,driver:a.mounts[p]})),$=(c,y)=>{if(a.watching){y=v(y);for(const p of a.watchListeners)p(c,y)}},x=async()=>{if(!a.watching){a.watching=!0;for(const c in a.mounts)a.unwatch[c]=await r(a.mounts[c],$,c)}},X=async()=>{if(a.watching){for(const c in a.unwatch)await a.unwatch[c]();a.unwatch={},a.watching=!1}},Z=(c,y,p)=>{const B=new Map,K=J=>{let G=B.get(J.base);return G||(G={driver:J.driver,base:J.base,items:[]},B.set(J.base,G)),G};for(const J of c){const G=typeof J=="string",k=v(G?J:J.key),Q=G?void 0:J.value,q=G||!J.options?y:{...y,...J.options},_=R(k);K(_).items.push({key:k,value:Q,relativeKey:_.relativeKey,options:q})}return Promise.all([...B.values()].map(J=>p(J))).then(J=>J.flat())},Y={hasItem(c,y={}){c=v(c);const{relativeKey:p,driver:B}=R(c);return d(B.hasItem,p,y)},getItem(c,y={}){c=v(c);const{relativeKey:p,driver:B}=R(c);return d(B.getItem,p,y).then(K=>u(K))},getItems(c,y){return Z(c,y,p=>p.driver.getItems?d(p.driver.getItems,p.items.map(B=>({key:B.relativeKey,options:B.options})),y).then(B=>B.map(K=>({key:P(p.base,K.key),value:u(K.value)}))):Promise.all(p.items.map(B=>d(p.driver.getItem,B.relativeKey,B.options).then(K=>({key:B.key,value:u(K)})))))},getItemRaw(c,y={}){c=v(c);const{relativeKey:p,driver:B}=R(c);return B.getItemRaw?d(B.getItemRaw,p,y):d(B.getItem,p,y).then(K=>M(K))},async setItem(c,y,p={}){if(y===void 0)return Y.removeItem(c);c=v(c);const{relativeKey:B,driver:K}=R(c);K.setItem&&(await d(K.setItem,B,U(y),p),K.watch||$("update",c))},async setItems(c,y){await Z(c,y,async p=>{p.driver.setItems&&await d(p.driver.setItems,p.items.map(B=>({key:B.relativeKey,value:U(B.value),options:B.options})),y),p.driver.setItem&&await Promise.all(p.items.map(B=>d(p.driver.setItem,B.relativeKey,U(B.value),B.options)))})},async setItemRaw(c,y,p={}){if(y===void 0)return Y.removeItem(c,p);c=v(c);const{relativeKey:B,driver:K}=R(c);if(K.setItemRaw)await d(K.setItemRaw,B,y,p);else if(K.setItem)await d(K.setItem,B,H(y),p);else return;K.watch||$("update",c)},async removeItem(c,y={}){typeof y=="boolean"&&(y={removeMeta:y}),c=v(c);const{relativeKey:p,driver:B}=R(c);B.removeItem&&(await d(B.removeItem,p,y),(y.removeMeta||y.removeMata)&&await d(B.removeItem,p+"$",y),B.watch||$("remove",c))},async getMeta(c,y={}){typeof y=="boolean"&&(y={nativeOnly:y}),c=v(c);const{relativeKey:p,driver:B}=R(c),K=Object.create(null);if(B.getMeta&&Object.assign(K,await d(B.getMeta,p,y)),!y.nativeOnly){const J=await d(B.getItem,p+"$",y).then(G=>u(G));J&&typeof J=="object"&&(typeof J.atime=="string"&&(J.atime=new Date(J.atime)),typeof J.mtime=="string"&&(J.mtime=new Date(J.mtime)),Object.assign(K,J))}return K},setMeta(c,y,p={}){return this.setItem(c+"$",y,p)},removeMeta(c,y={}){return this.removeItem(c+"$",y)},async getKeys(c,y={}){c=m(c);const p=W(c,!0);let B=[];const K=[];for(const J of p){const k=(await d(J.driver.getKeys,J.relativeBase,y)).map(Q=>J.mountpoint+v(Q)).filter(Q=>!B.some(q=>Q.startsWith(q)));K.push(...k),B=[J.mountpoint,...B.filter(Q=>!Q.startsWith(J.mountpoint))]}return c?K.filter(J=>J.startsWith(c)&&!J.endsWith("$")):K.filter(J=>!J.endsWith("$"))},async clear(c,y={}){c=m(c),await Promise.all(W(c,!1).map(async p=>{if(p.driver.clear)return d(p.driver.clear,p.relativeBase,y);if(p.driver.removeItem){const B=await p.driver.getKeys(p.relativeBase||"",y);return Promise.all(B.map(K=>p.driver.removeItem(K,y)))}}))},async dispose(){await Promise.all(Object.values(a.mounts).map(c=>o(c)))},async watch(c){return await x(),a.watchListeners.push(c),async()=>{a.watchListeners=a.watchListeners.filter(y=>y!==c),a.watchListeners.length===0&&await X()}},async unwatch(){a.watchListeners=[],await X()},mount(c,y){if(c=m(c),c&&a.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(a.mountpoints.push(c),a.mountpoints.sort((p,B)=>B.length-p.length)),a.mounts[c]=y,a.watching&&Promise.resolve(r(y,$,c)).then(p=>{a.unwatch[c]=p}).catch(console.error),Y},async unmount(c,y=!0){c=m(c),!(!c||!a.mounts[c])&&(a.watching&&c in a.unwatch&&(a.unwatch[c](),delete a.unwatch[c]),y&&await o(a.mounts[c]),a.mountpoints=a.mountpoints.filter(p=>p!==c),delete a.mounts[c])},getMount(c=""){c=v(c)+":";const y=R(c);return{driver:y.driver,base:y.base}},getMounts(c="",y={}){return c=v(c),W(c,y.parents).map(B=>({driver:B.driver,base:B.mountpoint}))}};return Y}async function j(t,a){a=normalizeBaseKey(a);const R=await t.getKeys(a),W={};return await Promise.all(R.map(async $=>{W[$.slice(a.length)]=await t.getItem($)})),W}async function z(t,a,R=""){R=normalizeBaseKey(R),await Promise.all(Object.entries(a).map(W=>t.setItem(R+W[0],W[1])))}function r(t,a,R){return t.watch?t.watch((W,$)=>a(W,R+$)):()=>{}}async function o(t){typeof t.dispose=="function"&&await d(t.dispose)}const n={azureAppConfiguration:"unstorage/drivers/azure-app-configuration",azureCosmos:"unstorage/drivers/azure-cosmos",azureKeyVault:"unstorage/drivers/azure-key-vault",azureStorageBlob:"unstorage/drivers/azure-storage-blob",azureStorageTable:"unstorage/drivers/azure-storage-table",cloudflareKVBinding:"unstorage/drivers/cloudflare-kv-binding",cloudflareKVHTTP:"unstorage/drivers/cloudflare-kv-http",cloudflareR2Binding:"unstorage/drivers/cloudflare-r2-binding",fs:"unstorage/drivers/fs",fsLite:"unstorage/drivers/fs-lite",github:"unstorage/drivers/github",http:"unstorage/drivers/http",indexedb:"unstorage/drivers/indexedb",localStorage:"unstorage/drivers/localstorage",lruCache:"unstorage/drivers/lru-cache",memory:"unstorage/drivers/memory",mongodb:"unstorage/drivers/mongodb",netlifyBlobs:"unstorage/drivers/netlify-blobs",overlay:"unstorage/drivers/overlay",planetscale:"unstorage/drivers/planetscale",redis:"unstorage/drivers/redis",sessionStorage:"unstorage/drivers/session-storage",vercelKV:"unstorage/drivers/vercel-kv","cloudflare-kv-binding":"unstorage/drivers/cloudflare-kv-binding","cloudflare-kv-http":"unstorage/drivers/cloudflare-kv-http"}}}]);
